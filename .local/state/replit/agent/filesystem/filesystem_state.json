{"file_contents":{"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"enhance-existing-products.js":{"content":"// Enhanced descriptions and specifications for existing products\nexport const productEnhancements = {\n  // LED Light Fixture\n  \"Professional LED Light Fixture\": {\n    description: \"Premium commercial-grade LED lighting fixture engineered for demanding industrial and commercial applications. Features advanced thermal management, superior light distribution, and exceptional energy efficiency. Built with aircraft-grade aluminum housing and rated for continuous 24/7 operation in harsh environments. Delivers consistent, flicker-free illumination with excellent color rendering (CRI >90) perfect for retail spaces, warehouses, manufacturing facilities, and office environments.\",\n    specificationList: [\n      \"LED Technology - High-efficiency Samsung LM301B diodes with 50,000+ hour lifespan\",\n      \"Light Output - 15,000 lumens at 4000K neutral white color temperature\", \n      \"Energy Efficiency - 130 lumens per watt, 80% energy savings vs fluorescent\",\n      \"Power Consumption - 115W actual draw with integrated LED driver\",\n      \"Color Rendering - CRI >90 for excellent color accuracy and visual comfort\",\n      \"Dimming Capability - 0-10V dimming compatible, smooth 1-100% range\",\n      \"Housing Material - Extruded aluminum with integrated heat sink design\",\n      \"Mounting Options - Surface mount, pendant, or chain suspension ready\",\n      \"Environmental Rating - IP65 rated for dust and water resistance\",\n      \"Operating Temperature - -40Â°F to 140Â°F ambient temperature range\",\n      \"Certifications - UL Listed, DLC Premium certified, ENERGY STAR qualified\",\n      \"Warranty Coverage - 7-year comprehensive manufacturer warranty\"\n    ]\n  },\n\n  // Construction Products\n  \"4-Gang Metal Extension Ring\": {\n    description: \"Heavy-duty galvanized steel extension ring designed for professional electrical installations requiring additional box depth. Precision-manufactured with smooth edges and pre-punched knockouts for various conduit sizes. Ideal for accommodating GFCI outlets, smart switches, or multiple wire connections in residential and commercial applications. Corrosion-resistant finish ensures long-term durability in indoor and outdoor environments.\",\n    specificationList: [\n      \"Construction Material - 16-gauge galvanized steel with zinc coating\",\n      \"Gang Configuration - 4-gang rectangular design for multiple devices\",\n      \"Extension Depth - 1/2 inch additional mounting depth capacity\",\n      \"Knockout Options - Pre-punched 1/2 inch and 3/4 inch trade size openings\",\n      \"Mounting System - Universal compatibility with standard electrical boxes\",\n      \"Finish Type - Hot-dipped galvanized coating for corrosion resistance\",\n      \"Wire Management - Internal cable management clips and routing guides\",\n      \"Installation Method - Secure screw mounting with included hardware\",\n      \"Environmental Rating - Indoor/outdoor use with proper weatherproofing\",\n      \"Load Capacity - Supports up to 4 standard electrical devices safely\",\n      \"Compliance Standards - UL Listed and meets NEC electrical code requirements\",\n      \"Professional Grade - Contractor-preferred choice for commercial installations\"\n    ]\n  },\n\n  \"Electric Baseboard Heater\": {\n    description: \"High-performance electric baseboard heater engineered for efficient zone heating in residential and light commercial applications. Features advanced convection design with integrated thermal protection and whisper-quiet operation. Constructed with heavy-gauge steel housing and precision-wound heating elements for reliable, long-lasting performance. Ideal for supplemental heating, additions, or primary heating in well-insulated spaces.\",\n    specificationList: [\n      \"Heating Capacity - 2500 watts at 240V for up to 250 square feet\",\n      \"Voltage Rating - 240V single-phase with hardwired connection\",\n      \"Thermal Efficiency - 99% electrical energy conversion to heat output\",\n      \"Heating Element - Precision-wound nichrome wire with ceramic supports\",\n      \"Housing Construction - Heavy-gauge steel with powder-coat finish\",\n      \"Safety Features - Built-in thermal cutoff and tip-over protection\",\n      \"Noise Level - Ultra-quiet convection design under 35dB operation\",\n      \"Installation Type - Wall-mounted baseboard with floor clearance\",\n      \"Control Options - Compatible with line and low-voltage thermostats\",\n      \"Environmental Rating - Indoor use with IPX1 moisture resistance\",\n      \"Operating Temperature - Maintains consistent heat in -10Â°F to 90Â°F ambient\",\n      \"Warranty Coverage - 5-year limited manufacturer warranty\"\n    ]\n  },\n\n  \"Heavy-Duty Power Cable\": {\n    description: \"Professional-grade multi-conductor power cable designed for demanding industrial and commercial electrical installations. Features THWN-2 rated conductors with superior insulation properties and excellent flexibility for easy routing. Constructed with stranded copper conductors and PVC jacket for maximum durability and code compliance. Ideal for panel feeders, motor connections, and high-current distribution applications.\",\n    specificationList: [\n      \"Conductor Material - 99.9% pure stranded copper for maximum conductivity\",\n      \"Wire Gauge - 12 AWG with 30-amp current carrying capacity\",\n      \"Insulation Type - THWN-2 rated PVC with 90Â°C temperature rating\",\n      \"Cable Configuration - 3-conductor with ground wire included\",\n      \"Jacket Material - Sunlight-resistant PVC outer jacket\",\n      \"Voltage Rating - 600V maximum operating voltage\",\n      \"Installation - Direct burial and conduit approved applications\",\n      \"Flexibility - Stranded construction for easy bending and routing\",\n      \"Color Coding - Standard black, white, red, and green wire colors\",\n      \"Environmental - Indoor/outdoor use with UV protection\",\n      \"Compliance - UL Listed and meets NEC Article 310 requirements\",\n      \"Length - Available in custom lengths up to 1000 feet\"\n    ]\n  },\n\n  // Automation Products\n  \"Smart Motion Sensor Switch\": {\n    description: \"Advanced PIR motion sensor switch with smart home integration capabilities for automated lighting control. Features adjustable sensitivity, time delay settings, and ambient light detection for optimal energy savings. Built-in Wi-Fi connectivity enables smartphone control and scheduling through dedicated mobile app. Perfect for hallways, bathrooms, storage areas, and security lighting applications.\",\n    specificationList: [\n      \"Detection Technology - Passive infrared (PIR) with 180-degree coverage\",\n      \"Detection Range - 20-foot maximum range with adjustable sensitivity\",\n      \"Time Delay - Programmable 30 seconds to 30 minutes auto-off\",\n      \"Light Sensor - Built-in photocell prevents daylight operation\",\n      \"Load Capacity - 15-amp resistive, 1/2 HP motor rating\",\n      \"Voltage Rating - 120V/277V single-pole or 3-way configuration\",\n      \"Smart Features - Wi-Fi enabled with smartphone app control\",\n      \"Installation - Standard single-gang wall box mounting\",\n      \"Wire Connections - Compatible with existing switch wiring\",\n      \"Manual Override - Physical on/off switch for manual control\",\n      \"Certifications - UL Listed and FCC approved for wireless operation\",\n      \"Operating Temperature - 14Â°F to 122Â°F ambient range\"\n    ]\n  },\n\n  \"Programmable Digital Timer\": {\n    description: \"Professional-grade digital timer switch featuring precise electronic control with battery backup and astronomic functions. Supports up to 20 programmable events with daily, weekly, and seasonal scheduling options. Large LCD display with backlight for easy programming and status monitoring. Ideal for landscape lighting, signage, water features, and automated equipment control applications.\",\n    specificationList: [\n      \"Display Type - Large LCD with blue backlight and status indicators\",\n      \"Programming - 20 individual on/off events with repeat options\",\n      \"Schedule Types - Daily, weekly, weekend, weekday, and astronomic\",\n      \"Battery Backup - 10-year lithium battery maintains programming\",\n      \"Load Rating - 40-amp resistive, 20-amp tungsten, 1000W LED\",\n      \"Voltage Range - 120V to 277V AC with auto-sensing capability\",\n      \"Random Function - Built-in security randomization feature\",\n      \"Astronomic - Automatic sunrise/sunset with geographic adjustment\",\n      \"Manual Override - Three-position switch (on/off/auto)\",\n      \"Installation - NEMA 1 enclosure or standard electrical panel\",\n      \"Environmental - -40Â°F to 185Â°F operating temperature range\",\n      \"Warranty - 5-year limited warranty with technical support\"\n    ]\n  },\n\n  // Wire Management\n  \"Professional Wire Management Kit\": {\n    description: \"Comprehensive wire organization system designed for clean, professional installations in residential and commercial environments. Includes multiple cable management solutions with adhesive backing and flexible routing options. Features premium materials resistant to temperature extremes and UV degradation. Essential for data centers, office environments, home theaters, and industrial control panels.\",\n    specificationList: [\n      \"Kit Contents - Spiral wrap, split loom, cable ties, and adhesive mounts\",\n      \"Material Quality - Flame-retardant polyethylene and nylon construction\",\n      \"Temperature Rating - -40Â°F to 185Â°F continuous operating range\",\n      \"Cable Capacity - Manages bundles from 1/4 inch to 2 inches diameter\",\n      \"Spiral Wrap - 10 feet of 1/2 inch expandable cable sheathing\",\n      \"Split Loom - 25 feet of corrugated flexible tubing protection\",\n      \"Cable Ties - 100-piece assortment in multiple sizes and colors\",\n      \"Mounting Hardware - 20 adhesive cable mounts with screw options\",\n      \"UV Resistance - Outdoor-rated materials with sunlight protection\",\n      \"Installation - No tools required for most applications\",\n      \"Applications - Data, power, and control cable organization\",\n      \"Professional Grade - Meets commercial installation standards\"\n    ]\n  }\n};\n\nconsole.log(\"Product enhancements ready for manual application through admin interface\");","size_bytes":10097},"populate-descriptions.js":{"content":"// Node.js script to populate product descriptions and specifications\nimport fs from 'fs';\nimport { MongoStorage } from './server/mongoStorage.js';\n\nconst storage = new MongoStorage();\n\nconst productEnhancements = {\n  \"Professional LED Light Fixture\": {\n    description: \"Premium commercial-grade LED lighting fixture engineered for demanding industrial and commercial applications. Features advanced thermal management, superior light distribution, and exceptional energy efficiency. Built with aircraft-grade aluminum housing and rated for continuous 24/7 operation in harsh environments. Delivers consistent, flicker-free illumination with excellent color rendering (CRI >90) perfect for retail spaces, warehouses, manufacturing facilities, and office environments.\",\n    specificationList: [\n      \"LED Technology - High-efficiency Samsung LM301B diodes with 50,000+ hour lifespan\",\n      \"Light Output - 15,000 lumens at 4000K neutral white color temperature\", \n      \"Energy Efficiency - 130 lumens per watt, 80% energy savings vs fluorescent\",\n      \"Power Consumption - 115W actual draw with integrated LED driver\",\n      \"Color Rendering - CRI >90 for excellent color accuracy and visual comfort\",\n      \"Dimming Capability - 0-10V dimming compatible, smooth 1-100% range\",\n      \"Housing Material - Extruded aluminum with integrated heat sink design\",\n      \"Mounting Options - Surface mount, pendant, or chain suspension ready\",\n      \"Environmental Rating - IP65 rated for dust and water resistance\",\n      \"Operating Temperature - -40Â°F to 140Â°F ambient temperature range\",\n      \"Certifications - UL Listed, DLC Premium certified, ENERGY STAR qualified\",\n      \"Warranty Coverage - 7-year comprehensive manufacturer warranty\"\n    ]\n  },\n\n  \"4-Gang Metal Extension Ring\": {\n    description: \"Heavy-duty galvanized steel extension ring designed for professional electrical installations requiring additional box depth. Precision-manufactured with smooth edges and pre-punched knockouts for various conduit sizes. Ideal for accommodating GFCI outlets, smart switches, or multiple wire connections in residential and commercial applications. Corrosion-resistant finish ensures long-term durability in indoor and outdoor environments.\",\n    specificationList: [\n      \"Construction Material - 16-gauge galvanized steel with zinc coating\",\n      \"Gang Configuration - 4-gang rectangular design for multiple devices\",\n      \"Extension Depth - 1/2 inch additional mounting depth capacity\",\n      \"Knockout Options - Pre-punched 1/2 inch and 3/4 inch trade size openings\",\n      \"Mounting System - Universal compatibility with standard electrical boxes\",\n      \"Finish Type - Hot-dipped galvanized coating for corrosion resistance\",\n      \"Wire Management - Internal cable management clips and routing guides\",\n      \"Installation Method - Secure screw mounting with included hardware\",\n      \"Environmental Rating - Indoor/outdoor use with proper weatherproofing\",\n      \"Load Capacity - Supports up to 4 standard electrical devices safely\",\n      \"Compliance Standards - UL Listed and meets NEC electrical code requirements\",\n      \"Professional Grade - Contractor-preferred choice for commercial installations\"\n    ]\n  },\n\n  \"Electric Baseboard Heater\": {\n    description: \"High-performance electric baseboard heater engineered for efficient zone heating in residential and light commercial applications. Features advanced convection design with integrated thermal protection and whisper-quiet operation. Constructed with heavy-gauge steel housing and precision-wound heating elements for reliable, long-lasting performance. Ideal for supplemental heating, additions, or primary heating in well-insulated spaces.\",\n    specificationList: [\n      \"Heating Capacity - 2500 watts at 240V for up to 250 square feet\",\n      \"Voltage Rating - 240V single-phase with hardwired connection\",\n      \"Thermal Efficiency - 99% electrical energy conversion to heat output\",\n      \"Heating Element - Precision-wound nichrome wire with ceramic supports\",\n      \"Housing Construction - Heavy-gauge steel with powder-coat finish\",\n      \"Safety Features - Built-in thermal cutoff and tip-over protection\",\n      \"Noise Level - Ultra-quiet convection design under 35dB operation\",\n      \"Installation Type - Wall-mounted baseboard with floor clearance\",\n      \"Control Options - Compatible with line and low-voltage thermostats\",\n      \"Environmental Rating - Indoor use with IPX1 moisture resistance\",\n      \"Operating Temperature - Maintains consistent heat in -10Â°F to 90Â°F ambient\",\n      \"Warranty Coverage - 5-year limited manufacturer warranty\"\n    ]\n  },\n\n  \"Heavy-Duty Power Cable\": {\n    description: \"Professional-grade multi-conductor power cable designed for demanding industrial and commercial electrical installations. Features THWN-2 rated conductors with superior insulation properties and excellent flexibility for easy routing. Constructed with stranded copper conductors and PVC jacket for maximum durability and code compliance. Ideal for panel feeders, motor connections, and high-current distribution applications.\",\n    specificationList: [\n      \"Conductor Material - 99.9% pure stranded copper for maximum conductivity\",\n      \"Wire Gauge - 12 AWG with 30-amp current carrying capacity\",\n      \"Insulation Type - THWN-2 rated PVC with 90Â°C temperature rating\",\n      \"Cable Configuration - 3-conductor with ground wire included\",\n      \"Jacket Material - Sunlight-resistant PVC outer jacket\",\n      \"Voltage Rating - 600V maximum operating voltage\",\n      \"Installation - Direct burial and conduit approved applications\",\n      \"Flexibility - Stranded construction for easy bending and routing\",\n      \"Color Coding - Standard black, white, red, and green wire colors\",\n      \"Environmental - Indoor/outdoor use with UV protection\",\n      \"Compliance - UL Listed and meets NEC Article 310 requirements\",\n      \"Length - Available in custom lengths up to 1000 feet\"\n    ]\n  },\n\n  \"Smart Motion Sensor Switch\": {\n    description: \"Advanced PIR motion sensor switch with smart home integration capabilities for automated lighting control. Features adjustable sensitivity, time delay settings, and ambient light detection for optimal energy savings. Built-in Wi-Fi connectivity enables smartphone control and scheduling through dedicated mobile app. Perfect for hallways, bathrooms, storage areas, and security lighting applications.\",\n    specificationList: [\n      \"Detection Technology - Passive infrared (PIR) with 180-degree coverage\",\n      \"Detection Range - 20-foot maximum range with adjustable sensitivity\",\n      \"Time Delay - Programmable 30 seconds to 30 minutes auto-off\",\n      \"Light Sensor - Built-in photocell prevents daylight operation\",\n      \"Load Capacity - 15-amp resistive, 1/2 HP motor rating\",\n      \"Voltage Rating - 120V/277V single-pole or 3-way configuration\",\n      \"Smart Features - Wi-Fi enabled with smartphone app control\",\n      \"Installation - Standard single-gang wall box mounting\",\n      \"Wire Connections - Compatible with existing switch wiring\",\n      \"Manual Override - Physical on/off switch for manual control\",\n      \"Certifications - UL Listed and FCC approved for wireless operation\",\n      \"Operating Temperature - 14Â°F to 122Â°F ambient range\"\n    ]\n  },\n\n  \"Programmable Digital Timer\": {\n    description: \"Professional-grade digital timer switch featuring precise electronic control with battery backup and astronomic functions. Supports up to 20 programmable events with daily, weekly, and seasonal scheduling options. Large LCD display with backlight for easy programming and status monitoring. Ideal for landscape lighting, signage, water features, and automated equipment control applications.\",\n    specificationList: [\n      \"Display Type - Large LCD with blue backlight and status indicators\",\n      \"Programming - 20 individual on/off events with repeat options\",\n      \"Schedule Types - Daily, weekly, weekend, weekday, and astronomic\",\n      \"Battery Backup - 10-year lithium battery maintains programming\",\n      \"Load Rating - 40-amp resistive, 20-amp tungsten, 1000W LED\",\n      \"Voltage Range - 120V to 277V AC with auto-sensing capability\",\n      \"Random Function - Built-in security randomization feature\",\n      \"Astronomic - Automatic sunrise/sunset with geographic adjustment\",\n      \"Manual Override - Three-position switch (on/off/auto)\",\n      \"Installation - NEMA 1 enclosure or standard electrical panel\",\n      \"Environmental - -40Â°F to 185Â°F operating temperature range\",\n      \"Warranty - 5-year limited warranty with technical support\"\n    ]\n  },\n\n  \"Professional Wire Management Kit\": {\n    description: \"Comprehensive wire organization system designed for clean, professional installations in residential and commercial environments. Includes multiple cable management solutions with adhesive backing and flexible routing options. Features premium materials resistant to temperature extremes and UV degradation. Essential for data centers, office environments, home theaters, and industrial control panels.\",\n    specificationList: [\n      \"Kit Contents - Spiral wrap, split loom, cable ties, and adhesive mounts\",\n      \"Material Quality - Flame-retardant polyethylene and nylon construction\",\n      \"Temperature Rating - -40Â°F to 185Â°F continuous operating range\",\n      \"Cable Capacity - Manages bundles from 1/4 inch to 2 inches diameter\",\n      \"Spiral Wrap - 10 feet of 1/2 inch expandable cable sheathing\",\n      \"Split Loom - 25 feet of corrugated flexible tubing protection\",\n      \"Cable Ties - 100-piece assortment in multiple sizes and colors\",\n      \"Mounting Hardware - 20 adhesive cable mounts with screw options\",\n      \"UV Resistance - Outdoor-rated materials with sunlight protection\",\n      \"Installation - No tools required for most applications\",\n      \"Applications - Data, power, and control cable organization\",\n      \"Professional Grade - Meets commercial installation standards\"\n    ]\n  }\n};\n\nasync function updateAllProductDescriptions() {\n  try {\n    console.log('Starting product description enhancement...');\n    const products = await storage.getProducts();\n    \n    let updateCount = 0;\n    for (const product of products) {\n      // Find matching enhancement by checking if product name contains key terms\n      let enhancement = null;\n      for (const [key, value] of Object.entries(productEnhancements)) {\n        if (product.name.toLowerCase().includes(key.toLowerCase()) || \n            key.toLowerCase().includes(product.name.toLowerCase())) {\n          enhancement = value;\n          break;\n        }\n      }\n      \n      if (enhancement) {\n        await storage.updateProduct(product._id, {\n          description: enhancement.description,\n          specificationList: enhancement.specificationList\n        });\n        console.log(`âœ… Updated: ${product.name}`);\n        updateCount++;\n      }\n    }\n    \n    console.log(`\\nðŸŽ‰ Successfully enhanced ${updateCount} products with rich descriptions and specifications!`);\n    \n  } catch (error) {\n    console.error('Error updating products:', error);\n  }\n}\n\nupdateAllProductDescriptions();","size_bytes":11184},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"replit.md":{"content":"# ElectroLight - Electrical Products Catalog\n\n## Overview\n\nElectroLight is a modern e-commerce web application for electrical products and components. It provides a comprehensive catalog with category-based browsing, product search, and a secure admin panel for inventory management. The application serves both customers looking for electrical supplies and administrators managing the product catalog and customer inquiries.\n\n## Recent Changes (January 2025)\n\nâœ“ **Brand & Category Management System**: Complete CRUD operations for brands and categories with database persistence and UI synchronization\nâœ“ **FontAwesome Icon Search**: Comprehensive searchable icon library with 150+ electrical-themed icons and smart keyword matching\nâœ“ **Brand Synchronization**: Perfect brand consistency across admin, product forms, homepage, and filtering systems\nâœ“ **Dynamic Brand Integration**: Replaced hardcoded brands with database-driven system supporting King Electric, Schneider Electric, etc.\nâœ“ **Advanced Icon Filtering**: Smart search with electrical keywords (light, electric, wire, safety, tool, etc.) and multi-category organization\nâœ“ **Projects System Implementation**: Complete projects showcase system with individual project pages, media galleries, product relationships, and admin management\nâœ“ **Projects Navigation Fixed**: Corrected routing issues for both header navigation and \"View Project\" buttons across the site\nâœ“ **Projects API & Database**: Full CRUD operations for projects with MongoDB backend and proper seeding system\nâœ“ **Product-Project Integration**: Projects now show which electrical products were used, linking to product detail pages\nâœ“ **Project Filtering & Search**: Projects page includes category filtering and search functionality\nâœ“ **Product Detail Pages & No-Price Architecture**: Completely removed all pricing from the application and created comprehensive product detail pages with specifications, accessories, and similar product recommendations\nâœ“ **Schema Restructuring**: Major database schema update - removed price field entirely and added accessories/similarProducts arrays for product relationships\nâœ“ **Enhanced Product Navigation**: Added dedicated product detail pages accessible via /product/:id with full specifications, multiple images, and related products\nâœ“ **Accessories System**: Created product relationship system where products can have associated accessories and similar product recommendations\nâœ“ **Professional Accessories Tables**: Implemented table-based layout for accessories and related products matching professional specification sheets with product images, names, model numbers, and descriptions\nâœ“ **Admin Accessories Management**: Added comprehensive accessories and similar products management in admin panel with dropdown selection and visual tag management\nâœ“ **Product Modal Cleanup**: Removed redundant Featured badges, brand names, and In Stock status from product popup for cleaner interface\nâœ“ **Eye Icon Quick Look**: Added small eye icon for quick product preview functionality near favorites button\nâœ“ **Category Terminology**: Replaced all \"client type\" references with \"category\" throughout entire application for consistency\nâœ“ **Projects Category Filter**: Added category dropdown filter back to projects page alongside search functionality  \nâœ“ **Clean Project Images**: Removed category badge overlays from project carousel images for cleaner visual presentation\nâœ“ **Wider Layout for Big Screens**: Updated max-width from 1280px to 1400px across all components for better use of large displays\nâœ“ **Contact Number in Header**: Added phone number (555) 123-4567 with phone icon in top right header for easy customer contact\nâœ“ **Admin Dashboard Mobile Optimization**: Complete mobile responsiveness with condensed tables, stacked layouts, and touch-friendly controls\nâœ“ **Mobile Table Design**: Smart column hiding and info consolidation for mobile-friendly admin product and contact management\nâœ“ **Admin Login Fixed**: Resolved MongoDB ID mapping issue - admin authentication now works perfectly\nâœ“ **Admin Product Management Enhanced**: Complete filtering, search, and featured product management system\nâœ“ **Featured Products System**: Only selected products (LED Fixture, Motion Sensor, Wire Management) are featured\nâœ“ **Database Persistence Fixed**: Resolved critical seeding issue - uploaded images and custom product data now persist through application restarts\nâœ“ **Removed Stock Tracking**: Eliminated \"In Stock\" displays and replaced with Featured/Regular status system\nâœ“ **Admin Filtering & Search**: Advanced product filtering by brand, category, and search with live count updates\nâœ“ **Enhanced File Upload**: Improved 5MB limit handling with proper error messages and validation\nâœ“ **Product Update Issues Fixed**: Resolved \"PUT /api/products/undefined\" error with proper ID mapping\nâœ“ **Smart Product Counts**: Category sidebar now shows filtered counts based on current brand/search selection\nâœ“ **Enhanced Brand System**: Complete brand integration with exact filtering and admin brand column\nâœ“ **Brand Display Fix**: Product page titles now show selected brand name instead of \"All Products\"\nâœ“ **Admin Brand Management**: Added brand field to admin form and brand column to products table\nâœ“ **Dynamic Filtering**: Product counts update correctly when filtering by category, brand, or search\nâœ“ **Professional Brand Names**: All products assigned authentic electrical manufacturer brands\nâœ“ **Schema Validation Fixed**: Made specifications field optional in schema to prevent admin form validation errors\nâœ“ **Specification Table System**: Complete implementation of clean 2-column specification tables for all products and accessories\nâœ“ **Admin Dashboard Streamlined**: Removed redundant Technical Specifications text field, now only manages specification table items\nâœ“ **Comprehensive Accessories Specs**: Added detailed specification table data for all 8 accessories with 6-7 specifications each\nâœ“ **Product Detail Layout**: Product images positioned on left with descriptions on right as requested\nâœ“ **Admin Interface Enhanced**: Clear helper text for \"Feature - Detail\" format specification table entry\nâœ“ **Separate Products Page**: Created dedicated /products page for comprehensive product browsing\nâœ“ **Featured Products Homepage**: Homepage now shows only featured products with \"Load More\" button\nâœ“ **Fixed Categories Grid**: Categories displayed as permanent grid (not expandable) with direct links\nâœ“ **Brand Filtering**: Added brand selection dropdown in header with popular electrical brands\nâœ“ **Search Navigation**: Search results redirect to dedicated products page with filters\nâœ“ **Logo Integration**: Beautiful ElectroLight logo integrated throughout website (header, hero, admin, footer)\nâœ“ **Cloudinary Integration**: Professional image upload system for real product photos via admin panel\nâœ“ **Enhanced Admin Panel**: File upload functionality with image preview and Cloudinary cloud storage\nâœ“ **Google Maps Integration**: Embedded interactive map showing actual business location in contact section\nâœ“ **Admin Authentication System**: Added session-based authentication to secure admin portal access\nâœ“ **Admin Login Page**: Created dedicated login page with demo credentials for owner access\nâœ“ **Protected Routes**: All admin functionality now requires authentication (product management, contact messages)\nâœ“ **Session Management**: Implemented secure session handling with logout functionality\nâœ“ **Admin User Management**: Created admin user schema and password hashing with bcryptjs\nâœ“ **Favorites System**: Replaced cart functionality with favorites using heart icons and local storage\nâœ“ **Favorites Modal**: Added comprehensive favorites management with product grid view\nâœ“ **Product Modal Update**: Replaced \"Add to Cart\" with \"Add to Favorites\" button\nâœ“ **MongoDB Integration**: Connected application to MongoDB Atlas database for persistent data storage\nâœ“ **Real-time Favorites**: Implemented React Context for instant favorites updates across all components\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\nThe client is built as a React Single Page Application (SPA) using:\n- **React 18** with TypeScript for component development\n- **Wouter** for lightweight client-side routing (Home, Admin, 404 pages)\n- **TanStack Query** for server state management and API caching\n- **shadcn/ui** component library built on Radix UI primitives for consistent design\n- **Tailwind CSS** for utility-first styling with custom design tokens\n- **Vite** as the build tool and development server\n\nThe frontend follows a component-based architecture with separate pages for public catalog browsing and admin management. State management is handled through React Query for server data and local component state for UI interactions.\n\n### Backend Architecture\nThe server uses a minimal Express.js setup with:\n- **Express.js** RESTful API with JSON endpoints\n- **TypeScript** throughout the entire stack\n- **Zod** for runtime schema validation and type generation\n- **In-memory storage** with a seeded data implementation for development\n- Structured routing with proper error handling and request logging\n\nThe backend implements a clean separation between route handlers, storage abstraction, and schema validation. The storage layer uses an interface pattern to allow easy swapping between in-memory and database implementations.\n\n### Data Layer\nNow uses MongoDB Atlas cloud database with:\n- **MongoDB Atlas Integration**: Connected to cloud-hosted MongoDB cluster for persistent data storage\n- **Mongoose ODM**: Object Document Mapping for schema definition and data validation\n- **Automatic Seeding**: Seeds initial data for categories, products, and admin users on startup\n- **Type-Safe Operations**: Full storage interface implementation with TypeScript types\n- **Session Storage**: Secure admin authentication with MongoDB session persistence\n\nThe schema is defined using Mongoose with proper TypeScript integration, including collections for categories, products, contact messages, and admin users. All data persists between application restarts.\n\n### Component Architecture\nThe UI is built with reusable, accessible components:\n- **Radix UI primitives** for complex interactive components (dialogs, dropdowns, etc.)\n- **Custom business components** for domain-specific functionality (ProductGrid, Sidebar, etc.)\n- **shadcn/ui components** for consistent styling and behavior\n- **Responsive design** with mobile-first approach using Tailwind breakpoints\n\n### API Design\nRESTful endpoints following standard conventions:\n- `GET /api/categories` - Retrieve all product categories\n- `GET /api/products` - Retrieve products with optional category filtering\n- `GET /api/products/:id` - Retrieve specific product details\n- `POST /api/products` - Create new products (admin)\n- `POST /api/contact` - Submit customer contact messages\n\nAll endpoints use JSON for request/response bodies with proper HTTP status codes and error handling.\n\n## External Dependencies\n\n### Database Integration\n- **Drizzle ORM** for database schema definition and migrations\n- **@neondatabase/serverless** for PostgreSQL connection (configured but not actively used)\n- **PostgreSQL** database support configured through environment variables\n\n### UI Framework\n- **Radix UI** primitives for accessible, unstyled components\n- **Lucide React** for consistent iconography\n- **Tailwind CSS** for utility-first styling\n- **class-variance-authority** for component variant management\n\n### Development Tools\n- **Vite** for fast development and optimized builds\n- **TypeScript** for type safety across the full stack\n- **ESBuild** for server-side bundling in production\n- **PostCSS** with Autoprefixer for CSS processing\n\n### File Upload\n- **Multer** middleware for handling multipart form data and file uploads\n\n### Session Management\n- **connect-pg-simple** for PostgreSQL session storage (configured for future use)\n\n### Validation & Forms\n- **Zod** for runtime schema validation\n- **React Hook Form** with **@hookform/resolvers** for form state management\n- **drizzle-zod** for automatic schema to validation conversion","size_bytes":12382},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\",\n      },\n      colors: {\n        background: \"var(--background)\",\n        foreground: \"var(--foreground)\",\n        card: {\n          DEFAULT: \"var(--card)\",\n          foreground: \"var(--card-foreground)\",\n        },\n        popover: {\n          DEFAULT: \"var(--popover)\",\n          foreground: \"var(--popover-foreground)\",\n        },\n        primary: {\n          DEFAULT: \"var(--primary)\",\n          foreground: \"var(--primary-foreground)\",\n          dark: \"var(--primary-dark)\",\n          light: \"var(--primary-light)\",\n        },\n        secondary: {\n          DEFAULT: \"var(--secondary)\",\n          foreground: \"var(--secondary-foreground)\",\n        },\n        muted: {\n          DEFAULT: \"var(--muted)\",\n          foreground: \"var(--muted-foreground)\",\n        },\n        accent: {\n          DEFAULT: \"var(--accent)\",\n          foreground: \"var(--accent-foreground)\",\n        },\n        destructive: {\n          DEFAULT: \"var(--destructive)\",\n          foreground: \"var(--destructive-foreground)\",\n        },\n        border: \"var(--border)\",\n        input: \"var(--input)\",\n        ring: \"var(--ring)\",\n        chart: {\n          \"1\": \"var(--chart-1)\",\n          \"2\": \"var(--chart-2)\",\n          \"3\": \"var(--chart-3)\",\n          \"4\": \"var(--chart-4)\",\n          \"5\": \"var(--chart-5)\",\n        },\n        sidebar: {\n          DEFAULT: \"var(--sidebar)\",\n          foreground: \"var(--sidebar-foreground)\",\n          primary: \"var(--sidebar-primary)\",\n          \"primary-foreground\": \"var(--sidebar-primary-foreground)\",\n          accent: \"var(--sidebar-accent)\",\n          \"accent-foreground\": \"var(--sidebar-accent-foreground)\",\n          border: \"var(--sidebar-border)\",\n          ring: \"var(--sidebar-ring)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n        inter: [\"Inter\", \"sans-serif\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: {\n            height: \"0\",\n          },\n          to: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n        },\n        \"accordion-up\": {\n          from: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n          to: {\n            height: \"0\",\n          },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":2875},"update-product-content.js":{"content":"// Direct MongoDB update script for product descriptions and specifications\n// This bypasses the API and updates the database directly\nimport { MongoClient } from 'mongodb';\n\nconst MONGODB_URI = \"mongodb+srv://electrolight:ZSyqBLrAjkTNx3Gv@electrolight.ikzyr.mongodb.net/electrolight?retryWrites=true&w=majority\";\n\nconst productEnhancements = [\n  {\n    productName: \"Professional LED Light Fixture\",\n    updates: {\n      description: \"Premium commercial-grade LED lighting fixture engineered for demanding industrial and commercial applications. Features advanced thermal management, superior light distribution, and exceptional energy efficiency. Built with aircraft-grade aluminum housing and rated for continuous 24/7 operation in harsh environments. Delivers consistent, flicker-free illumination with excellent color rendering (CRI >90) perfect for retail spaces, warehouses, manufacturing facilities, and office environments.\",\n      specificationList: [\n        \"LED Technology - High-efficiency Samsung LM301B diodes with 50,000+ hour lifespan\",\n        \"Light Output - 15,000 lumens at 4000K neutral white color temperature\", \n        \"Energy Efficiency - 130 lumens per watt, 80% energy savings vs fluorescent\",\n        \"Power Consumption - 115W actual draw with integrated LED driver\",\n        \"Color Rendering - CRI >90 for excellent color accuracy and visual comfort\",\n        \"Dimming Capability - 0-10V dimming compatible, smooth 1-100% range\",\n        \"Housing Material - Extruded aluminum with integrated heat sink design\",\n        \"Mounting Options - Surface mount, pendant, or chain suspension ready\",\n        \"Environmental Rating - IP65 rated for dust and water resistance\",\n        \"Operating Temperature - -40Â°F to 140Â°F ambient temperature range\",\n        \"Certifications - UL Listed, DLC Premium certified, ENERGY STAR qualified\",\n        \"Warranty Coverage - 7-year comprehensive manufacturer warranty\"\n      ]\n    }\n  },\n  {\n    productName: \"Heavy Duty Extension Ring\",\n    updates: {\n      description: \"Heavy-duty galvanized steel extension ring designed for professional electrical installations requiring additional box depth. Precision-manufactured with smooth edges and pre-punched knockouts for various conduit sizes. Ideal for accommodating GFCI outlets, smart switches, or multiple wire connections in residential and commercial applications. Corrosion-resistant finish ensures long-term durability in indoor and outdoor environments.\",\n      specificationList: [\n        \"Construction Material - 16-gauge galvanized steel with zinc coating\",\n        \"Gang Configuration - 4-gang rectangular design for multiple devices\",\n        \"Extension Depth - 1/2 inch additional mounting depth capacity\",\n        \"Knockout Options - Pre-punched 1/2 inch and 3/4 inch trade size openings\",\n        \"Mounting System - Universal compatibility with standard electrical boxes\",\n        \"Finish Type - Hot-dipped galvanized coating for corrosion resistance\",\n        \"Wire Management - Internal cable management clips and routing guides\",\n        \"Installation Method - Secure screw mounting with included hardware\",\n        \"Environmental Rating - Indoor/outdoor use with proper weatherproofing\",\n        \"Load Capacity - Supports up to 4 standard electrical devices safely\",\n        \"Compliance Standards - UL Listed and meets NEC electrical code requirements\",\n        \"Professional Grade - Contractor-preferred choice for commercial installations\"\n      ]\n    }\n  },\n  {\n    productName: \"Electric Baseboard Heater\",\n    updates: {\n      description: \"High-performance electric baseboard heater engineered for efficient zone heating in residential and light commercial applications. Features advanced convection design with integrated thermal protection and whisper-quiet operation. Constructed with heavy-gauge steel housing and precision-wound heating elements for reliable, long-lasting performance. Ideal for supplemental heating, additions, or primary heating in well-insulated spaces.\",\n      specificationList: [\n        \"Heating Capacity - 2500 watts at 240V for up to 250 square feet\",\n        \"Voltage Rating - 240V single-phase with hardwired connection\",\n        \"Thermal Efficiency - 99% electrical energy conversion to heat output\",\n        \"Heating Element - Precision-wound nichrome wire with ceramic supports\",\n        \"Housing Construction - Heavy-gauge steel with powder-coat finish\",\n        \"Safety Features - Built-in thermal cutoff and tip-over protection\",\n        \"Noise Level - Ultra-quiet convection design under 35dB operation\",\n        \"Installation Type - Wall-mounted baseboard with floor clearance\",\n        \"Control Options - Compatible with line and low-voltage thermostats\",\n        \"Environmental Rating - Indoor use with IPX1 moisture resistance\",\n        \"Operating Temperature - Maintains consistent heat in -10Â°F to 90Â°F ambient\",\n        \"Warranty Coverage - 5-year limited manufacturer warranty\"\n      ]\n    }\n  },\n  {\n    productName: \"Commercial Grade PVC Pipe\",\n    updates: {\n      description: \"Professional-grade multi-conductor power cable designed for demanding industrial and commercial electrical installations. Features THWN-2 rated conductors with superior insulation properties and excellent flexibility for easy routing. Constructed with stranded copper conductors and PVC jacket for maximum durability and code compliance. Ideal for panel feeders, motor connections, and high-current distribution applications.\",\n      specificationList: [\n        \"Conductor Material - 99.9% pure stranded copper for maximum conductivity\",\n        \"Wire Gauge - 12 AWG with 30-amp current carrying capacity\",\n        \"Insulation Type - THWN-2 rated PVC with 90Â°C temperature rating\",\n        \"Cable Configuration - 3-conductor with ground wire included\",\n        \"Jacket Material - Sunlight-resistant PVC outer jacket\",\n        \"Voltage Rating - 600V maximum operating voltage\",\n        \"Installation - Direct burial and conduit approved applications\",\n        \"Flexibility - Stranded construction for easy bending and routing\",\n        \"Color Coding - Standard black, white, red, and green wire colors\",\n        \"Environmental - Indoor/outdoor use with UV protection\",\n        \"Compliance - UL Listed and meets NEC Article 310 requirements\",\n        \"Length - Available in custom lengths up to 1000 feet\"\n      ]\n    }\n  },\n  {\n    productName: \"Industrial Wire Management\",\n    updates: {\n      description: \"Comprehensive wire organization system designed for clean, professional installations in residential and commercial environments. Includes multiple cable management solutions with adhesive backing and flexible routing options. Features premium materials resistant to temperature extremes and UV degradation. Essential for data centers, office environments, home theaters, and industrial control panels.\",\n      specificationList: [\n        \"Kit Contents - Spiral wrap, split loom, cable ties, and adhesive mounts\",\n        \"Material Quality - Flame-retardant polyethylene and nylon construction\",\n        \"Temperature Rating - -40Â°F to 185Â°F continuous operating range\",\n        \"Cable Capacity - Manages bundles from 1/4 inch to 2 inches diameter\",\n        \"Spiral Wrap - 10 feet of 1/2 inch expandable cable sheathing\",\n        \"Split Loom - 25 feet of corrugated flexible tubing protection\",\n        \"Cable Ties - 100-piece assortment in multiple sizes and colors\",\n        \"Mounting Hardware - 20 adhesive cable mounts with screw options\",\n        \"UV Resistance - Outdoor-rated materials with sunlight protection\",\n        \"Installation - No tools required for most applications\",\n        \"Applications - Data, power, and control cable organization\",\n        \"Professional Grade - Meets commercial installation standards\"\n      ]\n    }\n  }\n];\n\nasync function updateProductDescriptions() {\n  const client = new MongoClient(MONGODB_URI, {\n    tls: true,\n    tlsAllowInvalidCertificates: false,\n    tlsAllowInvalidHostnames: false\n  });\n  \n  try {\n    console.log('ðŸ”— Connecting to MongoDB...');\n    await client.connect();\n    \n    const db = client.db('electrolight');\n    const products = db.collection('products');\n    \n    console.log('ðŸ“¦ Updating product descriptions and specifications...');\n    \n    let updateCount = 0;\n    for (const enhancement of productEnhancements) {\n      // Find products that contain the key terms from the product name\n      const searchTerms = enhancement.productName.toLowerCase().split(' ');\n      const query = {\n        $or: searchTerms.map(term => ({\n          name: { $regex: term, $options: 'i' }\n        }))\n      };\n      \n      const result = await products.updateMany(query, {\n        $set: enhancement.updates\n      });\n      \n      if (result.modifiedCount > 0) {\n        console.log(`âœ… Updated ${result.modifiedCount} product(s) matching \"${enhancement.productName}\"`);\n        updateCount += result.modifiedCount;\n      }\n    }\n    \n    console.log(`\\nðŸŽ‰ Successfully enhanced ${updateCount} products with rich descriptions and specifications!`);\n    \n  } catch (error) {\n    console.error('âŒ Error updating products:', error);\n  } finally {\n    await client.close();\n    console.log('ðŸ”Œ Database connection closed');\n  }\n}\n\nupdateProductDescriptions();","size_bytes":9302},"update-products-descriptions.js":{"content":"// Script to update product descriptions and specifications without reseeding\nimport { MongoClient } from 'mongodb';\n\nconst MONGODB_URI = process.env.MONGODB_URI || \"mongodb+srv://electrolight:ZSyqBLrAjkTNx3Gv@electrolight.ikzyr.mongodb.net/electrolight?retryWrites=true&w=majority\";\n\nconst productUpdates = [\n  {\n    name: \"Professional LED Light Fixture\",\n    description: \"Premium commercial-grade LED lighting fixture engineered for demanding industrial and commercial applications. Features advanced thermal management, superior light distribution, and exceptional energy efficiency. Built with aircraft-grade aluminum housing and rated for continuous 24/7 operation in harsh environments. Delivers consistent, flicker-free illumination with excellent color rendering (CRI >90) perfect for retail spaces, warehouses, manufacturing facilities, and office environments.\",\n    specificationList: [\n      \"LED Technology - High-efficiency Samsung LM301B diodes with 50,000+ hour lifespan\",\n      \"Light Output - 15,000 lumens at 4000K neutral white color temperature\", \n      \"Energy Efficiency - 130 lumens per watt, 80% energy savings vs fluorescent\",\n      \"Power Consumption - 115W actual draw with integrated LED driver\",\n      \"Color Rendering - CRI >90 for excellent color accuracy and visual comfort\",\n      \"Dimming Capability - 0-10V dimming compatible, smooth 1-100% range\",\n      \"Housing Material - Extruded aluminum with integrated heat sink design\",\n      \"Mounting Options - Surface mount, pendant, or chain suspension ready\",\n      \"Environmental Rating - IP65 rated for dust and water resistance\",\n      \"Operating Temperature - -40Â°F to 140Â°F ambient temperature range\",\n      \"Certifications - UL Listed, DLC Premium certified, ENERGY STAR qualified\",\n      \"Warranty Coverage - 7-year comprehensive manufacturer warranty\"\n    ]\n  },\n  {\n    name: \"4-Gang Metal Extension Ring\",\n    description: \"Heavy-duty galvanized steel extension ring designed for professional electrical installations requiring additional box depth. Precision-manufactured with smooth edges and pre-punched knockouts for various conduit sizes. Ideal for accommodating GFCI outlets, smart switches, or multiple wire connections in residential and commercial applications. Corrosion-resistant finish ensures long-term durability in indoor and outdoor environments.\",\n    specificationList: [\n      \"Construction Material - 16-gauge galvanized steel with zinc coating\",\n      \"Gang Configuration - 4-gang rectangular design for multiple devices\",\n      \"Extension Depth - 1/2 inch additional mounting depth capacity\",\n      \"Knockout Options - Pre-punched 1/2 inch and 3/4 inch trade size openings\",\n      \"Mounting System - Universal compatibility with standard electrical boxes\",\n      \"Finish Type - Hot-dipped galvanized coating for corrosion resistance\",\n      \"Wire Management - Internal cable management clips and routing guides\",\n      \"Installation Method - Secure screw mounting with included hardware\",\n      \"Environmental Rating - Indoor/outdoor use with proper weatherproofing\",\n      \"Load Capacity - Supports up to 4 standard electrical devices safely\",\n      \"Compliance Standards - UL Listed and meets NEC electrical code requirements\",\n      \"Professional Grade - Contractor-preferred choice for commercial installations\"\n    ]\n  },\n  {\n    name: \"Electric Baseboard Heater - 2500W\",\n    description: \"High-performance electric baseboard heater engineered for efficient zone heating in residential and light commercial applications. Features advanced convection design with integrated thermal protection and whisper-quiet operation. Constructed with heavy-gauge steel housing and precision-wound heating elements for reliable, long-lasting performance. Ideal for supplemental heating, additions, or primary heating in well-insulated spaces.\",\n    specificationList: [\n      \"Heating Capacity - 2500 watts at 240V for up to 250 square feet\",\n      \"Voltage Rating - 240V single-phase with hardwired connection\",\n      \"Thermal Efficiency - 99% electrical energy conversion to heat output\",\n      \"Heating Element - Precision-wound nichrome wire with ceramic supports\",\n      \"Housing Construction - Heavy-gauge steel with powder-coat finish\",\n      \"Safety Features - Built-in thermal cutoff and tip-over protection\",\n      \"Noise Level - Ultra-quiet convection design under 35dB operation\",\n      \"Installation Type - Wall-mounted baseboard with floor clearance\",\n      \"Control Options - Compatible with line and low-voltage thermostats\",\n      \"Environmental Rating - Indoor use with IPX1 moisture resistance\",\n      \"Operating Temperature - Maintains consistent heat in -10Â°F to 90Â°F ambient\",\n      \"Warranty Coverage - 5-year limited manufacturer warranty\"\n    ]\n  }\n];\n\nasync function updateProductDescriptions() {\n  const client = new MongoClient(MONGODB_URI);\n  \n  try {\n    await client.connect();\n    const db = client.db('electrolight');\n    const products = db.collection('products');\n    \n    for (const update of productUpdates) {\n      const result = await products.updateOne(\n        { name: { $regex: update.name, $options: 'i' } },\n        { \n          $set: { \n            description: update.description,\n            specificationList: update.specificationList\n          }\n        }\n      );\n      console.log(`Updated ${update.name}: ${result.modifiedCount} document(s)`);\n    }\n    \n  } finally {\n    await client.close();\n  }\n}\n\nupdateProductDescriptions().catch(console.error);","size_bytes":5515},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","size_bytes":971},"server/cloudinary.ts":{"content":"import { v2 as cloudinary } from 'cloudinary';\n\n// Configure Cloudinary\ncloudinary.config({\n  cloud_name: process.env.CLOUDINARY_NAME || 'dexmtnln9',\n  api_key: process.env.CLOUDINARY_API_KEY || '799136312642196',\n  api_secret: process.env.CLOUDINARY_SECRET_KEY || 'rVPa-59JpMBokZ5wCAtId8Hsvkc',\n});\n\nexport default cloudinary;\n\nexport const uploadToCloudinary = async (file: Buffer, fileName: string): Promise<string> => {\n  return new Promise((resolve, reject) => {\n    cloudinary.uploader.upload_stream(\n      {\n        resource_type: 'image',\n        public_id: `electrolight/products/${fileName}`,\n        folder: 'electrolight/products',\n        transformation: [\n          { width: 800, height: 800, crop: 'fill', quality: 'auto' },\n        ],\n      },\n      (error, result) => {\n        if (error) {\n          reject(error);\n        } else {\n          resolve(result?.secure_url || '');\n        }\n      }\n    ).end(file);\n  });\n};\n\n// New flexible media upload function for images and videos\nexport const uploadMediaToCloudinary = async (\n  file: Buffer, \n  fileName: string, \n  fileType: string,\n  folder: string = 'electrolight/projects'\n): Promise<string> => {\n  return new Promise((resolve, reject) => {\n    // Determine if this is a video or image\n    const isVideo = fileType.startsWith('video/');\n    \n    const uploadOptions: any = {\n      resource_type: isVideo ? 'video' : 'image',\n      public_id: `${folder}/${fileName}`,\n      folder: folder,\n    };\n\n    // Add transformations based on media type\n    if (isVideo) {\n      uploadOptions.eager = [\n        { width: 1280, height: 720, crop: 'limit', quality: 'auto', format: 'mp4' }\n      ];\n      uploadOptions.eager_async = true;\n    } else {\n      uploadOptions.transformation = [\n        { width: 1200, height: 800, crop: 'limit', quality: 'auto' }\n      ];\n    }\n\n    cloudinary.uploader.upload_stream(\n      uploadOptions,\n      (error, result) => {\n        if (error) {\n          console.error('Cloudinary upload error:', error);\n          reject(error);\n        } else {\n          resolve(result?.secure_url || '');\n        }\n      }\n    ).end(file);\n  });\n};","size_bytes":2136},"server/db.ts":{"content":"import mongoose from 'mongoose';\n\nconst MONGODB_URI = process.env.MONGODB_URI || 'mongodb+srv://navdeep:brarbrar@electrolight.ikzyr.mongodb.net/electrolight';\n\nlet isConnected = false;\n\nexport async function connectToDatabase() {\n  if (isConnected) {\n    return;\n  }\n\n  try {\n    const connection = await mongoose.connect(MONGODB_URI);\n    isConnected = true;\n    console.log('âœ… Connected to MongoDB:', connection.connection.host);\n  } catch (error) {\n    console.error('âŒ MongoDB connection error:', error);\n    throw error;\n  }\n}\n\n// Handle connection events\nmongoose.connection.on('connected', () => {\n  console.log('MongoDB connected');\n});\n\nmongoose.connection.on('error', (err) => {\n  console.error('MongoDB connection error:', err);\n});\n\nmongoose.connection.on('disconnected', () => {\n  console.log('MongoDB disconnected');\n  isConnected = false;\n});\n\n// Graceful shutdown\nprocess.on('SIGINT', async () => {\n  await mongoose.connection.close();\n  console.log('MongoDB connection closed through app termination');\n  process.exit(0);\n});","size_bytes":1046},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\nimport { connectToDatabase } from \"./db\";\n\nconst app = express();\napp.use(express.json({ limit: '10mb' }));\napp.use(express.urlencoded({ extended: false, limit: '10mb' }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"â€¦\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  // Connect to MongoDB\n  await connectToDatabase();\n  \n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","size_bytes":2196},"server/models.ts":{"content":"import mongoose, { Schema, Document } from 'mongoose';\nimport { randomUUID } from 'crypto';\nimport type { Category, Product, ContactMessage, AdminUser, Accessory } from '@shared/schema';\n\n// Category Schema\nconst categorySchema = new Schema({\n  _id: { type: String, required: true },\n  name: { type: String, required: true },\n  slug: { type: String, required: true, unique: true },\n  imageUrl: { type: String, required: true },\n}, { \n  timestamps: false,\n  _id: false \n});\n\ncategorySchema.set('toJSON', {\n  transform: function(doc: any, ret: any) {\n    ret.id = ret._id;\n    delete ret._id;\n    delete ret.__v;\n    return ret;\n  }\n});\n\n// Product Schema\nconst productSchema = new Schema({\n  _id: { type: String, required: true },\n  name: { type: String, required: true },\n  description: { type: String, required: true },\n  specifications: { type: String, required: false }, // Separate specifications field\n  specificationList: [{ type: String }], // Array for table specifications\n  imageUrl: { type: String, required: true }, // Primary image\n  imageUrls: [{ type: String }], // Additional images\n  categorySlug: { type: String, required: true },\n  brand: { type: String },\n  inStock: { type: Boolean, default: true },\n  featured: { type: Boolean, default: false },\n  accessories: [{ type: String }], // Array of accessory IDs\n  similarProducts: [{ type: String }], // Array of similar product IDs\n}, { \n  timestamps: false,\n  _id: false \n});\n\nproductSchema.set('toJSON', {\n  transform: function(doc: any, ret: any) {\n    ret.id = ret._id;\n    delete ret._id;\n    delete ret.__v;\n    return ret;\n  }\n});\n\n// Contact Message Schema\nconst contactMessageSchema = new Schema({\n  _id: { type: String, required: true },\n  firstName: { type: String, required: true },\n  lastName: { type: String, required: true },\n  email: { type: String, required: true },\n  phone: { type: String },\n  message: { type: String, required: true },\n  submittedAt: { type: String, required: true },\n}, { \n  timestamps: false,\n  _id: false \n});\n\ncontactMessageSchema.set('toJSON', {\n  transform: function(doc: any, ret: any) {\n    ret.id = ret._id;\n    delete ret._id;\n    delete ret.__v;\n    return ret;\n  }\n});\n\n// Admin User Schema\nconst adminUserSchema = new Schema({\n  _id: { type: String, required: true },\n  username: { type: String, required: true, unique: true },\n  password: { type: String, required: true },\n  email: { type: String, required: true },\n  isActive: { type: Boolean, default: true },\n  createdAt: { type: String, required: true },\n}, { \n  timestamps: false,\n  _id: false \n});\n\nadminUserSchema.set('toJSON', {\n  transform: function(doc: any, ret: any) {\n    ret.id = ret._id;\n    delete ret._id;\n    delete ret.__v;\n    return ret;\n  }\n});\n\n// Accessory Schema\nconst accessorySchema = new Schema({\n  _id: { type: String, required: true },\n  name: { type: String, required: true },\n  modelNumber: { type: String },\n  description: { type: String, required: true },\n  imageUrl: { type: String, required: true },\n  brand: { type: String },\n  compatibleWith: [{ type: String }], // Product categories or types\n  createdAt: { type: String, required: false, default: () => new Date().toISOString() },\n}, { \n  timestamps: false,\n  _id: false \n});\n\naccessorySchema.set('toJSON', {\n  transform: function(doc: any, ret: any) {\n    ret.id = ret._id;\n    delete ret._id;\n    delete ret.__v;\n    return ret;\n  }\n});\n\n// Project Schema  \nconst projectSchema = new Schema({\n  _id: { type: String, required: true },\n  title: { type: String, required: true },\n  description: { type: String, required: true },\n  category: { type: String, required: true },\n  location: { type: String, required: true },\n  primaryMediaUrl: { type: String }, // Main image or video\n  additionalMediaUrls: [{ type: String }], // Additional images/videos\n  completedDate: { type: String, required: true },\n  clientType: { type: String, required: true },\n  imageUrls: [{ type: String }], // Legacy field for backward compatibility\n  productsUsed: [{ type: String }],\n  featured: { type: Boolean, default: false },\n  createdAt: { type: Date, default: Date.now },\n  updatedAt: { type: Date, default: Date.now },\n}, { \n  timestamps: false,\n  _id: false \n});\n\nprojectSchema.set('toJSON', {\n  transform: function(doc: any, ret: any) {\n    ret.id = ret._id;\n    delete ret._id;\n    delete ret.__v;\n    return ret;\n  }\n});\n\n// Brand Schema\nconst brandSchema = new Schema({\n  _id: { type: String, required: true },\n  name: { type: String, required: true, unique: true },\n  description: { type: String },\n  website: { type: String },\n  isActive: { type: Boolean, default: true },\n  createdAt: { type: String, required: true },\n}, { \n  timestamps: false,\n  _id: false \n});\n\nbrandSchema.set('toJSON', {\n  transform: function(doc: any, ret: any) {\n    ret.id = ret._id;\n    delete ret._id;\n    delete ret.__v;\n    return ret;\n  }\n});\n\n// Export Models\nexport const CategoryModel = mongoose.model<Category & Document>('Category', categorySchema);\nexport const ProductModel = mongoose.model<Product & Document>('Product', productSchema);\nexport const ContactMessageModel = mongoose.model<ContactMessage & Document>('ContactMessage', contactMessageSchema);\nexport const AdminUserModel = mongoose.model<AdminUser & Document>('AdminUser', adminUserSchema);\nexport const AccessoryModel = mongoose.model('Accessory', accessorySchema);\nexport const ProjectModel = mongoose.model('Project', projectSchema);\nexport const BrandModel = mongoose.model('Brand', brandSchema);\n\n// Hero Images Schema\nconst heroImageSchema = new mongoose.Schema({\n  _id: { type: String, default: () => randomUUID() },\n  title: { type: String, required: true },\n  imageUrl: { type: String, required: true },\n  description: { type: String },\n  isActive: { type: Boolean, default: true },\n  order: { type: Number, default: 0 },\n  createdAt: { type: String, default: () => new Date().toISOString() },\n  updatedAt: { type: String, default: () => new Date().toISOString() },\n});\n\nheroImageSchema.set('toJSON', {\n  transform: function(doc, ret) {\n    ret.id = ret._id;\n    delete ret._id;\n    delete ret.__v;\n    return ret;\n  }\n});\n\nexport const HeroImageModel = mongoose.model('HeroImage', heroImageSchema);","size_bytes":6211},"server/mongoStorage.ts":{"content":"import bcrypt from \"bcryptjs\";\nimport { randomUUID } from \"crypto\";\nimport { CategoryModel, ProductModel, ContactMessageModel, AdminUserModel, AccessoryModel, ProjectModel, BrandModel, HeroImageModel } from \"./models\";\nimport { sampleProducts, sampleAccessories, sampleProjects } from \"./sampleData\";\nimport type { \n  Category, \n  Product, \n  ContactMessage, \n  AdminUser, \n  Accessory,\n  Project,\n  Brand,\n  InsertCategory, \n  InsertProduct, \n  InsertContactMessage, \n  InsertAdminUser,\n  InsertAccessory,\n  InsertProject,\n  InsertBrand,\n  HeroImage,\n  InsertHeroImage\n} from \"@shared/schema\";\nimport type { IStorage } from \"./storage\";\n\nexport class MongoStorage implements IStorage {\n  constructor() {\n    this.seedBasicData(); // Only seed admin and categories\n  }\n\n  private async seedBasicData() {\n    try {\n      // Check if admin user already exists\n      const existingAdmin = await AdminUserModel.findOne({ username: \"admin\" });\n      if (!existingAdmin) {\n        // Seed admin user (owner access)\n        const hashedPassword = await bcrypt.hash(\"admin123\", 10);\n        const adminUser = new AdminUserModel({\n          _id: randomUUID(),\n          username: \"admin\",\n          password: hashedPassword,\n          email: \"admin@electrolight.com\",\n          isActive: true,\n          createdAt: new Date().toISOString(),\n        });\n        await adminUser.save();\n        console.log(\"âœ… Admin user seeded\");\n      }\n\n      // Only seed categories if none exist\n      const existingCategories = await CategoryModel.countDocuments();\n      if (existingCategories === 0) {\n        // Seed categories\n      const categoriesData: InsertCategory[] = [\n          { name: \"Bamboo\", slug: \"bamboo\", imageUrl: \"/assets/generated_images/Electrical_conduit_system_5cd4a390.png\" },\n          { name: \"Baseboard Heaters\", slug: \"baseboard\", imageUrl: \"/assets/generated_images/Electric_baseboard_heater_ecae6e6c.png\" },\n          { name: \"Construction\", slug: \"construction\", imageUrl: \"/assets/generated_images/Construction_electrical_tools_a5330c95.png\" },\n          { name: \"Driver\", slug: \"driver\", imageUrl: \"/assets/generated_images/Electrical_motor_driver_e5e72683.png\" },\n          { name: \"Extension Rings\", slug: \"extension-rings\", imageUrl: \"/assets/generated_images/Electrical_extension_rings_db1d0bae.png\" },\n          { name: \"Gangable Boxes\", slug: \"gangable-boxes\", imageUrl: \"/assets/generated_images/Gangable_electrical_boxes_16e94c10.png\" },\n          { name: \"GI Wire\", slug: \"gi-wire\", imageUrl: \"/assets/generated_images/Electrical_wire_products_a2ddbf86.png\" },\n          { name: \"Ground Plate\", slug: \"ground-plate\", imageUrl: \"/assets/generated_images/Electrical_ground_plate_a2a5a263.png\" },\n          { name: \"Light\", slug: \"light\", imageUrl: \"/assets/generated_images/LED_lighting_fixtures_733f3606.png\" },\n          { name: \"Metal Box\", slug: \"metal-box\", imageUrl: \"/assets/generated_images/Metal_electrical_box_8aaad2e8.png\" },\n          { name: \"Metal Plates\", slug: \"metal-plates\", imageUrl: \"/assets/generated_images/Metal_electrical_plates_276ba39c.png\" },\n          { name: \"Milk Carton\", slug: \"milk-carton\", imageUrl: \"/assets/generated_images/Electrical_outlet_plates_c156e9f7.png\" },\n          { name: \"Octagonal Box\", slug: \"octagonal-box\", imageUrl: \"/assets/generated_images/Octagonal_electrical_box_69767a40.png\" },\n          { name: \"Plastic Box\", slug: \"plastic-box\", imageUrl: \"/assets/generated_images/Plastic_electrical_box_3c998bd5.png\" },\n          { name: \"Pot Light\", slug: \"pot-light\", imageUrl: \"/assets/generated_images/Recessed_pot_light_feee68af.png\" },\n          { name: \"Puck Light\", slug: \"puck-light\", imageUrl: \"/assets/generated_images/LED_puck_lights_0a5a3eae.png\" },\n          { name: \"PVC Pipe\", slug: \"pvc-pipe\", imageUrl: \"/assets/generated_images/PVC_electrical_pipes_c72db40b.png\" },\n          { name: \"Smoke Alarm\", slug: \"smoke-alarm\", imageUrl: \"/assets/generated_images/Smoke_alarm_detector_2b0e0ae0.png\" },\n      ];\n\n      const categories = categoriesData.map(cat => new CategoryModel({\n        _id: randomUUID(),\n        ...cat\n      }));\n\n        await CategoryModel.insertMany(categories);\n        console.log(\"âœ… Categories seeded\");\n      }\n\n      // Remove the \"Accessories\" category if it exists\n      const accessoriesCategory = await CategoryModel.findOne({ slug: \"accessories\" });\n      if (accessoriesCategory) {\n        await CategoryModel.deleteOne({ slug: \"accessories\" });\n        console.log(\"âœ… Removed 'Accessories' category\");\n      }\n\n      // Seed initial brands if none exist\n      const brandCount = await BrandModel.countDocuments();\n      if (brandCount === 0) {\n        const brandsData = [\n          { name: \"King Electric\", description: \"Premium electrical heating solutions\", website: \"https://www.king-electric.com\", isActive: true },\n          { name: \"Schneider Electric\", description: \"Global leader in energy management\", website: \"https://www.se.com\", isActive: true },\n          { name: \"Leviton\", description: \"Electrical wiring devices and lighting controls\", website: \"https://www.leviton.com\", isActive: true },\n          { name: \"Hubbell\", description: \"Electrical and electronic products\", website: \"https://www.hubbell.com\", isActive: true },\n          { name: \"Eaton\", description: \"Power management solutions\", website: \"https://www.eaton.com\", isActive: true },\n          { name: \"Legrand\", description: \"Electrical and digital building infrastructure\", website: \"https://www.legrand.com\", isActive: true },\n        ];\n\n        const brands = brandsData.map(brand => new BrandModel({\n          _id: randomUUID(),\n          ...brand,\n          createdAt: new Date().toISOString()\n        }));\n\n        await BrandModel.insertMany(brands);\n        console.log(`âœ… ${brands.length} brands seeded`);\n      }\n\n      console.log(\"âœ… Basic seeding completed - Products, accessories and projects will be added via admin interface\");\n    } catch (error) {\n      console.error(\"âŒ Error seeding database:\", error);\n    }\n  }\n\n  // Add method to clear all data\n  async clearAllData(): Promise<void> {\n    await Promise.all([\n      ProductModel.deleteMany({}),\n      AccessoryModel.deleteMany({}),\n      ProjectModel.deleteMany({})\n    ]);\n    console.log(\"âœ… All products, accessories, and projects cleared\");\n  }\n\n  // Categories\n  async getCategories(): Promise<Category[]> {\n    const categories = await CategoryModel.find().lean();\n    return categories.map(category => ({\n      ...category,\n      id: category._id as string\n    })) as unknown as Category[];\n  }\n\n  async getCategoryBySlug(slug: string): Promise<Category | undefined> {\n    const category = await CategoryModel.findOne({ slug }).lean();\n    if (!category) return undefined;\n    return {\n      ...category,\n      id: category._id as string\n    } as unknown as Category;\n  }\n\n  async createCategory(category: InsertCategory): Promise<Category> {\n    const newCategory = new CategoryModel({\n      _id: randomUUID(),\n      ...category\n    });\n    const saved = await newCategory.save();\n    const categoryData = saved.toJSON();\n    return {\n      ...categoryData,\n      id: categoryData._id\n    } as Category;\n  }\n\n  async updateCategory(id: string, categoryData: Partial<InsertCategory>): Promise<Category | undefined> {\n    const updated = await CategoryModel.findOneAndUpdate(\n      { _id: id },\n      categoryData,\n      { new: true }\n    ).lean();\n    if (!updated) return undefined;\n    return {\n      ...updated,\n      id: updated._id as string\n    } as unknown as Category;\n  }\n\n  async deleteCategory(id: string): Promise<boolean> {\n    const result = await CategoryModel.deleteOne({ _id: id });\n    return result.deletedCount > 0;\n  }\n\n  async clearAllCategories(): Promise<void> {\n    await CategoryModel.deleteMany({});\n  }\n\n  // Brand methods\n  async getBrands(): Promise<Brand[]> {\n    const brands = await BrandModel.find({ isActive: true }).sort({ name: 1 }).lean();\n    return brands.map(brand => ({\n      ...brand,\n      id: brand._id as string\n    })) as unknown as Brand[];\n  }\n\n  async getBrand(id: string): Promise<Brand | undefined> {\n    const brand = await BrandModel.findOne({ _id: id }).lean();\n    if (!brand) return undefined;\n    return {\n      ...brand,\n      id: brand._id as string\n    } as unknown as Brand;\n  }\n\n  async createBrand(brandData: InsertBrand): Promise<Brand> {\n    const newBrand = new BrandModel({\n      _id: randomUUID(),\n      ...brandData,\n      createdAt: new Date().toISOString(),\n    });\n    const saved = await newBrand.save();\n    const brand = saved.toJSON();\n    return {\n      ...brand,\n      id: brand._id\n    } as Brand;\n  }\n\n  async updateBrand(id: string, brandData: Partial<InsertBrand>): Promise<Brand | undefined> {\n    const updated = await BrandModel.findOneAndUpdate(\n      { _id: id },\n      brandData,\n      { new: true }\n    ).lean();\n    if (!updated) return undefined;\n    return {\n      ...updated,\n      id: updated._id as string\n    } as unknown as Brand;\n  }\n\n  async deleteBrand(id: string): Promise<boolean> {\n    // Soft delete - just mark as inactive\n    const result = await BrandModel.updateOne({ _id: id }, { isActive: false });\n    return result.modifiedCount > 0;\n  }\n\n  // Products\n  async getProducts(categorySlug?: string): Promise<Product[]> {\n    const query = categorySlug && categorySlug !== 'undefined' ? { categorySlug } : {};\n    const products = await ProductModel.find(query).lean();\n    return products.map(product => ({\n      ...product,\n      id: product._id as string\n    })) as unknown as Product[];\n  }\n\n  async getProduct(id: string): Promise<Product | undefined> {\n    const product = await ProductModel.findOne({ _id: id }).lean();\n    if (!product) return undefined;\n    return {\n      ...product,\n      id: product._id as string\n    } as unknown as Product;\n  }\n\n  async createProduct(product: InsertProduct): Promise<Product> {\n    const newProduct = new ProductModel({\n      _id: randomUUID(),\n      ...product\n    });\n    const saved = await newProduct.save();\n    const productData = saved.toJSON();\n    return {\n      ...productData,\n      id: productData._id\n    } as Product;\n  }\n\n  async updateProduct(id: string, product: Partial<InsertProduct>): Promise<Product | undefined> {\n    const updated = await ProductModel.findOneAndUpdate(\n      { _id: id }, \n      product, \n      { new: true }\n    ).lean();\n    if (!updated) return undefined;\n    return {\n      ...updated,\n      id: updated._id as string\n    } as unknown as Product;\n  }\n\n  async deleteProduct(id: string): Promise<boolean> {\n    const result = await ProductModel.deleteOne({ _id: id });\n    return result.deletedCount > 0;\n  }\n\n  // Contact Messages\n  async getContactMessages(): Promise<ContactMessage[]> {\n    const messages = await ContactMessageModel.find()\n      .sort({ submittedAt: -1 })\n      .lean();\n    return messages.map(message => ({\n      ...message,\n      id: message._id as string\n    })) as unknown as ContactMessage[];\n  }\n\n  async createContactMessage(message: InsertContactMessage): Promise<ContactMessage> {\n    const newMessage = new ContactMessageModel({\n      _id: randomUUID(),\n      ...message,\n      submittedAt: new Date().toISOString()\n    });\n    const saved = await newMessage.save();\n    const messageData = saved.toJSON();\n    return {\n      ...messageData,\n      id: messageData._id\n    } as ContactMessage;\n  }\n\n  async deleteContactMessage(id: string): Promise<boolean> {\n    const result = await ContactMessageModel.deleteOne({ _id: id });\n    return result.deletedCount > 0;\n  }\n\n  // Admin Users\n  async createAdminUser(user: InsertAdminUser): Promise<AdminUser> {\n    const hashedPassword = await bcrypt.hash(user.password, 10);\n    const newUser = new AdminUserModel({\n      _id: randomUUID(),\n      ...user,\n      password: hashedPassword,\n      createdAt: new Date().toISOString()\n    });\n    const saved = await newUser.save();\n    const userData = saved.toJSON();\n    return {\n      ...userData,\n      id: userData._id\n    } as AdminUser;\n  }\n\n  async getAdminByUsername(username: string): Promise<AdminUser | undefined> {\n    const user = await AdminUserModel.findOne({ username, isActive: true }).lean();\n    if (!user) return undefined;\n    return {\n      ...user,\n      id: user._id as string\n    } as unknown as AdminUser;\n  }\n\n  async getAllAdmins(): Promise<AdminUser[]> {\n    const admins = await AdminUserModel.find({ isActive: true }).sort({ username: 1 }).lean();\n    return admins.map(admin => ({\n      ...admin,\n      id: admin._id as string\n    })) as unknown as AdminUser[];\n  }\n\n  async validateAdminCredentials(username: string, password: string): Promise<AdminUser | undefined> {\n    const user = await AdminUserModel.findOne({ username, isActive: true }).lean();\n    if (!user) return undefined;\n    \n    const isValid = await bcrypt.compare(password, user.password);\n    if (!isValid) return undefined;\n    \n    return {\n      ...user,\n      id: user._id as string\n    } as unknown as AdminUser;\n  }\n\n  async verifyAdminPassword(username: string, password: string): Promise<boolean> {\n    const user = await AdminUserModel.findOne({ username, isActive: true }).lean();\n    if (!user) return false;\n    \n    return await bcrypt.compare(password, user.password);\n  }\n\n  // Accessories\n  async getAccessories(): Promise<Accessory[]> {\n    const accessories = await AccessoryModel.find().lean();\n    return accessories.map(accessory => ({\n      ...accessory,\n      id: accessory._id as string\n    })) as unknown as Accessory[];\n  }\n\n  async getAccessory(id: string): Promise<Accessory | undefined> {\n    const accessory = await AccessoryModel.findOne({ _id: id }).lean();\n    if (!accessory) return undefined;\n    return {\n      ...accessory,\n      id: accessory._id as string\n    } as unknown as Accessory;\n  }\n\n  async createAccessory(accessory: InsertAccessory): Promise<Accessory> {\n    const newAccessory = new AccessoryModel({\n      _id: randomUUID(),\n      ...accessory,\n      createdAt: new Date().toISOString()\n    });\n    const saved = await newAccessory.save();\n    const accessoryData = saved.toJSON();\n    return {\n      ...accessoryData,\n      id: accessoryData._id\n    } as Accessory;\n  }\n\n  async updateAccessory(id: string, accessory: Partial<InsertAccessory>): Promise<Accessory | undefined> {\n    const updated = await AccessoryModel.findOneAndUpdate(\n      { _id: id }, \n      accessory, \n      { new: true }\n    ).lean();\n    if (!updated) return undefined;\n    return {\n      ...updated,\n      id: updated._id as string\n    } as unknown as Accessory;\n  }\n\n  async deleteAccessory(id: string): Promise<boolean> {\n    const result = await AccessoryModel.deleteOne({ _id: id });\n    return result.deletedCount > 0;\n  }\n\n  // Projects\n  async getProjects(): Promise<Project[]> {\n    const projects = await ProjectModel.find()\n      .sort({ createdAt: -1 })\n      .lean();\n    return projects.map(project => ({\n      ...project,\n      id: project._id as string\n    })) as unknown as Project[];\n  }\n\n  async getProject(id: string): Promise<Project | undefined> {\n    const project = await ProjectModel.findOne({ _id: id }).lean();\n    if (!project) return undefined;\n    return {\n      ...project,\n      id: project._id as string\n    } as unknown as Project;\n  }\n\n  async createProject(project: InsertProject): Promise<Project> {\n    const newProject = new ProjectModel({\n      _id: randomUUID(),\n      ...project,\n      createdAt: new Date(),\n      updatedAt: new Date()\n    });\n    const saved = await newProject.save();\n    const projectData = saved.toJSON();\n    return {\n      ...projectData,\n      id: projectData._id\n    } as Project;\n  }\n\n  async updateProject(id: string, project: Partial<InsertProject>): Promise<Project | undefined> {\n    const updated = await ProjectModel.findOneAndUpdate(\n      { _id: id }, \n      { ...project, updatedAt: new Date() }, \n      { new: true }\n    ).lean();\n    if (!updated) return undefined;\n    return {\n      ...updated,\n      id: updated._id as string\n    } as unknown as Project;\n  }\n\n  async deleteProject(id: string): Promise<boolean> {\n    const result = await ProjectModel.deleteOne({ _id: id });\n    return result.deletedCount > 0;\n  }\n\n  async clearAllData(): Promise<void> {\n    // Clear all products, accessories, and projects\n    // Keep categories and admin users\n    await ProductModel.deleteMany({});\n    await AccessoryModel.deleteMany({});\n    await ProjectModel.deleteMany({});\n    console.log(\"âœ… All data cleared successfully\");\n  }\n\n  // Hero Images\n  async getHeroImages(): Promise<HeroImage[]> {\n    const heroImages = await HeroImageModel.find().sort({ order: 1, createdAt: -1 });\n    return heroImages.map(heroImage => heroImage.toJSON());\n  }\n\n  async getHeroImage(id: string): Promise<HeroImage | undefined> {\n    const heroImage = await HeroImageModel.findById(id);\n    return heroImage ? heroImage.toJSON() : undefined;\n  }\n\n  async createHeroImage(heroImageData: InsertHeroImage): Promise<HeroImage> {\n    const heroImage = new HeroImageModel({\n      _id: randomUUID(),\n      ...heroImageData,\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString(),\n    });\n    await heroImage.save();\n    return heroImage.toJSON();\n  }\n\n  async updateHeroImage(id: string, heroImageData: Partial<InsertHeroImage>): Promise<HeroImage | undefined> {\n    const heroImage = await HeroImageModel.findByIdAndUpdate(\n      id,\n      { ...heroImageData, updatedAt: new Date().toISOString() },\n      { new: true }\n    );\n    return heroImage ? heroImage.toJSON() : undefined;\n  }\n\n  async deleteHeroImage(id: string): Promise<boolean> {\n    const result = await HeroImageModel.findByIdAndDelete(id);\n    return !!result;\n  }\n\n  async populateSampleData(): Promise<void> {\n    try {\n      // Create products\n      const productPromises = sampleProducts.map(productData => {\n        const product = new ProductModel({\n          _id: randomUUID(),\n          ...productData,\n          createdAt: new Date(),\n          updatedAt: new Date()\n        });\n        return product.save();\n      });\n\n      // Create accessories\n      const accessoryPromises = sampleAccessories.map(accessoryData => {\n        const accessory = new AccessoryModel({\n          _id: randomUUID(),\n          ...accessoryData,\n          createdAt: new Date()\n        });\n        return accessory.save();\n      });\n\n      // Create projects\n      const projectPromises = sampleProjects.map(projectData => {\n        const project = new ProjectModel({\n          _id: randomUUID(),\n          ...projectData,\n          createdAt: new Date(),\n          updatedAt: new Date()\n        });\n        return project.save();\n      });\n\n      // Execute all promises in parallel\n      await Promise.all([\n        ...productPromises,\n        ...accessoryPromises,\n        ...projectPromises\n      ]);\n\n      console.log(\"âœ… Sample data populated successfully\");\n      console.log(`- ${sampleProducts.length} products created`);\n      console.log(`- ${sampleAccessories.length} accessories created`);\n      console.log(`- ${sampleProjects.length} projects created`);\n    } catch (error) {\n      console.error(\"Error populating sample data:\", error);\n      throw error;\n    }\n  }\n}","size_bytes":19268},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { MongoStorage } from \"./mongoStorage\";\nimport { insertProductSchema, insertContactMessageSchema, insertAccessorySchema, adminLoginSchema, insertProjectSchema, insertBrandSchema, insertCategorySchema } from \"@shared/schema\";\nimport { uploadToCloudinary, uploadMediaToCloudinary } from \"./cloudinary\";\nimport session from \"express-session\";\nimport multer from \"multer\";\nimport MemoryStore from \"memorystore\";\n\nconst storage = new MongoStorage();\n\n// Middleware to check if user is authenticated as admin\nconst requireAdminAuth = (req: any, res: any, next: any) => {\n  if (!req.session.adminId) {\n    return res.status(401).json({ message: \"Unauthorized - Admin access required\" });\n  }\n  next();\n};\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // Session configuration with MemoryStore\n  const MemStore = MemoryStore(session);\n  app.use(session({\n    secret: 'electrolight-admin-secret-key-2024',\n    store: new MemStore({\n      checkPeriod: 86400000 // prune expired entries every 24h\n    }),\n    resave: false,\n    saveUninitialized: false,\n    rolling: true,\n    cookie: {\n      secure: false, // Set to true in production with HTTPS\n      httpOnly: true,\n      maxAge: 24 * 60 * 60 * 1000 // 24 hours\n    }\n  }));\n\n  // Upload for regular images (products, etc.)\n  const uploadImages = multer({ \n    storage: multer.memoryStorage(),\n    limits: { fileSize: 10 * 1024 * 1024 }, // 10MB limit\n    fileFilter: (req, file, cb) => {\n      if (file.mimetype.startsWith('image/')) {\n        cb(null, true);\n      } else {\n        cb(new Error('Only image files are allowed'));\n      }\n    }\n  });\n\n  // Upload for primary media (supports both images and videos)\n  const uploadPrimaryMedia = multer({ \n    storage: multer.memoryStorage(),\n    limits: { fileSize: 100 * 1024 * 1024 }, // 100MB limit for videos\n    fileFilter: (req, file, cb) => {\n      if (file.mimetype.startsWith('image/') || file.mimetype.startsWith('video/')) {\n        cb(null, true);\n      } else {\n        cb(new Error('Only image and video files are allowed'));\n      }\n    }\n  });\n\n  // Upload for additional media (supports both images and videos, smaller limit)\n  const uploadAdditionalMedia = multer({ \n    storage: multer.memoryStorage(),\n    limits: { fileSize: 50 * 1024 * 1024 }, // 50MB limit for additional media\n    fileFilter: (req, file, cb) => {\n      if (file.mimetype.startsWith('image/') || file.mimetype.startsWith('video/')) {\n        cb(null, true);\n      } else {\n        cb(new Error('Only image and video files are allowed'));\n      }\n    }\n  });\n\n  // Admin Authentication Routes\n  app.post(\"/api/admin/login\", async (req, res) => {\n    try {\n      console.log('Login attempt - Request body:', req.body);\n      const { username, password } = adminLoginSchema.parse(req.body);\n      console.log('Login attempt - Parsed:', { username, password: password ? '[HIDDEN]' : 'undefined' });\n      \n      const isValid = await storage.verifyAdminPassword(username, password);\n      if (!isValid) {\n        return res.status(401).json({ message: \"Invalid credentials\" });\n      }\n\n      const admin = await storage.getAdminByUsername(username);\n      if (!admin) {\n        return res.status(401).json({ message: \"Admin not found\" });\n      }\n\n      req.session.adminId = admin.id;\n      req.session.adminUsername = admin.username;\n      console.log('Login - Session ID:', req.sessionID);\n      \n      // Ensure session is saved before responding\n      req.session.save((err) => {\n        if (err) {\n          console.error('Session save error:', err);\n          return res.status(500).json({ message: \"Session error\" });\n        }\n        console.log('Session saved successfully');\n        res.json({ \n          message: \"Login successful\", \n          admin: { id: admin.id, username: admin.username, email: admin.email }\n        });\n      });\n    } catch (error: any) {\n      console.error('Login validation error:', error);\n      res.status(400).json({ message: \"Invalid login data\", error: error.message });\n    }\n  });\n\n  app.post(\"/api/admin/logout\", (req, res) => {\n    req.session.destroy((err) => {\n      if (err) {\n        return res.status(500).json({ message: \"Failed to logout\" });\n      }\n      res.clearCookie('connect.sid');\n      res.json({ message: \"Logout successful\" });\n    });\n  });\n\n  // Debug endpoint to check admin users in database\n  app.get(\"/api/admin/users\", async (req, res) => {\n    try {\n      // Remove this endpoint as getAllAdmins is not implemented\n      res.json({ message: \"Admin users endpoint not available\" });\n    } catch (error) {\n      res.status(500).json({ error: \"Failed to fetch admin users\" });\n    }\n  });\n\n  app.get(\"/api/admin/check\", (req, res) => {\n    console.log('Admin check - Session ID:', req.sessionID);\n    console.log('Admin check - Session data:', req.session);\n    console.log('Admin check - AdminId:', req.session.adminId);\n    \n    if (req.session.adminId) {\n      res.json({ \n        authenticated: true, \n        admin: { \n          id: req.session.adminId, \n          username: req.session.adminUsername \n        }\n      });\n    } else {\n      res.json({ authenticated: false });\n    }\n  });\n\n  // Categories\n  app.get(\"/api/categories\", async (req, res) => {\n    try {\n      const categories = await storage.getCategories();\n      res.json(categories);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch categories\" });\n    }\n  });\n\n  // Temporary endpoint to clear all categories for reseeding\n  app.post(\"/api/categories/clear\", async (req, res) => {\n    try {\n      await storage.clearAllCategories();\n      res.json({ message: \"Categories cleared successfully\" });\n    } catch (error) {\n      console.error(\"Error clearing categories:\", error);\n      res.status(500).json({ message: \"Failed to clear categories\" });\n    }\n  });\n\n  // Products\n  app.get(\"/api/products\", async (req, res) => {\n    try {\n      const { category } = req.query;\n      const products = await storage.getProducts(category as string);\n      res.json(products);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch products\" });\n    }\n  });\n\n  app.get(\"/api/products/:id\", async (req, res) => {\n    try {\n      const product = await storage.getProduct(req.params.id);\n      if (product) {\n        return res.json(product);\n      }\n      \n      // If not found as product, try as accessory\n      const accessory = await storage.getAccessory(req.params.id);\n      if (accessory) {\n        // Convert accessory to product format for detail page\n        const productLikeAccessory = {\n          id: accessory.id,\n          name: accessory.name,\n          description: accessory.description,\n          brand: accessory.brand,\n          imageUrl: accessory.imageUrl,\n          imageUrls: [],\n          categorySlug: 'accessories',\n          specifications: accessory.modelNumber ? [`Model: ${accessory.modelNumber}`] : [],\n          accessories: [],\n          similarProducts: [],\n          inStock: true,\n          featured: false,\n        };\n        return res.json(productLikeAccessory);\n      }\n      \n      res.status(404).json({ message: \"Product not found\" });\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch product\" });\n    }\n  });\n\n  // Image upload endpoint (for products and general images)\n  app.post(\"/api/upload\", requireAdminAuth, uploadImages.single('image'), async (req, res) => {\n    try {\n      if (!req.file) {\n        return res.status(400).json({ message: \"No image file provided\" });\n      }\n\n      const fileName = `${Date.now()}-${req.file.originalname}`;\n      const imageUrl = await uploadToCloudinary(req.file.buffer, fileName);\n      \n      res.json({ imageUrl });\n    } catch (error: any) {\n      console.error('Image upload error:', error);\n      if (error.code === 'LIMIT_FILE_SIZE') {\n        return res.status(413).json({ message: \"File too large. Maximum size is 5MB.\" });\n      }\n      if (error.message && error.message.includes('Only image files')) {\n        return res.status(400).json({ message: \"Only image files are allowed.\" });\n      }\n      res.status(500).json({ message: \"Failed to upload image\" });\n    }\n  });\n\n  // Primary media upload endpoint (supports images and videos up to 100MB)\n  app.post(\"/api/upload/primary-media\", requireAdminAuth, uploadPrimaryMedia.single('media'), async (req, res) => {\n    try {\n      if (!req.file) {\n        return res.status(400).json({ message: \"No media file provided\" });\n      }\n\n      const fileName = `primary-${Date.now()}-${req.file.originalname}`;\n      const mediaUrl = await uploadMediaToCloudinary(req.file.buffer, fileName, req.file.mimetype);\n      \n      res.json({ mediaUrl });\n    } catch (error: any) {\n      console.error('Primary media upload error:', error);\n      if (error.code === 'LIMIT_FILE_SIZE') {\n        return res.status(413).json({ message: \"File too large. Maximum size is 100MB for videos, 10MB for images.\" });\n      }\n      if (error.message && error.message.includes('Only image and video files')) {\n        return res.status(400).json({ message: \"Only image and video files are allowed.\" });\n      }\n      res.status(500).json({ message: \"Failed to upload media\" });\n    }\n  });\n\n  // Additional media upload endpoint (supports images and videos up to 50MB)\n  app.post(\"/api/upload/additional-media\", requireAdminAuth, uploadAdditionalMedia.single('media'), async (req, res) => {\n    try {\n      if (!req.file) {\n        return res.status(400).json({ message: \"No media file provided\" });\n      }\n\n      const fileName = `additional-${Date.now()}-${req.file.originalname}`;\n      const mediaUrl = await uploadMediaToCloudinary(req.file.buffer, fileName, req.file.mimetype);\n      \n      res.json({ mediaUrl });\n    } catch (error: any) {\n      console.error('Additional media upload error:', error);\n      if (error.code === 'LIMIT_FILE_SIZE') {\n        return res.status(413).json({ message: \"File too large. Maximum size is 50MB.\" });\n      }\n      if (error.message && error.message.includes('Only image and video files')) {\n        return res.status(400).json({ message: \"Only image and video files are allowed.\" });\n      }\n      res.status(500).json({ message: \"Failed to upload media\" });\n    }\n  });\n\n  app.post(\"/api/products\", requireAdminAuth, async (req, res) => {\n    try {\n      console.log('Product data received:', req.body);\n      const productData = insertProductSchema.parse(req.body);\n      const product = await storage.createProduct(productData);\n      res.status(201).json(product);\n    } catch (error: any) {\n      console.error('Product creation error:', error);\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ message: \"Invalid product data: \" + error.message });\n      }\n      if (error.name === 'ValidationError') {\n        const errorMessages = Object.values(error.errors).map((err: any) => err.message).join(', ');\n        return res.status(400).json({ message: \"Validation failed: \" + errorMessages });\n      }\n      res.status(500).json({ message: \"Failed to create product: \" + (error.message || \"Unknown error\") });\n    }\n  });\n\n  app.put(\"/api/products/:id\", requireAdminAuth, async (req, res) => {\n    try {\n      const productId = req.params.id;\n      if (!productId || productId === 'undefined') {\n        return res.status(400).json({ message: \"Invalid product ID provided\" });\n      }\n      \n      const productData = insertProductSchema.partial().parse(req.body);\n      const product = await storage.updateProduct(productId, productData);\n      if (!product) {\n        return res.status(404).json({ message: \"Product not found\" });\n      }\n      res.json(product);\n    } catch (error: any) {\n      console.error('Product update error:', error);\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ message: \"Invalid product data: \" + error.message });\n      }\n      if (error.name === 'ValidationError') {\n        const errorMessages = Object.values(error.errors).map((err: any) => err.message).join(', ');\n        return res.status(400).json({ message: \"Validation failed: \" + errorMessages });\n      }\n      res.status(500).json({ message: \"Failed to update product: \" + (error.message || \"Unknown error\") });\n    }\n  });\n\n  app.delete(\"/api/products/:id\", requireAdminAuth, async (req, res) => {\n    try {\n      const deleted = await storage.deleteProduct(req.params.id);\n      if (!deleted) {\n        return res.status(404).json({ message: \"Product not found\" });\n      }\n      res.json({ message: \"Product deleted successfully\" });\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to delete product\" });\n    }\n  });\n\n  // Accessories routes\n  app.get(\"/api/accessories\", async (req, res) => {\n    try {\n      const accessories = await storage.getAccessories();\n      res.json(accessories);\n    } catch (error) {\n      console.error(\"Error fetching accessories:\", error);\n      res.status(500).json({ message: \"Failed to fetch accessories\" });\n    }\n  });\n\n  app.get(\"/api/accessories/:id\", async (req, res) => {\n    try {\n      const accessory = await storage.getAccessory(req.params.id);\n      if (!accessory) {\n        return res.status(404).json({ message: \"Accessory not found\" });\n      }\n      res.json(accessory);\n    } catch (error) {\n      console.error(\"Error fetching accessory:\", error);\n      res.status(500).json({ message: \"Failed to fetch accessory\" });\n    }\n  });\n\n  app.post(\"/api/accessories\", requireAdminAuth, async (req, res) => {\n    try {\n      console.log('Accessory data received:', req.body);\n      const accessoryData = insertAccessorySchema.parse(req.body);\n      const accessory = await storage.createAccessory(accessoryData);\n      res.status(201).json(accessory);\n    } catch (error: any) {\n      console.error('Accessory creation error:', error);\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ message: \"Invalid accessory data: \" + error.message });\n      }\n      if (error.name === 'ValidationError') {\n        const errorMessages = Object.values(error.errors).map((err: any) => err.message).join(', ');\n        return res.status(400).json({ message: \"Validation failed: \" + errorMessages });\n      }\n      res.status(500).json({ message: \"Failed to create accessory: \" + (error.message || \"Unknown error\") });\n    }\n  });\n\n  app.put(\"/api/accessories/:id\", requireAdminAuth, async (req, res) => {\n    try {\n      const accessoryId = req.params.id;\n      if (!accessoryId || accessoryId === 'undefined') {\n        return res.status(400).json({ message: \"Invalid accessory ID provided\" });\n      }\n      \n      const accessoryData = insertAccessorySchema.partial().parse(req.body);\n      const accessory = await storage.updateAccessory(accessoryId, accessoryData);\n      if (!accessory) {\n        return res.status(404).json({ message: \"Accessory not found\" });\n      }\n      res.json(accessory);\n    } catch (error: any) {\n      console.error('Accessory update error:', error);\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ message: \"Invalid accessory data: \" + error.message });\n      }\n      if (error.name === 'ValidationError') {\n        const errorMessages = Object.values(error.errors).map((err: any) => err.message).join(', ');\n        return res.status(400).json({ message: \"Validation failed: \" + errorMessages });\n      }\n      res.status(500).json({ message: \"Failed to update accessory: \" + (error.message || \"Unknown error\") });\n    }\n  });\n\n  app.delete(\"/api/accessories/:id\", requireAdminAuth, async (req, res) => {\n    try {\n      const deleted = await storage.deleteAccessory(req.params.id);\n      if (!deleted) {\n        return res.status(404).json({ message: \"Accessory not found\" });\n      }\n      res.json({ message: \"Accessory deleted successfully\" });\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to delete accessory\" });\n    }\n  });\n\n  // AI-powered similar products endpoint\n  app.get(\"/api/products/:id/similar\", async (req, res) => {\n    try {\n      const product = await storage.getProduct(req.params.id);\n      if (!product) {\n        return res.status(404).json({ message: \"Product not found\" });\n      }\n\n      // AI logic for similar products based on category, brand, and specifications\n      const allProducts = await storage.getProducts();\n      const similarProducts = allProducts\n        .filter(p => p.id !== product.id) // Exclude the current product\n        .map(p => ({\n          ...p,\n          similarity: calculateSimilarityScore(product, p)\n        }))\n        .filter(p => p.similarity > 0.3) // Minimum similarity threshold\n        .sort((a, b) => b.similarity - a.similarity)\n        .slice(0, 3) // Return top 3 similar products\n        .map(({ similarity, ...product }) => product); // Remove similarity score from response\n\n      res.json(similarProducts);\n    } catch (error) {\n      console.error(\"Error fetching similar products:\", error);\n      res.status(500).json({ message: \"Failed to fetch similar products\" });\n    }\n  });\n\n  // Combined search endpoint for products and accessories\n  app.get(\"/api/search\", async (req, res) => {\n    try {\n      const { q } = req.query;\n      if (!q || typeof q !== 'string') {\n        return res.json({ products: [], accessories: [] });\n      }\n\n      const searchTerm = q.toLowerCase().trim();\n      \n      // Search products\n      const allProducts = await storage.getProducts();\n      const matchingProducts = allProducts\n        .filter(product => \n          product.name.toLowerCase().includes(searchTerm) ||\n          product.description.toLowerCase().includes(searchTerm) ||\n          (product.brand && product.brand.toLowerCase().includes(searchTerm))\n        )\n        .slice(0, 3); // Limit to 3 products\n\n      // Search accessories\n      const allAccessories = await storage.getAccessories();\n      const matchingAccessories = allAccessories\n        .filter(accessory => \n          accessory.name.toLowerCase().includes(searchTerm) ||\n          accessory.description.toLowerCase().includes(searchTerm) ||\n          (accessory.brand && accessory.brand.toLowerCase().includes(searchTerm)) ||\n          (accessory.modelNumber && accessory.modelNumber.toLowerCase().includes(searchTerm))\n        )\n        .slice(0, 2); // Limit to 2 accessories\n\n      res.json({\n        products: matchingProducts,\n        accessories: matchingAccessories\n      });\n    } catch (error) {\n      console.error(\"Error in search:\", error);\n      res.status(500).json({ message: \"Search failed\" });\n    }\n  });\n\n  // Contact messages\n  app.post(\"/api/contact\", async (req, res) => {\n    try {\n      const messageData = insertContactMessageSchema.parse(req.body);\n      const message = await storage.createContactMessage(messageData);\n      res.status(201).json(message);\n    } catch (error) {\n      res.status(400).json({ message: \"Invalid contact message data\" });\n    }\n  });\n\n  app.get(\"/api/contact-messages\", requireAdminAuth, async (req, res) => {\n    try {\n      const messages = await storage.getContactMessages();\n      res.json(messages);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch contact messages\" });\n    }\n  });\n\n  // Project routes\n  app.get(\"/api/projects\", async (req, res) => {\n    try {\n      const projects = await storage.getProjects();\n      res.json(projects);\n    } catch (error) {\n      console.error(\"Error fetching projects:\", error);\n      res.status(500).json({ message: \"Failed to fetch projects\" });\n    }\n  });\n\n  app.get(\"/api/projects/:id\", async (req, res) => {\n    try {\n      const project = await storage.getProject(req.params.id);\n      if (!project) {\n        return res.status(404).json({ message: \"Project not found\" });\n      }\n      res.json(project);\n    } catch (error) {\n      console.error(\"Error fetching project:\", error);\n      res.status(500).json({ message: \"Failed to fetch project\" });\n    }\n  });\n\n  // Admin project management routes\n  app.post(\"/api/admin/projects\", requireAdminAuth, async (req, res) => {\n    try {\n      // Map category to clientType for backward compatibility\n      const projectData = {\n        ...req.body,\n        clientType: req.body.category || req.body.clientType,\n      };\n      \n      const validatedData = insertProjectSchema.parse(projectData);\n      const project = await storage.createProject(validatedData);\n      res.status(201).json(project);\n    } catch (error: any) {\n      console.error(\"Error creating project:\", error);\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ message: \"Invalid project data: \" + error.message });\n      }\n      res.status(500).json({ message: \"Failed to create project\" });\n    }\n  });\n\n  app.put(\"/api/admin/projects/:id\", requireAdminAuth, async (req, res) => {\n    try {\n      // Map category to clientType for backward compatibility\n      const projectData = {\n        ...req.body,\n        clientType: req.body.category || req.body.clientType,\n      };\n      \n      const validatedData = insertProjectSchema.partial().parse(projectData);\n      const project = await storage.updateProject(req.params.id, validatedData);\n      if (!project) {\n        return res.status(404).json({ message: \"Project not found\" });\n      }\n      res.json(project);\n    } catch (error: any) {\n      console.error(\"Error updating project:\", error);\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ message: \"Invalid project data: \" + error.message });\n      }\n      res.status(500).json({ message: \"Failed to update project\" });\n    }\n  });\n\n  app.delete(\"/api/admin/projects/:id\", requireAdminAuth, async (req, res) => {\n    try {\n      const success = await storage.deleteProject(req.params.id);\n      if (!success) {\n        return res.status(404).json({ message: \"Project not found\" });\n      }\n      res.status(204).send();\n    } catch (error) {\n      console.error(\"Error deleting project:\", error);\n      res.status(500).json({ message: \"Failed to delete project\" });\n    }\n  });\n\n  // Data management endpoints for admin\n  app.post(\"/api/admin/clear-all-data\", requireAdminAuth, async (req, res) => {\n    try {\n      await storage.clearAllData();\n      res.json({ message: \"All data cleared successfully\" });\n    } catch (error) {\n      console.error(\"Error clearing data:\", error);\n      res.status(500).json({ message: \"Failed to clear data\" });\n    }\n  });\n\n  // Bulk populate with sample data\n  app.post(\"/api/admin/populate-sample-data\", requireAdminAuth, async (req, res) => {\n    try {\n      await storage.populateSampleData();\n      res.json({ message: \"Sample data populated successfully\" });\n    } catch (error) {\n      console.error(\"Error populating sample data:\", error);\n      res.status(500).json({ message: \"Failed to populate sample data\" });\n    }\n  });\n\n  // Test endpoint to verify sample data structure (no auth required)\n  app.get(\"/api/test-sample-data\", async (req, res) => {\n    try {\n      const { sampleProducts } = await import(\"./sampleData\");\n      res.json({\n        message: \"Sample data structure is valid\",\n        productCount: sampleProducts.length,\n        firstProduct: sampleProducts[0]\n      });\n    } catch (error) {\n      console.error(\"Error testing sample data:\", error);\n      res.status(500).json({ message: \"Sample data structure error\", error: (error as Error).message });\n    }\n  });\n\n  // Brand management routes\n  app.get(\"/api/brands\", async (req, res) => {\n    try {\n      const brands = await storage.getBrands();\n      res.json(brands);\n    } catch (error) {\n      console.error(\"Error fetching brands:\", error);\n      res.status(500).json({ message: \"Failed to fetch brands\" });\n    }\n  });\n\n  app.post(\"/api/brands\", requireAdminAuth, async (req, res) => {\n    try {\n      const brandData = insertBrandSchema.parse(req.body);\n      const brand = await storage.createBrand(brandData);\n      res.status(201).json(brand);\n    } catch (error: any) {\n      console.error(\"Error creating brand:\", error);\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ message: \"Invalid brand data: \" + error.message });\n      }\n      res.status(500).json({ message: \"Failed to create brand\" });\n    }\n  });\n\n  app.put(\"/api/brands/:id\", requireAdminAuth, async (req, res) => {\n    try {\n      const brandData = insertBrandSchema.partial().parse(req.body);\n      const brand = await storage.updateBrand(req.params.id, brandData);\n      if (!brand) {\n        return res.status(404).json({ message: \"Brand not found\" });\n      }\n      res.json(brand);\n    } catch (error: any) {\n      console.error(\"Error updating brand:\", error);\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ message: \"Invalid brand data: \" + error.message });\n      }\n      res.status(500).json({ message: \"Failed to update brand\" });\n    }\n  });\n\n  app.delete(\"/api/brands/:id\", requireAdminAuth, async (req, res) => {\n    try {\n      const success = await storage.deleteBrand(req.params.id);\n      if (!success) {\n        return res.status(404).json({ message: \"Brand not found\" });\n      }\n      res.status(204).send();\n    } catch (error) {\n      console.error(\"Error deleting brand:\", error);\n      res.status(500).json({ message: \"Failed to delete brand\" });\n    }\n  });\n\n  // Category management routes (update existing categories)\n  app.put(\"/api/categories/:id\", requireAdminAuth, async (req, res) => {\n    try {\n      const categoryData = insertCategorySchema.partial().parse(req.body);\n      const category = await storage.updateCategory(req.params.id, categoryData);\n      if (!category) {\n        return res.status(404).json({ message: \"Category not found\" });\n      }\n      res.json(category);\n    } catch (error: any) {\n      console.error(\"Error updating category:\", error);\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ message: \"Invalid category data: \" + error.message });\n      }\n      res.status(500).json({ message: \"Failed to update category\" });\n    }\n  });\n\n  app.post(\"/api/categories\", requireAdminAuth, async (req, res) => {\n    try {\n      const categoryData = insertCategorySchema.parse(req.body);\n      const category = await storage.createCategory(categoryData);\n      res.status(201).json(category);\n    } catch (error: any) {\n      console.error(\"Error creating category:\", error);\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ message: \"Invalid category data: \" + error.message });\n      }\n      res.status(500).json({ message: \"Failed to create category\" });\n    }\n  });\n\n  app.delete(\"/api/categories/:id\", requireAdminAuth, async (req, res) => {\n    try {\n      const success = await storage.deleteCategory(req.params.id);\n      if (!success) {\n        return res.status(404).json({ message: \"Category not found\" });\n      }\n      res.status(204).send();\n    } catch (error) {\n      console.error(\"Error deleting category:\", error);\n      res.status(500).json({ message: \"Failed to delete category\" });\n    }\n  });\n\n  // Hero Images routes\n  app.get(\"/api/hero-images\", async (req, res) => {\n    try {\n      const heroImages = await storage.getHeroImages();\n      res.json(heroImages);\n    } catch (error) {\n      console.error(\"Error fetching hero images:\", error);\n      res.status(500).json({ error: \"Failed to fetch hero images\" });\n    }\n  });\n\n  app.get(\"/api/hero-images/:id\", async (req, res) => {\n    try {\n      const heroImage = await storage.getHeroImage(req.params.id);\n      if (heroImage) {\n        res.json(heroImage);\n      } else {\n        res.status(404).json({ error: \"Hero image not found\" });\n      }\n    } catch (error) {\n      console.error(\"Error fetching hero image:\", error);\n      res.status(500).json({ error: \"Failed to fetch hero image\" });\n    }\n  });\n\n  app.post(\"/api/hero-images\", requireAdminAuth, async (req, res) => {\n    try {\n      const heroImage = await storage.createHeroImage(req.body);\n      res.status(201).json(heroImage);\n    } catch (error) {\n      console.error(\"Error creating hero image:\", error);\n      res.status(500).json({ error: \"Failed to create hero image\" });\n    }\n  });\n\n  app.put(\"/api/hero-images/:id\", requireAdminAuth, async (req, res) => {\n    try {\n      const heroImage = await storage.updateHeroImage(req.params.id, req.body);\n      if (heroImage) {\n        res.json(heroImage);\n      } else {\n        res.status(404).json({ error: \"Hero image not found\" });\n      }\n    } catch (error) {\n      console.error(\"Error updating hero image:\", error);\n      res.status(500).json({ error: \"Failed to update hero image\" });\n    }\n  });\n\n  app.delete(\"/api/hero-images/:id\", requireAdminAuth, async (req, res) => {\n    try {\n      const result = await storage.deleteHeroImage(req.params.id);\n      if (result) {\n        res.json({ message: \"Hero image deleted successfully\" });\n      } else {\n        res.status(404).json({ error: \"Hero image not found\" });\n      }\n    } catch (error) {\n      console.error(\"Error deleting hero image:\", error);\n      res.status(500).json({ error: \"Failed to delete hero image\" });\n    }\n  });\n\n  const httpServer = createServer(app);\n  return httpServer;\n}\n\n// AI algorithm to calculate similarity between products\nfunction calculateSimilarityScore(product1: any, product2: any): number {\n  let score = 0;\n  \n  // Category similarity (highest weight - 40%)\n  if (product1.categorySlug === product2.categorySlug) {\n    score += 0.4;\n  }\n  \n  // Brand similarity (30%)\n  if (product1.brand && product2.brand && product1.brand === product2.brand) {\n    score += 0.3;\n  }\n  \n  // Specification similarity (20%)\n  const specs1 = product1.specifications || [];\n  const specs2 = product2.specifications || [];\n  \n  if (specs1.length > 0 && specs2.length > 0) {\n    const commonSpecs = specs1.filter((spec: string) => \n      specs2.some((spec2: string) => \n        spec.toLowerCase().includes(spec2.toLowerCase().split(' ')[0]) ||\n        spec2.toLowerCase().includes(spec.toLowerCase().split(' ')[0])\n      )\n    );\n    const specSimilarity = commonSpecs.length / Math.max(specs1.length, specs2.length);\n    score += 0.2 * specSimilarity;\n  }\n  \n  // Name similarity (10%) - check for common keywords\n  const name1Words = product1.name.toLowerCase().split(' ');\n  const name2Words = product2.name.toLowerCase().split(' ');\n  const commonWords = name1Words.filter((word: string) => \n    name2Words.includes(word) && word.length > 3 // Only meaningful words\n  );\n  if (commonWords.length > 0) {\n    score += 0.1 * (commonWords.length / Math.max(name1Words.length, name2Words.length));\n  }\n  \n  return Math.min(score, 1); // Cap at 1.0\n}\n","size_bytes":30768},"server/storage.ts":{"content":"import { type Category, type Product, type ContactMessage, type AdminUser, type Brand, type HeroImage, type InsertCategory, type InsertProduct, type InsertContactMessage, type InsertAdminUser, type InsertBrand, type InsertHeroImage } from \"@shared/schema\";\nimport { randomUUID } from \"crypto\";\nimport bcrypt from \"bcryptjs\";\n\nexport interface IStorage {\n  // Categories\n  getCategories(): Promise<Category[]>;\n  getCategoryBySlug(slug: string): Promise<Category | undefined>;\n  createCategory(category: InsertCategory): Promise<Category>;\n  updateCategory(id: string, category: Partial<InsertCategory>): Promise<Category | undefined>;\n  deleteCategory(id: string): Promise<boolean>;\n  clearAllCategories(): Promise<void>;\n  \n  // Brands\n  getBrands(): Promise<Brand[]>;\n  getBrand(id: string): Promise<Brand | undefined>;\n  createBrand(brand: InsertBrand): Promise<Brand>;\n  updateBrand(id: string, brand: Partial<InsertBrand>): Promise<Brand | undefined>;\n  deleteBrand(id: string): Promise<boolean>;\n  \n  // Products\n  getProducts(categorySlug?: string): Promise<Product[]>;\n  getProduct(id: string): Promise<Product | undefined>;\n  createProduct(product: InsertProduct): Promise<Product>;\n  updateProduct(id: string, product: Partial<InsertProduct>): Promise<Product | undefined>;\n  deleteProduct(id: string): Promise<boolean>;\n  \n  // Contact Messages\n  createContactMessage(message: InsertContactMessage): Promise<ContactMessage>;\n  getContactMessages(): Promise<ContactMessage[]>;\n  \n  // Admin Users\n  getAdminByUsername(username: string): Promise<AdminUser | undefined>;\n  createAdminUser(admin: InsertAdminUser): Promise<AdminUser>;\n  verifyAdminPassword(username: string, password: string): Promise<boolean>;\n  getAllAdmins(): Promise<AdminUser[]>;\n  \n  // Accessories\n  getAccessories(): Promise<any[]>;\n  getAccessory(id: string): Promise<any>;\n  createAccessory(accessory: any): Promise<any>;\n  updateAccessory(id: string, accessory: any): Promise<any>;\n  deleteAccessory(id: string): Promise<boolean>;\n  \n  // Projects\n  getProjects(): Promise<any[]>;\n  getProject(id: string): Promise<any>;\n  createProject(project: any): Promise<any>;\n  updateProject(id: string, project: any): Promise<any>;\n  deleteProject(id: string): Promise<boolean>;\n  \n  // Hero Images\n  getHeroImages(): Promise<HeroImage[]>;\n  getHeroImage(id: string): Promise<HeroImage | undefined>;\n  createHeroImage(heroImage: InsertHeroImage): Promise<HeroImage>;\n  updateHeroImage(id: string, heroImage: Partial<InsertHeroImage>): Promise<HeroImage | undefined>;\n  deleteHeroImage(id: string): Promise<boolean>;\n  \n  // Data management\n  clearAllData(): Promise<void>;\n  populateSampleData(): Promise<void>;\n}\n\nexport class MemStorage implements IStorage {\n  private categories: Map<string, Category> = new Map();\n  private products: Map<string, Product> = new Map();\n  private contactMessages: Map<string, ContactMessage> = new Map();\n  private adminUsers: Map<string, AdminUser> = new Map();\n  private brands: Map<string, Brand> = new Map();\n  private heroImages: Map<string, HeroImage> = new Map();\n\n  constructor() {\n    this.seedData();\n  }\n\n  private async seedData() {\n    // Seed admin user (owner access)\n    const hashedPassword = await bcrypt.hash(\"admin123\", 10);\n    const adminUser: AdminUser = {\n      id: randomUUID(),\n      username: \"admin\",\n      password: hashedPassword,\n      email: \"admin@electrolight.com\",\n      isActive: true,\n      createdAt: new Date().toISOString(),\n    };\n    this.adminUsers.set(adminUser.username, adminUser);\n\n    // Seed categories\n    const categoriesData: InsertCategory[] = [\n      { name: \"Accessories\", slug: \"accessories\", icon: \"fas fa-plug\" },\n      { name: \"Bamboo\", slug: \"bamboo\", icon: \"fas fa-seedling\" },\n      { name: \"Baseboard Heater & Accessories\", slug: \"baseboard\", icon: \"fas fa-thermometer-half\" },\n      { name: \"Construction\", slug: \"construction\", icon: \"fas fa-hard-hat\" },\n      { name: \"Driver\", slug: \"driver\", icon: \"fas fa-microchip\" },\n      { name: \"Extension Rings\", slug: \"extension-rings\", icon: \"fas fa-circle-notch\" },\n      { name: \"Gangable Boxes\", slug: \"gangable-boxes\", icon: \"fas fa-cube\" },\n      { name: \"GI Wire\", slug: \"gi-wire\", icon: \"fas fa-project-diagram\" },\n      { name: \"Ground Plate\", slug: \"ground-plate\", icon: \"fas fa-square\" },\n      { name: \"Light\", slug: \"light\", icon: \"fas fa-lightbulb\" },\n      { name: \"Metal Box\", slug: \"metal-box\", icon: \"fas fa-box\" },\n      { name: \"Metal Plates\", slug: \"metal-plates\", icon: \"fas fa-square-full\" },\n      { name: \"Milk Carton\", slug: \"milk-carton\", icon: \"fas fa-archive\" },\n      { name: \"Octagonal Box\", slug: \"octagonal-box\", icon: \"fas fa-stop\" },\n      { name: \"Plastic Box\", slug: \"plastic-box\", icon: \"fas fa-cube\" },\n      { name: \"Pot Light\", slug: \"pot-light\", icon: \"fas fa-circle\" },\n      { name: \"Puck Light\", slug: \"puck-light\", icon: \"fas fa-dot-circle\" },\n      { name: \"PVC Pipe\", slug: \"pvc-pipe\", icon: \"fas fa-grip-lines\" },\n      { name: \"Smoke Alarm\", slug: \"smoke-alarm\", icon: \"fas fa-exclamation-triangle\" },\n    ];\n\n    categoriesData.forEach(cat => {\n      const category: Category = { ...cat, id: randomUUID() };\n      this.categories.set(category.id, category);\n    });\n\n    // Seed products\n    const productsData: InsertProduct[] = [\n      {\n        name: \"Professional LED Light Fixture\",\n        description: \"High-efficiency LED lighting for commercial applications\",\n        price: \"149.99\",\n        categoryId: Array.from(this.categories.values()).find(c => c.slug === \"light\")?.id || \"\",\n        imageUrl: \"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300\",\n        specifications: [\"Professional grade construction\", \"UL Listed for safety compliance\", \"5-year manufacturer warranty\", \"Easy installation design\"],\n        inStock: true,\n        featured: true,\n      },\n      {\n        name: \"200A Electrical Panel\",\n        description: \"Main electrical distribution panel for residential use\",\n        price: \"299.99\",\n        categoryId: Array.from(this.categories.values()).find(c => c.slug === \"construction\")?.id || \"\",\n        imageUrl: \"https://images.unsplash.com/photo-1621905251189-08b45d6a269e?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300\",\n        specifications: [\"200 amp capacity\", \"Weather resistant\", \"NEMA certified\", \"Complete installation kit\"],\n        inStock: true,\n        featured: true,\n      },\n      {\n        name: \"Wire Connector Set\",\n        description: \"Professional grade wire nuts and connectors\",\n        price: \"24.99\",\n        categoryId: Array.from(this.categories.values()).find(c => c.slug === \"accessories\")?.id || \"\",\n        imageUrl: \"https://images.unsplash.com/photo-1581092160562-40aa08e78837?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300\",\n        specifications: [\"Multiple sizes included\", \"Copper conductor compatible\", \"UL Listed\", \"100-piece set\"],\n        inStock: true,\n        featured: false,\n      },\n      {\n        name: \"4\\\" Metal Junction Box\",\n        description: \"Heavy-duty steel junction box for commercial use\",\n        price: \"18.99\",\n        categoryId: Array.from(this.categories.values()).find(c => c.slug === \"metal-box\")?.id || \"\",\n        imageUrl: \"https://images.unsplash.com/photo-1621905251189-08b45d6a269e?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300\",\n        specifications: [\"Galvanized steel construction\", \"4-inch diameter\", \"Weather resistant coating\", \"Easy mounting design\"],\n        inStock: true,\n        featured: false,\n      },\n      {\n        name: \"GFCI Ground Fault Outlet\",\n        description: \"Safety outlet with ground fault circuit interruption\",\n        price: \"34.99\",\n        categoryId: Array.from(this.categories.values()).find(c => c.slug === \"ground-plate\")?.id || \"\",\n        imageUrl: \"https://images.unsplash.com/photo-1608042314453-ae338d80c427?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300\",\n        specifications: [\"GFCI protection\", \"Tamper resistant\", \"15A rated\", \"White finish\"],\n        inStock: true,\n        featured: true,\n      },\n      {\n        name: \"20A Circuit Breaker\",\n        description: \"Single pole circuit breaker for electrical panels\",\n        price: \"12.99\",\n        categoryId: Array.from(this.categories.values()).find(c => c.slug === \"construction\")?.id || \"\",\n        imageUrl: \"https://images.unsplash.com/photo-1621905251189-08b45d6a269e?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300\",\n        specifications: [\"20 amp rating\", \"Single pole design\", \"Standard fit\", \"UL Listed\"],\n        inStock: true,\n        featured: false,\n      },\n      {\n        name: \"Smart Smoke Detector\",\n        description: \"Advanced smoke detection with mobile alerts\",\n        price: \"89.99\",\n        categoryId: Array.from(this.categories.values()).find(c => c.slug === \"smoke-alarm\")?.id || \"\",\n        imageUrl: \"https://images.unsplash.com/photo-1558822011-d7c93255e78d?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300\",\n        specifications: [\"WiFi connectivity\", \"Mobile app alerts\", \"10-year battery\", \"Voice alerts\"],\n        inStock: true,\n        featured: true,\n      },\n      {\n        name: \"Heavy Duty Extension Cord\",\n        description: \"50ft outdoor rated extension cord\",\n        price: \"45.99\",\n        categoryId: Array.from(this.categories.values()).find(c => c.slug === \"accessories\")?.id || \"\",\n        imageUrl: \"https://images.unsplash.com/photo-1614624532983-4ce03382d63d?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300\",\n        specifications: [\"50 feet length\", \"Outdoor rated\", \"SJTW cable\", \"Lighted end\"],\n        inStock: true,\n        featured: false,\n      },\n    ];\n\n    productsData.forEach(prod => {\n      const product: Product = { \n        ...prod, \n        id: randomUUID(), \n        specifications: prod.specifications || null,\n        inStock: prod.inStock ?? true,\n        featured: prod.featured ?? false\n      };\n      this.products.set(product.id, product);\n    });\n  }\n\n  async getCategories(): Promise<Category[]> {\n    return Array.from(this.categories.values());\n  }\n\n  async getCategoryBySlug(slug: string): Promise<Category | undefined> {\n    return Array.from(this.categories.values()).find(cat => cat.slug === slug);\n  }\n\n  async createCategory(category: InsertCategory): Promise<Category> {\n    const id = randomUUID();\n    const newCategory: Category = { ...category, id };\n    this.categories.set(id, newCategory);\n    return newCategory;\n  }\n\n  async updateCategory(id: string, categoryData: Partial<InsertCategory>): Promise<Category | undefined> {\n    const category = this.categories.get(id);\n    if (!category) return undefined;\n    const updated = { ...category, ...categoryData };\n    this.categories.set(id, updated);\n    return updated;\n  }\n\n  async deleteCategory(id: string): Promise<boolean> {\n    return this.categories.delete(id);\n  }\n\n  // Brand methods\n  async getBrands(): Promise<Brand[]> {\n    return Array.from(this.brands.values()).filter(brand => brand.isActive);\n  }\n\n  async getBrand(id: string): Promise<Brand | undefined> {\n    return this.brands.get(id);\n  }\n\n  async createBrand(brandData: InsertBrand): Promise<Brand> {\n    const id = randomUUID();\n    const brand: Brand = { \n      ...brandData, \n      id,\n      createdAt: new Date().toISOString() \n    };\n    this.brands.set(id, brand);\n    return brand;\n  }\n\n  async updateBrand(id: string, brandData: Partial<InsertBrand>): Promise<Brand | undefined> {\n    const brand = this.brands.get(id);\n    if (!brand) return undefined;\n    const updated = { ...brand, ...brandData };\n    this.brands.set(id, updated);\n    return updated;\n  }\n\n  async deleteBrand(id: string): Promise<boolean> {\n    const brand = this.brands.get(id);\n    if (!brand) return false;\n    // Soft delete - mark as inactive\n    const updated = { ...brand, isActive: false };\n    this.brands.set(id, updated);\n    return true;\n  }\n\n  async getProducts(categorySlug?: string): Promise<Product[]> {\n    const products = Array.from(this.products.values());\n    if (!categorySlug) return products;\n    \n    const category = await this.getCategoryBySlug(categorySlug);\n    if (!category) return [];\n    \n    return products.filter(product => product.categoryId === category.id);\n  }\n\n  async getProduct(id: string): Promise<Product | undefined> {\n    return this.products.get(id);\n  }\n\n  async createProduct(product: InsertProduct): Promise<Product> {\n    const id = randomUUID();\n    const newProduct: Product = { \n      ...product, \n      id,\n      specifications: product.specifications || null,\n      inStock: product.inStock ?? true,\n      featured: product.featured ?? false\n    };\n    this.products.set(id, newProduct);\n    return newProduct;\n  }\n\n  async updateProduct(id: string, product: Partial<InsertProduct>): Promise<Product | undefined> {\n    const existing = this.products.get(id);\n    if (!existing) return undefined;\n    \n    const updated: Product = { ...existing, ...product };\n    this.products.set(id, updated);\n    return updated;\n  }\n\n  async deleteProduct(id: string): Promise<boolean> {\n    return this.products.delete(id);\n  }\n\n  async createContactMessage(message: InsertContactMessage): Promise<ContactMessage> {\n    const id = randomUUID();\n    const newMessage: ContactMessage = { \n      ...message, \n      id, \n      phone: message.phone || null,\n      createdAt: new Date().toISOString() \n    };\n    this.contactMessages.set(id, newMessage);\n    return newMessage;\n  }\n\n  async getContactMessages(): Promise<ContactMessage[]> {\n    return Array.from(this.contactMessages.values());\n  }\n\n  async getAdminByUsername(username: string): Promise<AdminUser | undefined> {\n    return this.adminUsers.get(username);\n  }\n\n  async createAdminUser(adminData: InsertAdminUser): Promise<AdminUser> {\n    const hashedPassword = await bcrypt.hash(adminData.password, 10);\n    const id = randomUUID();\n    const admin: AdminUser = {\n      ...adminData,\n      id,\n      password: hashedPassword,\n      isActive: adminData.isActive ?? true,\n      createdAt: new Date().toISOString(),\n    };\n    this.adminUsers.set(admin.username, admin);\n    return admin;\n  }\n\n  async verifyAdminPassword(username: string, password: string): Promise<boolean> {\n    const admin = this.adminUsers.get(username);\n    if (!admin || !admin.isActive) {\n      return false;\n    }\n    return await bcrypt.compare(password, admin.password);\n  }\n\n  async getAllAdmins(): Promise<AdminUser[]> {\n    return Array.from(this.adminUsers.values());\n  }\n\n  // Stub implementations for missing methods\n  async deleteContactMessage(id: string): Promise<boolean> {\n    return this.contactMessages.delete(id);\n  }\n\n  async getAccessories(): Promise<any[]> {\n    return []; // Stub implementation\n  }\n\n  async getAccessory(id: string): Promise<any> {\n    return undefined; // Stub implementation\n  }\n\n  async createAccessory(accessory: any): Promise<any> {\n    const id = randomUUID();\n    return { ...accessory, id }; // Stub implementation\n  }\n\n  async updateAccessory(id: string, accessory: any): Promise<any> {\n    return undefined; // Stub implementation\n  }\n\n  async deleteAccessory(id: string): Promise<boolean> {\n    return false; // Stub implementation\n  }\n\n  async getProjects(): Promise<any[]> {\n    return []; // Stub implementation\n  }\n\n  async getProject(id: string): Promise<any> {\n    return undefined; // Stub implementation\n  }\n\n  async createProject(project: any): Promise<any> {\n    const id = randomUUID();\n    return { ...project, id }; // Stub implementation\n  }\n\n  async updateProject(id: string, project: any): Promise<any> {\n    return undefined; // Stub implementation\n  }\n\n  async deleteProject(id: string): Promise<boolean> {\n    return false; // Stub implementation\n  }\n\n  async clearAllData(): Promise<void> {\n    this.products.clear();\n    this.contactMessages.clear();\n    // Don't clear categories, admin users, or brands in development\n  }\n\n  // Hero Images\n  async getHeroImages(): Promise<HeroImage[]> {\n    return Array.from(this.heroImages.values()).sort((a, b) => a.order - b.order);\n  }\n\n  async getHeroImage(id: string): Promise<HeroImage | undefined> {\n    return this.heroImages.get(id);\n  }\n\n  async createHeroImage(heroImageData: InsertHeroImage): Promise<HeroImage> {\n    const id = randomUUID();\n    const heroImage: HeroImage = {\n      id,\n      ...heroImageData,\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString(),\n    };\n    this.heroImages.set(id, heroImage);\n    return heroImage;\n  }\n\n  async updateHeroImage(id: string, heroImageData: Partial<InsertHeroImage>): Promise<HeroImage | undefined> {\n    const existingHeroImage = this.heroImages.get(id);\n    if (!existingHeroImage) {\n      return undefined;\n    }\n\n    const updatedHeroImage: HeroImage = {\n      ...existingHeroImage,\n      ...heroImageData,\n      updatedAt: new Date().toISOString(),\n    };\n    this.heroImages.set(id, updatedHeroImage);\n    return updatedHeroImage;\n  }\n\n  async deleteHeroImage(id: string): Promise<boolean> {\n    return this.heroImages.delete(id);\n  }\n\n  async populateSampleData(): Promise<void> {\n    // Stub implementation - would add sample data\n  }\n}\n\nexport const storage = new MemStorage();\n","size_bytes":17228},"server/types.d.ts":{"content":"import 'express-session';\n\ndeclare module 'express-session' {\n  interface SessionData {\n    adminId?: string;\n    adminUsername?: string;\n  }\n}","size_bytes":143},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2263},"shared/schema.ts":{"content":"import { sql } from \"drizzle-orm\";\nimport { pgTable, text, varchar, decimal, integer, boolean, timestamp } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\nexport const categories = pgTable(\"categories\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  name: text(\"name\").notNull(),\n  slug: text(\"slug\").notNull().unique(),\n  imageUrl: text(\"image_url\").notNull(),\n});\n\nexport const products = pgTable(\"products\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  name: text(\"name\").notNull(),\n  description: text(\"description\").notNull(),\n  specifications: text(\"specifications\"), // Optional field for legacy compatibility\n  categorySlug: text(\"category_slug\").notNull(),\n  brand: text(\"brand\"),\n  imageUrl: text(\"image_url\").notNull(), // Primary image (required)\n  imageUrls: text(\"image_urls\").array(), // Additional images (optional)\n  specificationList: text(\"specification_list\").array(), // Array for table specs\n  accessories: text(\"accessories\").array(), // Accessory IDs that go with this product\n  inStock: boolean(\"in_stock\").default(true),\n  featured: boolean(\"featured\").default(false),\n});\n\n// Separate accessories table for dedicated accessory products\nexport const accessories = pgTable(\"accessories\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  name: text(\"name\").notNull(),\n  modelNumber: text(\"model_number\"),\n  description: text(\"description\").notNull(),\n  imageUrl: text(\"image_url\").notNull(), // Primary image (required)\n  imageUrls: text(\"image_urls\").array(), // Additional images (optional)\n  brand: text(\"brand\"),\n  compatibleWith: text(\"compatible_with\").array(), // Product categories or types\n  createdAt: text(\"created_at\").default(sql`CURRENT_TIMESTAMP`),\n});\n\nexport const contactMessages = pgTable(\"contact_messages\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  firstName: text(\"first_name\").notNull(),\n  lastName: text(\"last_name\").notNull(),\n  email: text(\"email\").notNull(),\n  phone: text(\"phone\"),\n  message: text(\"message\").notNull(),\n  submittedAt: text(\"submitted_at\").default(sql`CURRENT_TIMESTAMP`),\n});\n\nexport const adminUsers = pgTable(\"admin_users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  username: text(\"username\").notNull().unique(),\n  password: text(\"password\").notNull(),\n  email: text(\"email\").notNull().unique(),\n  isActive: boolean(\"is_active\").default(true),\n  createdAt: text(\"created_at\").default(sql`CURRENT_TIMESTAMP`),\n});\n\nexport const brands = pgTable(\"brands\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  name: text(\"name\").notNull().unique(),\n  description: text(\"description\"),\n  website: text(\"website\"),\n  isActive: boolean(\"is_active\").default(true),\n  createdAt: text(\"created_at\").default(sql`CURRENT_TIMESTAMP`),\n});\n\n// For local storage favorites (client-side only)\nexport const favoriteSchema = z.object({\n  productId: z.string(),\n  addedAt: z.string(),\n});\n\nexport const insertCategorySchema = createInsertSchema(categories).omit({\n  id: true,\n});\n\nexport const insertProductSchema = createInsertSchema(products).omit({\n  id: true,\n  specifications: true, // Exclude the legacy specifications field from validation\n});\n\nexport const insertContactMessageSchema = createInsertSchema(contactMessages).omit({\n  id: true,\n  submittedAt: true,\n});\n\nexport const insertAdminUserSchema = createInsertSchema(adminUsers).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertAccessorySchema = createInsertSchema(accessories).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertBrandSchema = createInsertSchema(brands).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const adminLoginSchema = z.object({\n  username: z.string().min(1, \"Username is required\"),\n  password: z.string().min(1, \"Password is required\"),\n});\n\n// Types\nexport type Accessory = typeof accessories.$inferSelect;\nexport type InsertAccessory = typeof insertAccessorySchema._type;\n\nexport type Category = typeof categories.$inferSelect;\nexport type Product = typeof products.$inferSelect;\nexport type ContactMessage = typeof contactMessages.$inferSelect;\nexport type AdminUser = typeof adminUsers.$inferSelect;\nexport type Brand = typeof brands.$inferSelect;\n\n// Hero Images table\nexport const heroImages = pgTable(\"hero_images\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  title: text(\"title\").notNull(),\n  imageUrl: text(\"image_url\").notNull(),\n  description: text(\"description\"),\n  isActive: boolean(\"is_active\").default(true),\n  order: integer(\"order\").default(0),\n  createdAt: text(\"created_at\").default(sql`CURRENT_TIMESTAMP`),\n  updatedAt: text(\"updated_at\").default(sql`CURRENT_TIMESTAMP`),\n});\n\nexport const insertHeroImageSchema = createInsertSchema(heroImages).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport type HeroImage = typeof heroImages.$inferSelect;\nexport type InsertHeroImage = z.infer<typeof insertHeroImageSchema>;\n\nexport type InsertCategory = z.infer<typeof insertCategorySchema>;\nexport type InsertProduct = z.infer<typeof insertProductSchema>;\nexport type InsertContactMessage = z.infer<typeof insertContactMessageSchema>;\nexport type InsertAdminUser = z.infer<typeof insertAdminUserSchema>;\nexport type InsertBrand = z.infer<typeof insertBrandSchema>;\nexport type AdminLogin = z.infer<typeof adminLoginSchema>;\nexport type Favorite = z.infer<typeof favoriteSchema>;\n\n// Projects schema\nexport const projects = pgTable(\"projects\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  title: varchar(\"title\").notNull(),\n  description: text(\"description\").notNull(),\n  category: varchar(\"category\").notNull(), // Commercial, Industrial, Residential, etc.\n  location: varchar(\"location\").notNull(),\n  primaryMediaUrl: varchar(\"primary_media_url\"), // Main image or video\n  additionalMediaUrls: text(\"additional_media_urls\").array().default([]), // Additional images/videos\n  completedDate: varchar(\"completed_date\").notNull(),\n  clientType: varchar(\"client_type\").notNull(),\n  imageUrls: text(\"image_urls\").array().default([]), // Legacy field for backward compatibility\n  productsUsed: varchar(\"products_used\").array().default([]), // Product IDs used in project\n  featured: boolean(\"featured\").default(false),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport const insertProjectSchema = createInsertSchema(projects).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport type Project = typeof projects.$inferSelect;\nexport type InsertProject = z.infer<typeof insertProjectSchema>;\n","size_bytes":6711},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { FavoritesProvider } from \"@/contexts/FavoritesContext\";\nimport { ThemeProvider } from \"@/contexts/ThemeContext\";\nimport Home from \"@/pages/home\";\nimport Products from \"@/pages/products\";\nimport Projects from \"@/pages/projects\";\nimport ProductDetail from \"@/pages/product-detail\";\nimport ProjectDetail from \"@/pages/project-detail\";\nimport Admin from \"@/pages/admin\";\nimport AdminLogin from \"@/pages/admin-login\";\nimport NotFound from \"@/pages/not-found\";\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route path=\"/\" component={Home} />\n      <Route path=\"/products\" component={Products} />\n      <Route path=\"/projects\" component={Projects} />\n      <Route path=\"/product/:id\" component={ProductDetail} />\n      <Route path=\"/project/:id\" component={ProjectDetail} />\n      <Route path=\"/admin/login\" component={AdminLogin} />\n      <Route path=\"/admin\" component={Admin} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <ThemeProvider defaultTheme=\"light\" storageKey=\"electrolight-ui-theme\">\n      <QueryClientProvider client={queryClient}>\n        <FavoritesProvider>\n          <TooltipProvider>\n            <Toaster />\n            <Router />\n          </TooltipProvider>\n        </FavoritesProvider>\n      </QueryClientProvider>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","size_bytes":1601},"client/src/index.css":{"content":"@import '@fortawesome/fontawesome-free/css/all.min.css';\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n:root {\n  --background: hsl(0 0% 100%);\n  --foreground: hsl(210 25% 7.8431%);\n  --card: hsl(180 6.6667% 97.0588%);\n  --card-foreground: hsl(210 25% 7.8431%);\n  --popover: hsl(0 0% 100%);\n  --popover-foreground: hsl(210 25% 7.8431%);\n  --primary: hsl(24.7059 95.9184% 53.1373%);\n  --primary-foreground: hsl(0 0% 100%);\n  --primary-dark: hsl(22.8571 91.5493% 54.5098%);\n  --primary-light: hsl(25.7143 92.4051% 64.1176%);\n  --secondary: hsl(210 25% 7.8431%);\n  --secondary-foreground: hsl(0 0% 100%);\n  --muted: hsl(240 1.9608% 90%);\n  --muted-foreground: hsl(210 25% 7.8431%);\n  --accent: hsl(211.5789 51.3514% 92.7451%);\n  --accent-foreground: hsl(203.8863 88.2845% 53.1373%);\n  --destructive: hsl(356.3033 90.5579% 54.3137%);\n  --destructive-foreground: hsl(0 0% 100%);\n  --border: hsl(201.4286 30.4348% 90.9804%);\n  --input: hsl(200 23.0769% 97.4510%);\n  --ring: hsl(24.7059 95.9184% 53.1373%);\n  --chart-1: hsl(203.8863 88.2845% 53.1373%);\n  --chart-2: hsl(159.7826 100% 36.0784%);\n  --chart-3: hsl(42.0290 92.8251% 56.2745%);\n  --chart-4: hsl(147.1429 78.5047% 41.9608%);\n  --chart-5: hsl(341.4894 75.2000% 50.9804%);\n  --sidebar: hsl(180 6.6667% 97.0588%);\n  --sidebar-foreground: hsl(210 25% 7.8431%);\n  --sidebar-primary: hsl(24.7059 95.9184% 53.1373%);\n  --sidebar-primary-foreground: hsl(0 0% 100%);\n  --sidebar-accent: hsl(211.5789 51.3514% 92.7451%);\n  --sidebar-accent-foreground: hsl(24.7059 95.9184% 53.1373%);\n  --sidebar-border: hsl(205.0000 25.0000% 90.5882%);\n  --sidebar-ring: hsl(24.7059 95.9184% 53.1373%);\n  --font-sans: Inter, sans-serif;\n  --font-serif: Georgia, serif;\n  --font-mono: Menlo, monospace;\n  --radius: 0.5rem;\n}\n\n.dark {\n  --background: hsl(0 0% 0%);\n  --foreground: hsl(200 6.6667% 91.1765%);\n  --card: hsl(228 9.8039% 10%);\n  --card-foreground: hsl(0 0% 85.0980%);\n  --popover: hsl(0 0% 0%);\n  --popover-foreground: hsl(200 6.6667% 91.1765%);\n  --primary: hsl(24.7059 95.9184% 53.1373%);\n  --primary-foreground: hsl(0 0% 100%);\n  --primary-dark: hsl(22.8571 91.5493% 54.5098%);\n  --primary-light: hsl(25.7143 92.4051% 64.1176%);\n  --secondary: hsl(195.0000 15.3846% 94.9020%);\n  --secondary-foreground: hsl(210 25% 7.8431%);\n  --muted: hsl(0 0% 9.4118%);\n  --muted-foreground: hsl(210 3.3898% 46.2745%);\n  --accent: hsl(205.7143 70% 7.8431%);\n  --accent-foreground: hsl(203.7736 87.6033% 52.5490%);\n  --destructive: hsl(356.3033 90.5579% 54.3137%);\n  --destructive-foreground: hsl(0 0% 100%);\n  --border: hsl(210 5.2632% 14.9020%);\n  --input: hsl(207.6923 27.6596% 18.4314%);\n  --ring: hsl(24.7059 95.9184% 53.1373%);\n  --sidebar: hsl(228 9.8039% 10%);\n  --sidebar-foreground: hsl(0 0% 85.0980%);\n  --sidebar-primary: hsl(24.7059 95.9184% 53.1373%);\n  --sidebar-primary-foreground: hsl(0 0% 100%);\n  --sidebar-accent: hsl(205.7143 70% 7.8431%);\n  --sidebar-accent-foreground: hsl(203.7736 87.6033% 52.5490%);\n  --sidebar-border: hsl(205.7143 15.7895% 26.0784%);\n  --sidebar-ring: hsl(24.7059 95.9184% 53.1373%);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n}\n\n.carousel-slide {\n  transition: opacity 1s ease-in-out;\n}\n\n.product-card {\n  transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;\n}\n\n.product-card:hover {\n  transform: translateY(-2px);\n}\n","size_bytes":3405},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":157},"client/src/components/about-section.tsx":{"content":"export default function AboutSection() {\n  return (\n    <section id=\"about\" className=\"py-16 bg-white dark:bg-gray-800\">\n      <div className=\"max-w-[1600px] 2xl:max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-8 xl:px-12\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center\">\n          <div>\n            <h2 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-6\">About ElectroLight</h2>\n            <p className=\"text-lg text-gray-600 dark:text-gray-300 mb-6\">\n              With over 20 years of experience in the electrical industry, ElectroLight has been a trusted partner for contractors, electricians, and homeowners across the region.\n            </p>\n            <p className=\"text-gray-600 dark:text-gray-300 mb-6\">\n              We specialize in providing high-quality electrical products ranging from basic components to advanced smart home solutions. Our commitment to quality and customer service has made us a leader in the electrical supply industry.\n            </p>\n            <div className=\"grid grid-cols-2 gap-6\">\n              <div className=\"text-center\">\n                <div className=\"text-3xl font-bold text-primary\">5000+</div>\n                <div className=\"text-gray-600 dark:text-gray-300\">Products</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-3xl font-bold text-primary\">20+</div>\n                <div className=\"text-gray-600 dark:text-gray-300\">Years Experience</div>\n              </div>\n            </div>\n          </div>\n          <div>\n            <img \n              src=\"https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400\" \n              alt=\"ElectroLight Warehouse\" \n              className=\"rounded-lg shadow-lg w-full\"\n            />\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n","size_bytes":1897},"client/src/components/brand-filter.tsx":{"content":"import { useLocation } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { \n  DropdownMenu, \n  DropdownMenuContent, \n  DropdownMenuItem, \n  DropdownMenuTrigger \n} from \"@/components/ui/dropdown-menu\";\nimport { ChevronDown, Building2 } from \"lucide-react\";\nimport { useQuery } from \"@tanstack/react-query\";\n\ninterface BrandFilterProps {\n  selectedBrand: string | null;\n  onBrandSelect?: (brand: string | null) => void;\n}\n\ninterface Brand {\n  id: string;\n  name: string;\n  description: string;\n  website: string;\n  isActive: boolean;\n}\n\nexport default function BrandFilter({ selectedBrand, onBrandSelect }: BrandFilterProps) {\n  const [, setLocation] = useLocation();\n\n  // Fetch brands from API\n  const { data: brands = [] } = useQuery<Brand[]>({\n    queryKey: ['/api/brands'],\n  });\n\n  const handleBrandSelect = (brand: string | null) => {\n    if (onBrandSelect) {\n      // If we're on the products page, use the callback\n      onBrandSelect(brand);\n    } else {\n      // If we're on the home page, redirect to products page\n      if (brand) {\n        setLocation(`/products?brand=${encodeURIComponent(brand)}`);\n      } else {\n        setLocation('/products');\n      }\n    }\n  };\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <Button variant=\"outline\" className=\"flex items-center gap-2\">\n          <Building2 className=\"h-4 w-4\" />\n          {selectedBrand || \"Brands\"}\n          <ChevronDown className=\"h-4 w-4\" />\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align=\"end\" className=\"w-48\">\n        <DropdownMenuItem onClick={() => handleBrandSelect(null)}>\n          <span className={!selectedBrand ? \"font-semibold\" : \"\"}>All Brands</span>\n        </DropdownMenuItem>\n        {brands.map((brand) => (\n          <DropdownMenuItem \n            key={brand.id} \n            onClick={() => handleBrandSelect(brand.name)}\n          >\n            <span className={selectedBrand === brand.name ? \"font-semibold\" : \"\"}>{brand.name}</span>\n          </DropdownMenuItem>\n        ))}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}","size_bytes":2110},"client/src/components/category-nav.tsx":{"content":"import { Link } from \"wouter\";\nimport type { Category } from \"@shared/schema\";\n\ninterface CategoryNavProps {\n  categories: Category[];\n}\n\nexport default function CategoryNav({ categories }: CategoryNavProps) {\n  return (\n    <section className=\"py-16 bg-white dark:bg-gray-900\">\n      <div className=\"max-w-[1400px] mx-auto px-4\">\n        <h2 className=\"text-4xl font-bold text-center mb-12 text-gray-900 dark:text-white\">Shop by category</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n          {categories.map((category) => (\n            <Link\n              key={category.id}\n              href={`/products?category=${category.slug}`}\n              className=\"group block\"\n            >\n              <div className=\"relative overflow-hidden rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1\">\n                <div className=\"aspect-[4/3] relative overflow-hidden\">\n                  <img\n                    src={category.imageUrl}\n                    alt={category.name}\n                    className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500\"\n                  />\n                  {/* Dark overlay for text readability */}\n                  <div className=\"absolute inset-0 bg-black bg-opacity-20 group-hover:bg-opacity-30 transition-opacity duration-300\" />\n                  \n                  {/* Text overlay at bottom */}\n                  <div className=\"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/70 to-transparent\">\n                    <h3 className=\"text-white text-lg font-semibold text-center\">\n                      {category.name}\n                    </h3>\n                  </div>\n                </div>\n              </div>\n            </Link>\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n}","size_bytes":1890},"client/src/components/contact-section.tsx":{"content":"import { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { MapPin, Phone, Mail, Clock } from \"lucide-react\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport type { InsertContactMessage } from \"@shared/schema\";\n\nexport default function ContactSection() {\n  const [formData, setFormData] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    phone: \"\",\n    message: \"\",\n  });\n\n  const { toast } = useToast();\n\n  const contactMutation = useMutation({\n    mutationFn: async (data: InsertContactMessage) => {\n      const response = await apiRequest('POST', '/api/contact', data);\n      return response.json();\n    },\n    onSuccess: () => {\n      toast({ title: \"Message sent successfully! We'll get back to you soon.\" });\n      setFormData({\n        firstName: \"\",\n        lastName: \"\",\n        email: \"\",\n        phone: \"\",\n        message: \"\",\n      });\n    },\n    onError: () => {\n      toast({ \n        title: \"Failed to send message\", \n        description: \"Please try again later.\",\n        variant: \"destructive\" \n      });\n    },\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    contactMutation.mutate(formData);\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  return (\n    <section id=\"contact\" className=\"py-16 bg-gray-50 dark:bg-gray-900\">\n      <div className=\"max-w-[1600px] 2xl:max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-8 xl:px-12\">\n        <div className=\"text-center mb-12\">\n          <h2 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-4\">Get In Touch</h2>\n          <p className=\"text-lg text-gray-600 dark:text-gray-300\">Contact us for product inquiries or technical support</p>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12\">\n          {/* Contact Form */}\n          <Card>\n            <CardHeader>\n              <CardTitle>Send Us a Message</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <form onSubmit={handleSubmit} className=\"space-y-6\">\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\n                  <div>\n                    <Label htmlFor=\"firstName\">First Name</Label>\n                    <Input\n                      id=\"firstName\"\n                      name=\"firstName\"\n                      value={formData.firstName}\n                      onChange={handleInputChange}\n                      required\n                    />\n                  </div>\n                  <div>\n                    <Label htmlFor=\"lastName\">Last Name</Label>\n                    <Input\n                      id=\"lastName\"\n                      name=\"lastName\"\n                      value={formData.lastName}\n                      onChange={handleInputChange}\n                      required\n                    />\n                  </div>\n                </div>\n                <div>\n                  <Label htmlFor=\"email\">Email</Label>\n                  <Input\n                    id=\"email\"\n                    name=\"email\"\n                    type=\"email\"\n                    value={formData.email}\n                    onChange={handleInputChange}\n                    required\n                  />\n                </div>\n                <div>\n                  <Label htmlFor=\"phone\">Phone</Label>\n                  <Input\n                    id=\"phone\"\n                    name=\"phone\"\n                    type=\"tel\"\n                    value={formData.phone}\n                    onChange={handleInputChange}\n                  />\n                </div>\n                <div>\n                  <Label htmlFor=\"message\">Message</Label>\n                  <Textarea\n                    id=\"message\"\n                    name=\"message\"\n                    rows={4}\n                    value={formData.message}\n                    onChange={handleInputChange}\n                    required\n                  />\n                </div>\n                <Button \n                  type=\"submit\" \n                  className=\"w-full bg-primary hover:bg-primary-dark\"\n                  disabled={contactMutation.isPending}\n                >\n                  {contactMutation.isPending ? 'Sending...' : 'Send Message'}\n                </Button>\n              </form>\n            </CardContent>\n          </Card>\n\n          {/* Contact Information & Map */}\n          <div className=\"space-y-8\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Contact Information</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"flex items-center space-x-4\">\n                  <div className=\"w-10 h-10 bg-primary rounded-lg flex items-center justify-center\">\n                    <MapPin className=\"text-white h-5 w-5\" />\n                  </div>\n                  <div>\n                    <div className=\"font-medium text-gray-900\">Address</div>\n                    <div className=\"text-gray-600\">123 Industrial Blvd, City, State 12345</div>\n                  </div>\n                </div>\n                <div className=\"flex items-center space-x-4\">\n                  <div className=\"w-10 h-10 bg-primary rounded-lg flex items-center justify-center\">\n                    <Phone className=\"text-white h-5 w-5\" />\n                  </div>\n                  <div>\n                    <div className=\"font-medium text-gray-900\">Phone</div>\n                    <div className=\"text-gray-600\">(555) 123-4567</div>\n                  </div>\n                </div>\n                <div className=\"flex items-center space-x-4\">\n                  <div className=\"w-10 h-10 bg-primary rounded-lg flex items-center justify-center\">\n                    <Mail className=\"text-white h-5 w-5\" />\n                  </div>\n                  <div>\n                    <div className=\"font-medium text-gray-900\">Email</div>\n                    <div className=\"text-gray-600\">info@electrolight.com</div>\n                  </div>\n                </div>\n                <div className=\"flex items-center space-x-4\">\n                  <div className=\"w-10 h-10 bg-primary rounded-lg flex items-center justify-center\">\n                    <Clock className=\"text-white h-5 w-5\" />\n                  </div>\n                  <div>\n                    <div className=\"font-medium text-gray-900\">Hours</div>\n                    <div className=\"text-gray-600\">Mon-Fri: 8AM-6PM, Sat: 9AM-4PM</div>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Interactive Map */}\n            <Card>\n              <CardHeader>\n                <CardTitle>Find Us</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"rounded-lg overflow-hidden\">\n                  <iframe \n                    src=\"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d5220.084432563068!2d-122.86963652309635!3d49.142822871372076!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x5485d9148d2038c1%3A0x6bb1b13af5fe6a52!2sElectrolight!5e0!3m2!1sen!2sca!4v1755380115686!5m2!1sen!2sca\" \n                    width=\"100%\" \n                    height=\"300\" \n                    style={{border: 0}} \n                    allowFullScreen \n                    loading=\"lazy\" \n                    referrerPolicy=\"no-referrer-when-downgrade\"\n                    title=\"ElectroLight Location\"\n                  />\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n","size_bytes":8036},"client/src/components/favorites-modal.tsx":{"content":"import { useState } from \"react\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Heart, X } from \"lucide-react\";\nimport { useFavorites } from \"@/hooks/useFavorites\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport type { Product } from \"@shared/schema\";\n\ninterface FavoritesModalProps {\n  onProductSelect: (product: Product) => void;\n}\n\nexport default function FavoritesModal({ onProductSelect }: FavoritesModalProps) {\n  const [isOpen, setIsOpen] = useState(false);\n  const { favorites, removeFromFavorites, getFavoriteCount } = useFavorites();\n  const favoriteCount = getFavoriteCount();\n\n  // Fetch all products to get details for favorited items\n  const { data: allProducts = [] } = useQuery<Product[]>({\n    queryKey: ['/api/products'],\n  });\n\n  // Filter products to show only favorites\n  const favoriteProducts = allProducts.filter(product =>\n    favorites.some(fav => fav.productId === product.id)\n  );\n\n  const handleProductClick = (product: Product) => {\n    setIsOpen(false);\n    onProductSelect(product);\n  };\n\n  const handleRemoveFavorite = (e: React.MouseEvent, productId: string) => {\n    e.stopPropagation();\n    removeFromFavorites(productId);\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={setIsOpen}>\n      <DialogTrigger asChild>\n        <Button variant=\"ghost\" size=\"sm\" title=\"View Favorites\" className=\"relative\">\n          <Heart className=\"h-5 w-5\" />\n          {favoriteCount > 0 && (\n            <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center\">\n              {favoriteCount}\n            </span>\n          )}\n        </Button>\n      </DialogTrigger>\n      <DialogContent className=\"max-w-4xl max-h-[80vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center space-x-2\">\n            <Heart className=\"h-5 w-5 text-red-500\" />\n            <span>My Favorites ({favoriteCount})</span>\n          </DialogTitle>\n        </DialogHeader>\n        \n        {favoriteProducts.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <Heart className=\"h-16 w-16 text-gray-300 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No favorites yet</h3>\n            <p className=\"text-gray-500\">\n              Start browsing products and click the heart icon to add them to your favorites!\n            </p>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {favoriteProducts.map((product) => (\n              <div\n                key={product.id}\n                className=\"bg-white border rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer relative\"\n                onClick={() => handleProductClick(product)}\n              >\n                <div className=\"relative\">\n                  <img\n                    src={product.imageUrl}\n                    alt={product.name}\n                    className=\"w-full h-32 object-cover rounded-t-lg\"\n                  />\n                  <button\n                    onClick={(e) => handleRemoveFavorite(e, product.id)}\n                    className=\"absolute top-2 right-2 p-1 bg-white rounded-full shadow-md hover:shadow-lg transition-all\"\n                    title=\"Remove from favorites\"\n                  >\n                    <X className=\"h-4 w-4 text-gray-500 hover:text-red-500\" />\n                  </button>\n                </div>\n                <div className=\"p-3\">\n                  <h3 className=\"font-medium text-gray-900 mb-1 line-clamp-1\">{product.name}</h3>\n                  <p className=\"text-gray-600 text-sm mb-2 line-clamp-2\">{product.description}</p>\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-lg font-bold text-primary\">${product.price}</span>\n                    <Button size=\"sm\" variant=\"outline\">\n                      View Details\n                    </Button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </DialogContent>\n    </Dialog>\n  );\n}","size_bytes":4270},"client/src/components/footer.tsx":{"content":"import { Zap } from \"lucide-react\";\nimport { Link } from \"wouter\";\n\nexport default function Footer() {\n  const scrollToSection = (sectionId: string) => {\n    const element = document.getElementById(sectionId);\n    if (element) {\n      element.scrollIntoView({ behavior: 'smooth' });\n    }\n  };\n\n  return (\n    <footer className=\"bg-gray-900 dark:bg-gray-950 text-white py-12\">\n      <div className=\"max-w-[1600px] 2xl:max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-8 xl:px-12\">\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\n          <div>\n            <div className=\"flex items-center space-x-2 mb-4\">\n              <img \n                src=\"/logo.png\" \n                alt=\"ElectroLight Logo\" \n                className=\"w-8 h-8 object-contain\"\n              />\n              <h3 className=\"text-xl font-bold\">ElectroLight</h3>\n            </div>\n            <p className=\"text-gray-300 dark:text-gray-400 mb-4\">Professional electrical products for every project.</p>\n            <div className=\"flex space-x-4\">\n              <a href=\"#\" className=\"text-gray-300 hover:text-primary\">\n                <i className=\"fab fa-facebook\"></i>\n              </a>\n              <a href=\"#\" className=\"text-gray-300 hover:text-primary\">\n                <i className=\"fab fa-twitter\"></i>\n              </a>\n              <a href=\"#\" className=\"text-gray-300 hover:text-primary\">\n                <i className=\"fab fa-linkedin\"></i>\n              </a>\n              <a href=\"#\" className=\"text-gray-300 hover:text-primary\">\n                <i className=\"fab fa-instagram\"></i>\n              </a>\n            </div>\n          </div>\n          <div>\n            <h4 className=\"font-semibold mb-4\">Quick Links</h4>\n            <ul className=\"space-y-2 text-gray-300 dark:text-gray-400\">\n              <li>\n                <button \n                  onClick={() => scrollToSection('home')}\n                  className=\"hover:text-primary transition-colors\"\n                >\n                  Home\n                </button>\n              </li>\n              <li>\n                <button \n                  onClick={() => scrollToSection('products')}\n                  className=\"hover:text-primary transition-colors\"\n                >\n                  Products\n                </button>\n              </li>\n              <li>\n                <button \n                  onClick={() => scrollToSection('about')}\n                  className=\"hover:text-primary transition-colors\"\n                >\n                  About\n                </button>\n              </li>\n              <li>\n                <button \n                  onClick={() => scrollToSection('contact')}\n                  className=\"hover:text-primary transition-colors\"\n                >\n                  Contact\n                </button>\n              </li>\n            </ul>\n          </div>\n          <div>\n            <h4 className=\"font-semibold mb-4\">Product Categories</h4>\n            <ul className=\"space-y-2 text-gray-300\">\n              <li><a href=\"#\" className=\"hover:text-primary\">Lighting</a></li>\n              <li><a href=\"#\" className=\"hover:text-primary\">Wiring</a></li>\n              <li><a href=\"#\" className=\"hover:text-primary\">Safety</a></li>\n              <li><a href=\"#\" className=\"hover:text-primary\">Tools</a></li>\n            </ul>\n          </div>\n          <div>\n            <h4 className=\"font-semibold mb-4\">Support</h4>\n            <ul className=\"space-y-2 text-gray-300\">\n              <li><a href=\"#\" className=\"hover:text-primary\">Help Center</a></li>\n              <li><a href=\"#\" className=\"hover:text-primary\">Returns</a></li>\n              <li><a href=\"#\" className=\"hover:text-primary\">Shipping</a></li>\n              <li><a href=\"#\" className=\"hover:text-primary\">FAQs</a></li>\n            </ul>\n          </div>\n        </div>\n        <div className=\"border-t border-gray-700 mt-8 pt-8 text-center text-gray-300\">\n          <p>&copy; 2024 ElectroLight. All rights reserved.</p>\n        </div>\n      </div>\n    </footer>\n  );\n}\n","size_bytes":4041},"client/src/components/header.tsx":{"content":"import { Search, Zap, Menu, X, Phone } from \"lucide-react\";\nimport { useState, useRef, useEffect } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport FavoritesModal from \"@/components/favorites-modal\";\nimport BrandFilter from \"@/components/brand-filter\";\nimport { ThemeToggle } from \"@/components/theme-toggle\";\nimport { useLocation } from \"wouter\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport type { Product, Accessory } from \"@shared/schema\";\n\ninterface HeaderProps {\n  searchQuery: string;\n  onSearchChange: (query: string) => void;\n  onProductSelect: (product: any) => void;\n  selectedBrand?: string | null;\n  onBrandSelect?: (brand: string | null) => void;\n}\n\nexport default function Header({ searchQuery, onSearchChange, onProductSelect, selectedBrand, onBrandSelect }: HeaderProps) {\n  const [, setLocation] = useLocation();\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n  const [showSearchDropdown, setShowSearchDropdown] = useState(false);\n  const searchRef = useRef<HTMLDivElement>(null);\n\n  // Get combined search results for suggestions\n  const { data: searchResults } = useQuery<{products: Product[], accessories: Accessory[]}>({\n    queryKey: [`/api/search?q=${encodeURIComponent(searchQuery.trim())}`],\n    enabled: searchQuery.trim().length > 0,\n  });\n\n  // Combine products and accessories for search suggestions\n  const searchSuggestions = searchQuery.trim() && searchResults \n    ? [\n        ...searchResults.products.map(item => ({ ...item, type: 'product' as const })),\n        ...searchResults.accessories.map(item => ({ ...item, type: 'accessory' as const, categorySlug: 'accessories' }))\n      ]\n    : [];\n\n  // Handle clicking outside search dropdown\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (searchRef.current && !searchRef.current.contains(event.target as Node)) {\n        setShowSearchDropdown(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const handleSearchInput = (value: string) => {\n    onSearchChange(value);\n    setShowSearchDropdown(value.trim().length > 0);\n  };\n\n  const handleSearchSubmit = (e?: React.FormEvent) => {\n    e?.preventDefault();\n    if (searchQuery.trim()) {\n      setLocation(`/products?search=${encodeURIComponent(searchQuery.trim())}`);\n      setShowSearchDropdown(false);\n    }\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter') {\n      handleSearchSubmit();\n    } else if (e.key === 'Escape') {\n      setShowSearchDropdown(false);\n    }\n  };\n\n  const handleProductSelect = (item: any) => {\n    setLocation(`/product/${item.id}`);\n    setShowSearchDropdown(false);\n    onSearchChange(''); // Clear search\n  };\n\n  const scrollToSection = (sectionId: string) => {\n    const element = document.getElementById(sectionId);\n    if (element) {\n      element.scrollIntoView({ behavior: 'smooth' });\n    }\n  };\n\n  const handleNavigation = (sectionId: string) => {\n    if (window.location.pathname === '/') {\n      // On home page, scroll to section\n      scrollToSection(sectionId);\n    } else {\n      // On other pages, navigate to home then scroll\n      setLocation('/');\n      setTimeout(() => scrollToSection(sectionId), 100);\n    }\n  };\n\n  return (\n    <header className=\"bg-white dark:bg-gray-900 shadow-sm border-b border-gray-200 dark:border-gray-700 sticky top-0 z-50\">\n      <div className=\"max-w-[1600px] 2xl:max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-8 xl:px-12\">\n        <div className=\"flex justify-between items-center h-20\">\n          <div className=\"flex items-center\">\n            <button \n              onClick={() => setLocation('/')}\n              className=\"flex items-center hover:opacity-80 transition-opacity\"\n            >\n              <img \n                src=\"/logo.png\" \n                alt=\"ElectroLight\" \n                className=\"w-24 h-18 object-contain\"\n              />\n            </button>\n          </div>\n          \n          {/* Desktop Navigation */}\n          <div className=\"hidden md:flex items-center space-x-8\">\n            <nav className=\"flex space-x-8\">\n              <button \n                onClick={() => handleNavigation('home')}\n                className=\"text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary transition-colors\"\n              >\n                Home\n              </button>\n              <button \n                onClick={() => setLocation('/products')}\n                className=\"text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary transition-colors\"\n              >\n                Products\n              </button>\n              <button \n                onClick={() => setLocation('/projects')}\n                className=\"text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary transition-colors\"\n              >\n                Projects\n              </button>\n              <button \n                onClick={() => handleNavigation('about')}\n                className=\"text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary transition-colors\"\n              >\n                About\n              </button>\n              <button \n                onClick={() => handleNavigation('contact')}\n                className=\"text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary transition-colors\"\n              >\n                Contact\n              </button>\n            </nav>\n            <div className=\"flex items-center space-x-4\">\n              {/* Contact Number */}\n              <div className=\"hidden xl:flex items-center space-x-2 px-3 py-2 bg-primary/10 dark:bg-primary/20 rounded-full border border-primary/20 hover:bg-primary/20 dark:hover:bg-primary/30 transition-colors\">\n                <Phone className=\"h-4 w-4 text-primary\" />\n                <span className=\"font-semibold text-primary text-sm\">(555) 123-4567</span>\n              </div>\n              \n              <div className=\"relative\" ref={searchRef}>\n                <form onSubmit={handleSearchSubmit}>\n                  <Input\n                    type=\"text\"\n                    placeholder=\"Search products...\"\n                    value={searchQuery}\n                    onChange={(e) => handleSearchInput(e.target.value)}\n                    onKeyDown={handleKeyDown}\n                    className=\"w-64 pl-10\"\n                  />\n                  <Search className=\"absolute left-3 top-3 h-4 w-4 text-gray-400\" />\n                </form>\n                \n                {/* Search Dropdown */}\n                {showSearchDropdown && searchSuggestions.length > 0 && (\n                  <div className=\"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50 max-h-80 overflow-y-auto\">\n                    {searchSuggestions.map((item) => (\n                      <button\n                        key={`${item.type}-${item.id}`}\n                        onClick={() => handleProductSelect(item)}\n                        className=\"w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-600 last:border-b-0\"\n                      >\n                        <div className=\"flex items-center space-x-3\">\n                          <img \n                            src={item.imageUrl} \n                            alt={item.name}\n                            className=\"w-10 h-10 object-cover rounded-md\"\n                          />\n                          <div className=\"flex-1 min-w-0\">\n                            <div className=\"flex items-center space-x-2\">\n                              <h4 className=\"font-medium text-gray-900 dark:text-white truncate\">\n                                {item.name}\n                              </h4>\n                              <span className={`px-2 py-1 text-xs rounded-full ${\n                                item.type === 'product' \n                                  ? 'bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300' \n                                  : 'bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300'\n                              }`}>\n                                {item.type === 'product' ? 'Product' : 'Accessory'}\n                              </span>\n                            </div>\n                            <p className=\"text-sm text-gray-500 dark:text-gray-400 truncate\">\n                              {item.brand ? `${item.brand} | ` : ''}\n                              {item.categorySlug?.replace(/-/g, ' ') || 'accessories'}\n                            </p>\n                          </div>\n                        </div>\n                      </button>\n                    ))}\n                    \n                    {/* View all results option */}\n                    <button\n                      onClick={handleSearchSubmit}\n                      className=\"w-full text-left px-4 py-3 bg-primary/5 hover:bg-primary/10 text-primary font-medium\"\n                    >\n                      View all results for \"{searchQuery}\"\n                    </button>\n                  </div>\n                )}\n              </div>\n              <BrandFilter selectedBrand={selectedBrand} onBrandSelect={onBrandSelect} />\n              <ThemeToggle />\n              <FavoritesModal onProductSelect={onProductSelect} />\n            </div>\n          </div>\n\n          {/* Mobile Menu Button */}\n          <div className=\"md:hidden flex items-center space-x-2\">\n            <ThemeToggle />\n            <FavoritesModal onProductSelect={onProductSelect} />\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}\n              className=\"text-gray-700 dark:text-gray-300\"\n            >\n              {isMobileMenuOpen ? <X className=\"h-6 w-6\" /> : <Menu className=\"h-6 w-6\" />}\n            </Button>\n          </div>\n        </div>\n\n        {/* Mobile Menu */}\n        {isMobileMenuOpen && (\n          <div className=\"md:hidden bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700\">\n            <div className=\"px-4 py-4 space-y-4\">\n              {/* Mobile Search */}\n              <div className=\"relative\">\n                <form onSubmit={handleSearchSubmit}>\n                  <Input\n                    type=\"text\"\n                    placeholder=\"Search products...\"\n                    value={searchQuery}\n                    onChange={(e) => handleSearchInput(e.target.value)}\n                    onKeyDown={handleKeyDown}\n                    className=\"w-full pl-10\"\n                  />\n                  <Search className=\"absolute left-3 top-3 h-4 w-4 text-gray-400\" />\n                </form>\n                \n                {/* Mobile Search Dropdown */}\n                {showSearchDropdown && searchSuggestions.length > 0 && (\n                  <div className=\"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto\">\n                    {searchSuggestions.map((item) => (\n                      <button\n                        key={`mobile-${item.type}-${item.id}`}\n                        onClick={() => {\n                          handleProductSelect(item);\n                          setIsMobileMenuOpen(false);\n                        }}\n                        className=\"w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700 border-b border-gray-100 dark:border-gray-600 last:border-b-0\"\n                      >\n                        <div className=\"flex items-center space-x-3\">\n                          <img \n                            src={item.imageUrl} \n                            alt={item.name}\n                            className=\"w-8 h-8 object-cover rounded-md\"\n                          />\n                          <div className=\"flex-1 min-w-0\">\n                            <div className=\"flex items-center space-x-2\">\n                              <h4 className=\"font-medium text-gray-900 dark:text-white text-sm truncate\">\n                                {item.name}\n                              </h4>\n                              <span className={`px-1.5 py-0.5 text-xs rounded-full ${\n                                item.type === 'product' \n                                  ? 'bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300' \n                                  : 'bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300'\n                              }`}>\n                                {item.type === 'product' ? 'Product' : 'Accessory'}\n                              </span>\n                            </div>\n                            <p className=\"text-xs text-gray-500 dark:text-gray-400 truncate\">\n                              {item.brand ? `${item.brand} | ` : ''}\n                              {item.categorySlug?.replace(/-/g, ' ') || 'accessories'}\n                            </p>\n                          </div>\n                        </div>\n                      </button>\n                    ))}\n                    \n                    <button\n                      onClick={() => {\n                        handleSearchSubmit();\n                        setIsMobileMenuOpen(false);\n                      }}\n                      className=\"w-full text-left px-4 py-3 bg-primary/5 hover:bg-primary/10 text-primary font-medium text-sm\"\n                    >\n                      View all results for \"{searchQuery}\"\n                    </button>\n                  </div>\n                )}\n              </div>\n              \n              {/* Mobile Brand Filter */}\n              <BrandFilter selectedBrand={selectedBrand} onBrandSelect={onBrandSelect} />\n              \n              {/* Mobile Navigation */}\n              <nav className=\"space-y-2\">\n                <button \n                  onClick={() => {\n                    handleNavigation('home');\n                    setIsMobileMenuOpen(false);\n                  }}\n                  className=\"block w-full text-left px-3 py-2 text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors\"\n                >\n                  Home\n                </button>\n                <button \n                  onClick={() => {\n                    setLocation('/products');\n                    setIsMobileMenuOpen(false);\n                  }}\n                  className=\"block w-full text-left px-3 py-2 text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors\"\n                >\n                  Products\n                </button>\n                <button \n                  onClick={() => {\n                    setLocation('/projects');\n                    setIsMobileMenuOpen(false);\n                  }}\n                  className=\"block w-full text-left px-3 py-2 text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors\"\n                >\n                  Projects\n                </button>\n                <button \n                  onClick={() => {\n                    handleNavigation('about');\n                    setIsMobileMenuOpen(false);\n                  }}\n                  className=\"block w-full text-left px-3 py-2 text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors\"\n                >\n                  About\n                </button>\n                <button \n                  onClick={() => {\n                    handleNavigation('contact');\n                    setIsMobileMenuOpen(false);\n                  }}\n                  className=\"block w-full text-left px-3 py-2 text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors\"\n                >\n                  Contact\n                </button>\n              </nav>\n            </div>\n          </div>\n        )}\n      </div>\n    </header>\n  );\n}\n","size_bytes":16489},"client/src/components/hero-carousel.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport type { HeroImage } from \"@shared/schema\";\n\n// Fallback images in case no hero images are uploaded\nconst defaultHeroImages = [\n  {\n    url: \"https://images.unsplash.com/photo-1621905251189-08b45d6a269e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&h=800\",\n    alt: \"Professional electrical equipment display\"\n  },\n  {\n    url: \"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&h=800\",\n    alt: \"Modern electronics and components\"\n  },\n  {\n    url: \"https://images.unsplash.com/photo-1581092160562-40aa08e78837?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&h=800\",\n    alt: \"Electrical components and wiring\"\n  }\n];\n\nexport default function HeroCarousel() {\n  const [currentSlide, setCurrentSlide] = useState(0);\n\n  // Fetch hero images from the database\n  const { data: dbHeroImages = [] } = useQuery<HeroImage[]>({\n    queryKey: ['/api/hero-images'],\n  });\n\n  // Use uploaded images if available, otherwise fallback to default images\n  const heroImages = dbHeroImages.length > 0 \n    ? dbHeroImages\n        .filter(img => img.isActive)\n        .sort((a, b) => a.order - b.order)\n        .map(img => ({\n          url: img.imageUrl,\n          alt: img.title\n        }))\n    : defaultHeroImages;\n\n  useEffect(() => {\n    if (heroImages.length > 0) {\n      const timer = setInterval(() => {\n        setCurrentSlide((prev) => (prev + 1) % heroImages.length);\n      }, 4000);\n\n      return () => clearInterval(timer);\n    }\n  }, [heroImages.length]);\n\n  const scrollToProducts = () => {\n    const element = document.getElementById('products');\n    if (element) {\n      element.scrollIntoView({ behavior: 'smooth' });\n    }\n  };\n\n  return (\n    <section id=\"home\" className=\"relative bg-gradient-to-r from-gray-900 to-gray-700 text-white\">\n      <div className=\"absolute inset-0 bg-black opacity-50\"></div>\n      \n      {/* Carousel Images */}\n      <div className=\"relative h-96 md:h-[500px] overflow-hidden\">\n        {heroImages.map((image, index) => (\n          <div\n            key={index}\n            className={`carousel-slide absolute inset-0 transition-opacity duration-1000 ${\n              index === currentSlide ? 'opacity-100' : 'opacity-0'\n            }`}\n            style={{\n              backgroundImage: `url(${image.url})`,\n              backgroundSize: 'cover',\n              backgroundPosition: 'center'\n            }}\n          >\n            <div className=\"absolute inset-0 bg-black bg-opacity-50\"></div>\n          </div>\n        ))}\n      </div>\n      \n      {/* Content Overlay */}\n      <div className=\"absolute inset-0 flex items-center justify-center\">\n        <div className=\"text-center px-4\">\n          <div className=\"flex flex-col items-center justify-center mb-6\">\n            <h1 className=\"text-4xl md:text-6xl font-bold text-white mb-4\">\n              ElectroLight\n            </h1>\n            <div className=\"w-24 h-1 bg-orange-500\"></div>\n          </div>\n          <h2 className=\"text-2xl md:text-4xl font-bold mb-4\">\n            Professional Electrical Solutions\n          </h2>\n          <p className=\"text-xl md:text-2xl mb-8 max-w-3xl\">\n            Quality electrical products and components for every project. From residential to commercial applications.\n          </p>\n          <Button \n            size=\"lg\"\n            className=\"bg-primary hover:bg-primary-dark text-white px-8 py-3 text-lg font-semibold\"\n            onClick={scrollToProducts}\n          >\n            Browse Products\n          </Button>\n        </div>\n      </div>\n    </section>\n  );\n}\n","size_bytes":3695},"client/src/components/media-display.tsx":{"content":"import { useState } from \"react\";\nimport { Play } from \"lucide-react\";\n\ninterface MediaDisplayProps {\n  src: string;\n  alt: string;\n  className?: string;\n  showPlayButton?: boolean;\n  autoPlay?: boolean;\n  muted?: boolean;\n  controls?: boolean;\n  fallbackSrc?: string;\n  hoverToPlay?: boolean;\n}\n\n// Utility function to determine if a URL is a video\nconst isVideoUrl = (url: string): boolean => {\n  // Check for common video file extensions\n  const videoExtensions = ['.mp4', '.mov', '.avi', '.webm', '.ogg', '.m4v'];\n  const lowerUrl = url.toLowerCase();\n  \n  // Check file extension\n  if (videoExtensions.some(ext => lowerUrl.includes(ext))) {\n    return true;\n  }\n  \n  // Check if it's a Cloudinary video URL\n  if (url.includes('cloudinary.com') && url.includes('/video/')) {\n    return true;\n  }\n  \n  return false;\n};\n\nexport default function MediaDisplay({ \n  src, \n  alt, \n  className = \"\", \n  showPlayButton = false,\n  autoPlay = false,\n  muted = true,\n  controls = true,\n  fallbackSrc,\n  hoverToPlay = false\n}: MediaDisplayProps) {\n  const [imageError, setImageError] = useState(false);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [isHovered, setIsHovered] = useState(false);\n  \n  const isVideo = isVideoUrl(src);\n  const finalSrc = imageError && fallbackSrc ? fallbackSrc : src;\n\n  const handleVideoPlay = () => {\n    setIsPlaying(true);\n  };\n\n  const handleVideoPause = () => {\n    setIsPlaying(false);\n  };\n\n  if (isVideo) {\n    const shouldAutoPlay = autoPlay || (hoverToPlay && isHovered);\n    \n    return (\n      <div \n        className={`relative ${className}`}\n        onMouseEnter={() => setIsHovered(true)}\n        onMouseLeave={() => setIsHovered(false)}\n      >\n        <video\n          src={finalSrc}\n          className=\"w-full h-full object-cover\"\n          autoPlay={shouldAutoPlay}\n          muted={muted}\n          controls={controls && !hoverToPlay}\n          loop\n          playsInline\n          onPlay={handleVideoPlay}\n          onPause={handleVideoPause}\n          onError={() => setImageError(true)}\n        >\n          Your browser does not support the video tag.\n        </video>\n        \n        {showPlayButton && !isPlaying && !shouldAutoPlay && (\n          <div className=\"absolute inset-0 flex items-center justify-center bg-black/20\">\n            <div className=\"bg-white/90 rounded-full p-4 shadow-lg\">\n              <Play className=\"h-8 w-8 text-gray-800 ml-1\" fill=\"currentColor\" />\n            </div>\n          </div>\n        )}\n\n        {hoverToPlay && !isHovered && (\n          <div className=\"absolute inset-0 flex items-center justify-center bg-black/10\">\n            <div className=\"bg-white/80 rounded-full p-3 shadow-lg\">\n              <Play className=\"h-6 w-6 text-gray-800 ml-1\" fill=\"currentColor\" />\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <img\n      src={finalSrc}\n      alt={alt}\n      className={className}\n      onError={() => setImageError(true)}\n    />\n  );\n}","size_bytes":2984},"client/src/components/product-grid-filters.tsx":{"content":"import { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Grid, List } from \"lucide-react\";\n\ninterface ProductGridFiltersProps {\n  onSortChange?: (sortBy: string) => void;\n  onLayoutChange?: (layout: 'grid' | 'list') => void;\n}\n\nexport default function ProductGridFilters({ onSortChange, onLayoutChange }: ProductGridFiltersProps) {\n  const [selectedSort, setSelectedSort] = useState(\"featured\");\n  const [layout, setLayout] = useState<'grid' | 'list'>('grid');\n\n  const handleSortChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    const value = e.target.value;\n    setSelectedSort(value);\n    onSortChange?.(value);\n  };\n\n  const handleLayoutChange = (newLayout: 'grid' | 'list') => {\n    setLayout(newLayout);\n    onLayoutChange?.(newLayout);\n  };\n\n  return (\n    <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0 mb-8\">\n      <div className=\"flex items-center space-x-4\">\n        <select \n          value={selectedSort}\n          onChange={handleSortChange}\n          className=\"border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white rounded-lg px-2 sm:px-4 py-2 text-sm sm:text-base focus:ring-2 focus:ring-primary focus:border-transparent max-w-48 sm:max-w-none\"\n        >\n          <option value=\"featured\">Featured</option>\n          <option value=\"newest\">Newest First</option>\n          <option value=\"name\">Name A-Z</option>\n          <option value=\"brand\">Brand A-Z</option>\n        </select>\n        <div className=\"flex rounded-lg border border-gray-300 dark:border-gray-600\">\n          <Button \n            variant=\"ghost\" \n            size=\"sm\" \n            className={`rounded-l-lg ${layout === 'grid' ? 'bg-primary text-white' : 'text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700'}`}\n            onClick={() => handleLayoutChange('grid')}\n          >\n            <Grid className=\"h-4 w-4\" />\n          </Button>\n          <Button \n            variant=\"ghost\" \n            size=\"sm\" \n            className={`rounded-r-lg ${layout === 'list' ? 'bg-primary text-white' : 'text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700'}`}\n            onClick={() => handleLayoutChange('list')}\n          >\n            <List className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":2408},"client/src/components/product-grid.tsx":{"content":"import { Button } from \"@/components/ui/button\";\nimport { Grid, List, Heart, Eye } from \"lucide-react\";\nimport { useFavorites } from \"@/hooks/useFavorites\";\nimport type { Product } from \"@shared/schema\";\n\ninterface ProductGridProps {\n  products: Product[];\n  onProductSelect: (product: Product) => void;\n  layout?: 'grid' | 'list';\n}\n\nexport default function ProductGrid({ products, onProductSelect, layout = 'grid' }: ProductGridProps) {\n  const { toggleFavorite, isFavorite } = useFavorites();\n\n  const handleFavoriteClick = (e: React.MouseEvent, productId: string) => {\n    e.stopPropagation(); // Prevent product modal from opening\n    toggleFavorite(productId);\n  };\n\n  if (layout === 'list') {\n    return (\n      <div className=\"space-y-4\">\n        {products.map((product) => (\n          <div\n            key={product.id}\n            className=\"product-card bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer flex\"\n            onClick={() => onProductSelect(product)}\n          >\n            <div className=\"relative w-32 sm:w-48 h-24 sm:h-32 flex-shrink-0\">\n              <img\n                src={product.imageUrl}\n                alt={product.name}\n                className=\"w-full h-full object-cover rounded-l-lg\"\n              />\n              <button\n                onClick={(e) => handleFavoriteClick(e, product.id)}\n                className=\"absolute top-2 right-2 p-1 bg-white dark:bg-gray-700 rounded-full shadow-md hover:shadow-lg transition-all group\"\n                title={isFavorite(product.id) ? \"Remove from favorites\" : \"Add to favorites\"}\n              >\n                <Heart \n                  className={`h-4 w-4 transition-colors ${\n                    isFavorite(product.id) \n                      ? 'text-red-500 fill-red-500' \n                      : 'text-gray-400 group-hover:text-red-500'\n                  }`}\n                />\n              </button>\n            </div>\n            <div className=\"p-3 sm:p-4 flex-1 flex flex-col justify-between\">\n              <div>\n                <h3 className=\"font-semibold text-gray-900 dark:text-white mb-2\">{product.name}</h3>\n                \n                {/* Brand and Category for List View */}\n                <div className=\"flex flex-wrap gap-2 mb-2\">\n                  {product.brand && (\n                    <span className=\"text-xs px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-md\">{product.brand}</span>\n                  )}\n                  {product.categorySlug && (\n                    <span className=\"text-xs px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded-md capitalize\">{product.categorySlug.replace(/-/g, ' ')}</span>\n                  )}\n                </div>\n                \n                <p className=\"text-gray-600 dark:text-gray-300 text-sm mb-3\">{product.description}</p>\n              </div>\n              <div className=\"flex justify-between items-center\">\n                {product.featured && (\n                  <span className=\"text-sm bg-primary text-white px-2 py-1 rounded-md font-medium\">Featured</span>\n                )}\n                <Button \n                  size=\"sm\"\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    handleFavoriteClick(e, product.id);\n                  }}\n                  variant={isFavorite(product.id) ? \"default\" : \"outline\"}\n                  className=\"bg-primary hover:bg-primary/90 dark:bg-primary dark:hover:bg-primary/90\"\n                >\n                  <Heart className={`mr-1 sm:mr-2 h-4 w-4 ${isFavorite(product.id) ? 'fill-white' : ''}`} />\n                  <span className=\"hidden sm:inline\">{isFavorite(product.id) ? 'Favorited' : 'Add to Favorites'}</span>\n                  <span className=\"sm:hidden\">{isFavorite(product.id) ? 'Saved' : 'Save'}</span>\n                </Button>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      {/* Product Grid */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6\">\n        {products.map((product) => (\n          <div\n            key={product.id}\n            className=\"product-card bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer relative flex flex-col h-full\"\n            onClick={() => onProductSelect(product)}\n          >\n            <div className=\"relative\">\n              <img\n                src={product.imageUrl}\n                alt={product.name}\n                className=\"w-full h-48 object-cover rounded-t-lg\"\n              />\n              <button\n                onClick={(e) => handleFavoriteClick(e, product.id)}\n                className=\"absolute top-3 right-3 p-2 bg-white dark:bg-gray-700 rounded-full shadow-md hover:shadow-lg transition-all group\"\n                title={isFavorite(product.id) ? \"Remove from favorites\" : \"Add to favorites\"}\n              >\n                <Heart \n                  className={`h-5 w-5 transition-colors ${\n                    isFavorite(product.id) \n                      ? 'text-red-500 fill-red-500' \n                      : 'text-gray-400 group-hover:text-red-500'\n                  }`}\n                />\n              </button>\n            </div>\n            <div className=\"p-4 flex flex-col flex-grow\">\n              <h3 className=\"font-semibold text-gray-900 dark:text-white mb-2\">{product.name}</h3>\n              \n              {/* Brand and Category for Grid View */}\n              <div className=\"flex flex-wrap gap-1 mb-2\">\n                {product.brand && (\n                  <span className=\"text-xs px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-md\">{product.brand}</span>\n                )}\n                {product.categorySlug && (\n                  <span className=\"text-xs px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded-md capitalize\">{product.categorySlug.replace(/-/g, ' ')}</span>\n                )}\n              </div>\n              \n              <p className=\"text-gray-600 dark:text-gray-300 text-sm mb-3 line-clamp-3 flex-grow\">{product.description}</p>\n              \n              {/* Action buttons at bottom */}\n              <div className=\"flex justify-between items-center mt-auto\">\n                <div className=\"flex items-center space-x-2\">\n                  <Button \n                    size=\"sm\"\n                    variant=\"outline\"\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      onProductSelect(product);\n                    }}\n                    className=\"p-2\"\n                    title=\"Quick look\"\n                  >\n                    <Eye className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n                <Button \n                  size=\"sm\"\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    window.location.href = `/product/${product.id}`;\n                  }}\n                  className=\"bg-primary hover:bg-primary-dark text-white px-2 sm:px-3 py-1 text-xs h-8\"\n                >\n                  <span className=\"hidden sm:inline\">View Details</span>\n                  <span className=\"sm:hidden\">Details</span>\n                </Button>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n\n\n      {/* Empty State */}\n      {products.length === 0 && (\n        <div className=\"text-center py-12\">\n          <p className=\"text-gray-500 dark:text-gray-400 text-lg\">No products found matching your criteria.</p>\n        </div>\n      )}\n    </div>\n  );\n}\n","size_bytes":7757},"client/src/components/product-modal.tsx":{"content":"import { Button } from \"@/components/ui/button\";\nimport { X, Heart, ChevronLeft, ChevronRight } from \"lucide-react\";\nimport { useFavorites } from \"@/hooks/useFavorites\";\nimport type { Product } from \"@shared/schema\";\nimport { useState } from \"react\";\n\ninterface ProductModalProps {\n  product: Product;\n  onClose: () => void;\n}\n\nexport default function ProductModal({ product, onClose }: ProductModalProps) {\n  const { toggleFavorite, isFavorite } = useFavorites();\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\n  \n  // Combine primary image with additional images\n  const allImages = [product.imageUrl, ...(product.imageUrls || [])];\n\n  const handleFavoriteClick = () => {\n    toggleFavorite(product.id);\n  };\n\n  const nextImage = () => {\n    setCurrentImageIndex((prev) => (prev + 1) % allImages.length);\n  };\n\n  const prevImage = () => {\n    setCurrentImageIndex((prev) => (prev - 1 + allImages.length) % allImages.length);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\">\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg max-w-4xl w-full max-h-screen overflow-y-auto\">\n        <div className=\"p-6\">\n          <div className=\"flex justify-between items-center mb-6\">\n            <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Product Details</h2>\n            <Button variant=\"ghost\" size=\"sm\" onClick={onClose}>\n              <X className=\"h-5 w-5\" />\n            </Button>\n          </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n            <div>\n              {/* Main Image Display */}\n              <div className=\"relative group\">\n                <img \n                  src={allImages[currentImageIndex]} \n                  alt={`${product.name} - Image ${currentImageIndex + 1}`}\n                  className=\"w-full rounded-lg\"\n                />\n                \n                {/* Navigation arrows (only show if multiple images) */}\n                {allImages.length > 1 && (\n                  <>\n                    <button \n                      onClick={prevImage}\n                      className=\"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white/80 dark:bg-gray-800/80 hover:bg-white dark:hover:bg-gray-800 rounded-full p-2 opacity-0 group-hover:opacity-100 transition-opacity\"\n                    >\n                      <ChevronLeft className=\"h-5 w-5\" />\n                    </button>\n                    <button \n                      onClick={nextImage}\n                      className=\"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white/80 dark:bg-gray-800/80 hover:bg-white dark:hover:bg-gray-800 rounded-full p-2 opacity-0 group-hover:opacity-100 transition-opacity\"\n                    >\n                      <ChevronRight className=\"h-5 w-5\" />\n                    </button>\n                  </>\n                )}\n              </div>\n              \n              {/* Thumbnail Gallery (only show if multiple images) */}\n              {allImages.length > 1 && (\n                <div className=\"flex gap-2 mt-4 overflow-x-auto\">\n                  {allImages.map((image, index) => (\n                    <button\n                      key={index}\n                      onClick={() => setCurrentImageIndex(index)}\n                      className={`flex-shrink-0 w-16 h-16 rounded-md overflow-hidden border-2 transition-colors ${\n                        index === currentImageIndex ? 'border-blue-500' : 'border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500'\n                      }`}\n                    >\n                      <img \n                        src={image} \n                        alt={`${product.name} thumbnail ${index + 1}`}\n                        className=\"w-full h-full object-cover\"\n                      />\n                    </button>\n                  ))}\n                </div>\n              )}\n            </div>\n            \n            <div>\n              <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">{product.name}</h3>\n              \n              {/* Brand and Category Info */}\n              <div className=\"flex flex-wrap gap-4 mb-4\">\n                {product.brand && (\n                  <div className=\"flex items-center text-sm text-gray-600 dark:text-gray-300\">\n                    <span className=\"font-medium\">Brand:</span>\n                    <span className=\"ml-1 px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-md\">{product.brand}</span>\n                  </div>\n                )}\n                {product.categorySlug && (\n                  <div className=\"flex items-center text-sm text-gray-600 dark:text-gray-300\">\n                    <span className=\"font-medium\">Category:</span>\n                    <span className=\"ml-1 px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded-md capitalize\">{product.categorySlug.replace(/-/g, ' ')}</span>\n                  </div>\n                )}\n              </div>\n              \n              <p className=\"text-gray-600 dark:text-gray-300 mb-6\">{product.description}</p>\n              \n              <div className=\"space-y-4\">\n                <div>\n                  <h4 className=\"font-semibold text-gray-900 dark:text-white mb-3\">Specifications</h4>\n                  {product.specificationList && product.specificationList.length > 0 ? (\n                    <div className=\"bg-gray-50 dark:bg-gray-700 rounded-lg overflow-hidden\">\n                      <table className=\"w-full\">\n                        <tbody>\n                          {product.specificationList.slice(0, 5).map((spec, index) => {\n                            const [label, value] = spec.includes(' - ') \n                              ? spec.split(' - ', 2) \n                              : spec.includes(': ')\n                              ? spec.split(': ', 2)\n                              : [spec, 'âœ“'];\n                            return (\n                              <tr \n                                key={index} \n                                className={`${\n                                  index % 2 === 0 ? 'bg-white dark:bg-gray-800' : 'bg-gray-50 dark:bg-gray-700'\n                                }`}\n                              >\n                                <td className=\"py-2 px-3 font-medium text-gray-900 dark:text-white text-sm\">\n                                  {label.trim()}\n                                </td>\n                                <td className=\"py-2 px-3 text-gray-600 dark:text-gray-300 text-sm\">\n                                  {value.trim()}\n                                </td>\n                              </tr>\n                            );\n                          })}\n                        </tbody>\n                      </table>\n                      {product.specificationList.length > 5 && (\n                        <div className=\"px-3 py-2 bg-gray-100 dark:bg-gray-600 text-center\">\n                          <span className=\"text-xs text-gray-600 dark:text-gray-300\">\n                            +{product.specificationList.length - 5} more specifications - View full details\n                          </span>\n                        </div>\n                      )}\n                    </div>\n                  ) : (\n                    <div className=\"bg-gray-50 dark:bg-gray-700 rounded-lg p-3\">\n                      <p className=\"text-gray-600 dark:text-gray-300 text-sm\">\n                        Professional grade electrical product with standard industry specifications.\n                      </p>\n                    </div>\n                  )}\n                </div>\n                \n                <div className=\"flex items-center justify-between pt-4\">\n                  <Button \n                    size=\"lg\"\n                    onClick={handleFavoriteClick}\n                    className={`flex items-center space-x-2 transition-colors ${\n                      isFavorite(product.id) \n                        ? 'bg-red-500 hover:bg-red-600 text-white' \n                        : 'bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200'\n                    }`}\n                  >\n                    <Heart \n                      className={`h-5 w-5 ${\n                        isFavorite(product.id) ? 'fill-white' : ''\n                      }`}\n                    />\n                    <span>\n                      {isFavorite(product.id) ? 'Remove from Favorites' : 'Add to Favorites'}\n                    </span>\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    onClick={() => window.location.href = `/product/${product.id}`}\n                  >\n                    View Full Details\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":9031},"client/src/components/projects-carousel.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ChevronLeft, ChevronRight, Calendar, MapPin, Eye } from \"lucide-react\";\nimport MediaDisplay from \"@/components/media-display\";\nimport type { Project } from \"@shared/schema\";\n\nexport default function ProjectsCarousel() {\n  const [, setLocation] = useLocation();\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [isAutoPlaying, setIsAutoPlaying] = useState(true);\n\n  const { data: allProjects = [], isLoading } = useQuery<Project[]>({\n    queryKey: ['/api/projects'],\n  });\n\n  // Filter to featured projects only for the carousel\n  const projects = allProjects.filter(project => project.featured);\n\n  // Auto-advance carousel\n  useEffect(() => {\n    if (!isAutoPlaying || projects.length === 0) return;\n    \n    const interval = setInterval(() => {\n      setCurrentIndex((prevIndex) => \n        prevIndex === projects.length - 1 ? 0 : prevIndex + 1\n      );\n    }, 5000);\n\n    return () => clearInterval(interval);\n  }, [isAutoPlaying, projects.length]);\n\n  const goToPrevious = () => {\n    if (projects.length === 0) return;\n    setIsAutoPlaying(false);\n    setCurrentIndex(currentIndex === 0 ? projects.length - 1 : currentIndex - 1);\n  };\n\n  const goToNext = () => {\n    if (projects.length === 0) return;\n    setIsAutoPlaying(false);\n    setCurrentIndex(currentIndex === projects.length - 1 ? 0 : currentIndex + 1);\n  };\n\n  const goToSlide = (index: number) => {\n    setIsAutoPlaying(false);\n    setCurrentIndex(index);\n  };\n\n  if (isLoading) {\n    return (\n      <section className=\"py-16 bg-muted/30\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-12\">\n            <h2 className=\"text-3xl font-bold tracking-tight mb-4\">\n              Recent Projects\n            </h2>\n            <p className=\"text-lg text-muted-foreground max-w-2xl mx-auto\">\n              Loading our latest electrical installations...\n            </p>\n          </div>\n          <Card className=\"h-[500px] md:h-[600px] flex items-center justify-center\">\n            <div className=\"text-center\">\n              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4\"></div>\n              <p className=\"text-muted-foreground\">Loading projects...</p>\n            </div>\n          </Card>\n        </div>\n      </section>\n    );\n  }\n\n  if (projects.length === 0) {\n    return (\n      <section className=\"py-16 bg-muted/30\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-12\">\n            <h2 className=\"text-3xl font-bold tracking-tight mb-4\">\n              Recent Projects\n            </h2>\n            <p className=\"text-lg text-muted-foreground max-w-2xl mx-auto\">\n              No featured projects available at the moment.\n            </p>\n          </div>\n        </div>\n      </section>\n    );\n  }\n\n  return (\n    <section className=\"py-16 bg-muted/30\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Section Header */}\n        <div className=\"text-center mb-12\">\n          <h2 className=\"text-3xl font-bold tracking-tight mb-4\">\n            Recent Projects\n          </h2>\n          <p className=\"text-lg text-muted-foreground max-w-2xl mx-auto\">\n            Discover our latest electrical installations and upgrades. From commercial buildings to smart homes, \n            see how ElectroLight delivers professional electrical solutions that power modern life.\n          </p>\n        </div>\n\n        {/* Main Carousel */}\n        <div className=\"relative\">\n          <Card className=\"overflow-hidden bg-card border shadow-lg\">\n            <div className=\"relative h-[500px] md:h-[600px]\">\n              {/* Project Media */}\n              <div className=\"absolute inset-0\">\n                <MediaDisplay\n                  src={projects[currentIndex].primaryMediaUrl || projects[currentIndex].imageUrls?.[0] || \"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=800&h=600&fit=crop\"}\n                  alt={projects[currentIndex].title}\n                  className=\"w-full h-full object-cover\"\n                  autoPlay={true}\n                  muted={true}\n                  controls={false}\n                />\n                <div className=\"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent\"></div>\n              </div>\n\n\n\n              {/* Project Content Overlay */}\n              <div className=\"absolute bottom-0 left-0 right-0 p-6 md:p-8 text-white\">\n                <div className=\"max-w-4xl\">\n                  <h3 \n                    className=\"text-2xl md:text-3xl font-bold mb-3 leading-tight cursor-pointer hover:text-primary-foreground/90 transition-colors\"\n                    onClick={() => setLocation(`/project/${projects[currentIndex].id}`)}\n                  >\n                    {projects[currentIndex].title}\n                  </h3>\n\n                  <p className=\"text-lg text-gray-200 mb-4 leading-relaxed max-w-3xl\">\n                    {projects[currentIndex].description}\n                  </p>\n\n                  <div className=\"flex flex-wrap items-center justify-between gap-4\">\n                    <div className=\"flex flex-wrap items-center gap-4 text-sm text-gray-300\">\n                      <div className=\"flex items-center gap-1\">\n                        <MapPin className=\"w-4 h-4\" />\n                        <span>{projects[currentIndex].location}</span>\n                      </div>\n                      <div className=\"flex items-center gap-1\">\n                        <Calendar className=\"w-4 h-4\" />\n                        <span>Completed {new Date(projects[currentIndex].completedDate).toLocaleDateString('en-US', { \n                          year: 'numeric', \n                          month: 'long' \n                        })}</span>\n                      </div>\n                    </div>\n                    \n                    <Button \n                      onClick={() => setLocation(`/project/${projects[currentIndex].id}`)}\n                      className=\"bg-primary hover:bg-primary/90 text-primary-foreground\"\n                    >\n                      <Eye className=\"w-4 h-4 mr-2\" />\n                      View Project\n                    </Button>\n                  </div>\n                </div>\n              </div>\n\n              {/* Navigation Arrows */}\n              {projects.length > 1 && (\n                <>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white border-white/20\"\n                    onClick={goToPrevious}\n                  >\n                    <ChevronLeft className=\"w-6 h-6\" />\n                  </Button>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white border-white/20\"\n                    onClick={goToNext}\n                  >\n                    <ChevronRight className=\"w-6 h-6\" />\n                  </Button>\n                </>\n              )}\n            </div>\n          </Card>\n\n          {/* Slide Indicators */}\n          {projects.length > 1 && (\n            <div className=\"flex justify-center mt-6 gap-2\">\n              {projects.map((_, index) => (\n                <button\n                  key={index}\n                  onClick={() => goToSlide(index)}\n                  className={`w-3 h-3 rounded-full transition-all ${\n                    index === currentIndex\n                      ? \"bg-primary w-8\"\n                      : \"bg-muted-foreground/30 hover:bg-muted-foreground/50\"\n                  }`}\n                />\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* View All Projects Button */}\n        <div className=\"text-center mt-12\">\n          <Button \n            variant=\"outline\" \n            size=\"lg\"\n            onClick={() => setLocation('/projects')}\n            className=\"bg-background hover:bg-muted\"\n          >\n            View All Projects\n          </Button>\n        </div>\n      </div>\n    </section>\n  );\n}","size_bytes":8520},"client/src/components/sidebar.tsx":{"content":"import { Button } from \"@/components/ui/button\";\nimport { X, ChevronUp } from \"lucide-react\";\nimport type { Category } from \"@shared/schema\";\n\ninterface SidebarProps {\n  isOpen: boolean;\n  onClose: () => void;\n  categories: Category[];\n  selectedCategory: string | null;\n  onCategorySelect: (categorySlug: string | null) => void;\n}\n\nexport default function Sidebar({ \n  isOpen, \n  onClose, \n  categories, \n  selectedCategory, \n  onCategorySelect \n}: SidebarProps) {\n  return (\n    <>\n      {/* Overlay */}\n      {isOpen && (\n        <div \n          className=\"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden\"\n          onClick={onClose}\n        />\n      )}\n      \n      {/* Sidebar */}\n      <aside className={`\n        fixed lg:static inset-y-0 left-0 z-40 w-80 bg-gradient-to-b from-gray-50 to-white shadow-xl border-r border-gray-200\n        transform transition-transform duration-300\n        ${isOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'}\n      `}>\n        <div className=\"h-full overflow-y-auto\">\n          <div className=\"p-6\">\n            <div className=\"flex items-center justify-between mb-8\">\n              <div>\n                <h2 className=\"text-xl font-bold text-gray-900\">Product Categories</h2>\n                <p className=\"text-sm text-gray-500 mt-1\">Browse by category</p>\n              </div>\n              <Button \n                variant=\"ghost\" \n                size=\"sm\" \n                className=\"lg:hidden hover:bg-gray-100\"\n                onClick={onClose}\n              >\n                <X className=\"h-4 w-4\" />\n              </Button>\n            </div>\n            \n            <div className=\"space-y-3\">\n              {/* All Categories Button */}\n              <div className={`rounded-xl border-2 transition-all duration-200 ${\n                !selectedCategory \n                  ? 'bg-gradient-to-r from-primary to-primary-dark border-primary shadow-lg shadow-primary/25' \n                  : 'bg-white border-gray-200 hover:border-gray-300 hover:shadow-md'\n              }`}>\n                <Button\n                  variant=\"ghost\"\n                  className={`w-full justify-between px-5 py-4 font-semibold text-base ${\n                    !selectedCategory \n                      ? 'text-white hover:bg-black/10' \n                      : 'text-gray-700 hover:bg-gray-50'\n                  }`}\n                  onClick={() => onCategorySelect(null)}\n                >\n                  <span className=\"flex items-center\">\n                    <i className=\"fas fa-th-large mr-3 text-lg\" />\n                    All Categories\n                  </span>\n                  <ChevronUp className=\"h-5 w-5\" />\n                </Button>\n              </div>\n              \n              {/* Category List */}\n              <div className=\"space-y-2\">\n                {categories.map((category) => (\n                  <div key={category.id} className={`rounded-lg border transition-all duration-200 ${\n                    selectedCategory === category.slug\n                      ? 'bg-gradient-to-r from-primary/90 to-primary border-primary shadow-md'\n                      : 'bg-white border-gray-100 hover:border-gray-200 hover:shadow-sm'\n                  }`}>\n                    <Button\n                      variant=\"ghost\"\n                      className={`w-full justify-start px-4 py-3 text-left font-medium transition-colors ${\n                        selectedCategory === category.slug\n                          ? 'text-white hover:bg-black/10'\n                          : 'text-gray-700 hover:bg-gray-50'\n                      }`}\n                      onClick={() => onCategorySelect(category.slug)}\n                    >\n                      <i className={`${category.icon} mr-3 text-base`} />\n                      <span className=\"truncate\">{category.name}</span>\n                    </Button>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n      </aside>\n    </>\n  );\n}\n","size_bytes":4020},"client/src/components/theme-toggle.tsx":{"content":"import { Moon, Sun } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { useTheme } from \"@/contexts/ThemeContext\";\n\nexport function ThemeToggle() {\n  const { setTheme } = useTheme();\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <Button variant=\"outline\" size=\"icon\">\n          <Sun className=\"h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0\" />\n          <Moon className=\"absolute h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100\" />\n          <span className=\"sr-only\">Toggle theme</span>\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align=\"end\">\n        <DropdownMenuItem onClick={() => setTheme(\"light\")}>\n          Light\n        </DropdownMenuItem>\n        <DropdownMenuItem onClick={() => setTheme(\"dark\")}>\n          Dark\n        </DropdownMenuItem>\n        <DropdownMenuItem onClick={() => setTheme(\"system\")}>\n          System\n        </DropdownMenuItem>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}","size_bytes":1180},"client/src/contexts/FavoritesContext.tsx":{"content":"import { createContext, useContext, useState, useEffect, ReactNode } from 'react';\nimport type { Favorite } from '@shared/schema';\n\ninterface FavoritesContextType {\n  favorites: Favorite[];\n  addToFavorites: (productId: string) => void;\n  removeFromFavorites: (productId: string) => void;\n  toggleFavorite: (productId: string) => void;\n  isFavorite: (productId: string) => boolean;\n  getFavoriteCount: () => number;\n}\n\nconst FavoritesContext = createContext<FavoritesContextType | undefined>(undefined);\n\nconst FAVORITES_STORAGE_KEY = 'electrolight-favorites';\n\nexport function FavoritesProvider({ children }: { children: ReactNode }) {\n  const [favorites, setFavorites] = useState<Favorite[]>([]);\n\n  // Load favorites from localStorage on mount\n  useEffect(() => {\n    try {\n      const stored = localStorage.getItem(FAVORITES_STORAGE_KEY);\n      if (stored) {\n        setFavorites(JSON.parse(stored));\n      }\n    } catch (error) {\n      console.error('Failed to load favorites:', error);\n    }\n  }, []);\n\n  // Save favorites to localStorage whenever favorites change\n  useEffect(() => {\n    try {\n      localStorage.setItem(FAVORITES_STORAGE_KEY, JSON.stringify(favorites));\n    } catch (error) {\n      console.error('Failed to save favorites:', error);\n    }\n  }, [favorites]);\n\n  const addToFavorites = (productId: string) => {\n    setFavorites(prev => {\n      // Don't add if already exists\n      if (prev.some(fav => fav.productId === productId)) {\n        return prev;\n      }\n      return [...prev, { productId, addedAt: new Date().toISOString() }];\n    });\n  };\n\n  const removeFromFavorites = (productId: string) => {\n    setFavorites(prev => prev.filter(fav => fav.productId !== productId));\n  };\n\n  const toggleFavorite = (productId: string) => {\n    const isFavorite = favorites.some(fav => fav.productId === productId);\n    if (isFavorite) {\n      removeFromFavorites(productId);\n    } else {\n      addToFavorites(productId);\n    }\n  };\n\n  const isFavorite = (productId: string) => {\n    return favorites.some(fav => fav.productId === productId);\n  };\n\n  const getFavoriteCount = () => favorites.length;\n\n  return (\n    <FavoritesContext.Provider\n      value={{\n        favorites,\n        addToFavorites,\n        removeFromFavorites,\n        toggleFavorite,\n        isFavorite,\n        getFavoriteCount,\n      }}\n    >\n      {children}\n    </FavoritesContext.Provider>\n  );\n}\n\nexport function useFavorites() {\n  const context = useContext(FavoritesContext);\n  if (context === undefined) {\n    throw new Error('useFavorites must be used within a FavoritesProvider');\n  }\n  return context;\n}","size_bytes":2604},"client/src/contexts/ThemeContext.tsx":{"content":"import { createContext, useContext, useEffect, useState } from 'react';\n\ntype Theme = 'dark' | 'light' | 'system';\n\ntype ThemeProviderProps = {\n  children: React.ReactNode;\n  defaultTheme?: Theme;\n  storageKey?: string;\n}\n\ntype ThemeProviderState = {\n  theme: Theme;\n  setTheme: (theme: Theme) => void;\n}\n\nconst initialState: ThemeProviderState = {\n  theme: 'system',\n  setTheme: () => null,\n}\n\nconst ThemeProviderContext = createContext<ThemeProviderState>(initialState);\n\nexport function ThemeProvider({\n  children,\n  defaultTheme = 'system',\n  storageKey = 'electrolight-ui-theme',\n  ...props\n}: ThemeProviderProps) {\n  const [theme, setTheme] = useState<Theme>(\n    () => (localStorage.getItem(storageKey) as Theme) || defaultTheme\n  );\n\n  useEffect(() => {\n    const root = window.document.documentElement;\n\n    root.classList.remove('light', 'dark');\n\n    if (theme === 'system') {\n      const systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches\n        ? 'dark'\n        : 'light';\n\n      root.classList.add(systemTheme);\n      return;\n    }\n\n    root.classList.add(theme);\n  }, [theme]);\n\n  const value = {\n    theme,\n    setTheme: (theme: Theme) => {\n      localStorage.setItem(storageKey, theme);\n      setTheme(theme);\n    },\n  };\n\n  return (\n    <ThemeProviderContext.Provider {...props} value={value}>\n      {children}\n    </ThemeProviderContext.Provider>\n  );\n}\n\nexport const useTheme = () => {\n  const context = useContext(ThemeProviderContext);\n\n  if (context === undefined)\n    throw new Error('useTheme must be used within a ThemeProvider');\n\n  return context;\n}","size_bytes":1599},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"client/src/hooks/useAdminAuth.ts":{"content":"import { useQuery } from \"@tanstack/react-query\";\n\ninterface AdminCheckResponse {\n  authenticated: boolean;\n  admin?: {\n    id: string;\n    username: string;\n  };\n}\n\nexport function useAdminAuth() {\n  const { data, isLoading, error } = useQuery<AdminCheckResponse>({\n    queryKey: ['/api/admin/check'],\n    retry: false,\n    staleTime: 0, // Always fresh check\n    refetchOnMount: true,\n  });\n\n  return {\n    isAuthenticated: data?.authenticated || false,\n    admin: data?.admin || null,\n    isLoading,\n    error,\n  };\n}","size_bytes":520},"client/src/hooks/useFavorites.ts":{"content":"// Re-export the hook from the context for backwards compatibility\nexport { useFavorites } from '@/contexts/FavoritesContext';","size_bytes":126},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1383},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"client/src/pages/admin-login.tsx":{"content":"import { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Zap, Lock } from \"lucide-react\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { useLocation } from \"wouter\";\nimport type { AdminLogin } from \"@shared/schema\";\n\nexport default function AdminLogin() {\n  const [formData, setFormData] = useState<AdminLogin>({\n    username: \"\",\n    password: \"\",\n  });\n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n\n  const loginMutation = useMutation({\n    mutationFn: async (data: AdminLogin) => {\n      const response = await apiRequest('POST', '/api/admin/login', data);\n      return response.json();\n    },\n    onSuccess: () => {\n      toast({ title: \"Login successful! Welcome to admin dashboard.\" });\n      // Force a page reload to ensure fresh authentication state\n      window.location.href = \"/admin\";\n    },\n    onError: () => {\n      toast({ \n        title: \"Login failed\", \n        description: \"Invalid username or password\",\n        variant: \"destructive\" \n      });\n    },\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    loginMutation.mutate(formData);\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center p-4\">\n      <div className=\"w-full max-w-md\">\n        <div className=\"text-center mb-8\">\n          <div className=\"flex items-center justify-center mb-4\">\n            <img \n              src=\"/logo.png\" \n              alt=\"ElectroLight Logo\" \n              className=\"w-16 h-16 object-contain\"\n            />\n          </div>\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-4\">ElectroLight</h1>\n          <p className=\"text-gray-600\">Admin Portal Access</p>\n        </div>\n\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center justify-center space-x-2\">\n              <Lock className=\"h-5 w-5\" />\n              <span>Admin Login</span>\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\n              <div>\n                <Label htmlFor=\"username\">Username</Label>\n                <Input\n                  id=\"username\"\n                  name=\"username\"\n                  type=\"text\"\n                  value={formData.username}\n                  onChange={handleInputChange}\n                  placeholder=\"Enter your username\"\n                  required\n                />\n              </div>\n              <div>\n                <Label htmlFor=\"password\">Password</Label>\n                <Input\n                  id=\"password\"\n                  name=\"password\"\n                  type=\"password\"\n                  value={formData.password}\n                  onChange={handleInputChange}\n                  placeholder=\"Enter your password\"\n                  required\n                />\n              </div>\n              <Button \n                type=\"submit\" \n                className=\"w-full bg-primary hover:bg-primary-dark\"\n                disabled={loginMutation.isPending}\n              >\n                {loginMutation.isPending ? 'Logging in...' : 'Login to Admin'}\n              </Button>\n            </form>\n            \n            <div className=\"mt-6 p-4 bg-blue-50 rounded-lg\">\n              <h4 className=\"font-medium text-blue-900 mb-2\">Demo Credentials</h4>\n              <p className=\"text-sm text-blue-700\">\n                <strong>Username:</strong> admin<br />\n                <strong>Password:</strong> admin123\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}","size_bytes":4090},"client/src/pages/admin.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { Trash2, Edit, Plus, ArrowLeft, LogOut } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { Link, useLocation } from \"wouter\";\nimport { useAdminAuth } from \"@/hooks/useAdminAuth\";\nimport type { Product, Category, ContactMessage, Accessory, Project, Brand, HeroImage, InsertProduct, InsertAccessory, InsertProject, InsertCategory, InsertBrand, InsertHeroImage } from \"@shared/schema\";\n\nexport default function Admin() {\n  const [isEditing, setIsEditing] = useState(false);\n  const [editingProduct, setEditingProduct] = useState<Product | null>(null);\n  const [isEditingAccessory, setIsEditingAccessory] = useState(false);\n  const [editingAccessory, setEditingAccessory] = useState<Accessory | null>(null);\n  const [isEditingProject, setIsEditingProject] = useState(false);\n  const [editingProject, setEditingProject] = useState<Project | null>(null);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [filterBrand, setFilterBrand] = useState(\"\");\n  const [filterCategory, setFilterCategory] = useState(\"\");\n  \n  // Search states for other sections\n  const [accessorySearchTerm, setAccessorySearchTerm] = useState(\"\");\n  const [projectSearchTerm, setProjectSearchTerm] = useState(\"\");\n  const [brandSearchTerm, setBrandSearchTerm] = useState(\"\");\n  const [categorySearchTerm, setCategorySearchTerm] = useState(\"\");\n  \n  // Hero image upload state\n  const [uploadingHeroImage, setUploadingHeroImage] = useState(false);\n  const [activeTab, setActiveTab] = useState<'products' | 'accessories' | 'contacts' | 'projects' | 'brands' | 'categories' | 'data-management' | 'hero-images'>('products');\n  const [formData, setFormData] = useState<Partial<InsertProduct>>({\n    name: \"\",\n    description: \"\",\n    categorySlug: \"\",\n    imageUrl: \"\",\n    imageUrls: [],\n    specificationList: [],\n    accessories: [],\n    inStock: true,\n    featured: false,\n  });\n  const [accessoryFormData, setAccessoryFormData] = useState<Partial<InsertAccessory>>({\n    name: \"\",\n    modelNumber: \"\",\n    description: \"\",\n    imageUrl: \"\",\n    imageUrls: [],\n    brand: \"\",\n    compatibleWith: [],\n  });\n  const [projectFormData, setProjectFormData] = useState<Partial<InsertProject>>({\n    title: \"\",\n    description: \"\",\n    location: \"\",\n    category: \"\",\n    completedDate: \"\",\n    primaryMediaUrl: \"\",\n    additionalMediaUrls: [],\n    imageUrls: [], // Legacy field for backward compatibility\n    productsUsed: [],\n    featured: false,\n  });\n\n  // Brand management state\n  const [isEditingBrand, setIsEditingBrand] = useState(false);\n  const [editingBrand, setEditingBrand] = useState<Brand | null>(null);\n  const [brandFormData, setBrandFormData] = useState<Partial<InsertBrand>>({\n    name: \"\",\n    description: \"\",\n    website: \"\",\n    isActive: true,\n  });\n\n  // Category management state\n  const [isEditingCategory, setIsEditingCategory] = useState(false);\n  const [editingCategory, setEditingCategory] = useState<Category | null>(null);\n  const [categoryFormData, setCategoryFormData] = useState<Partial<InsertCategory>>({\n    name: \"\",\n    slug: \"\",\n    icon: \"fas fa-lightbulb\",\n  });\n\n  // Removed icon picker - now using image upload\n  // Loading state for category image upload\n  const [uploadingCategoryImage, setUploadingCategoryImage] = useState(false);\n\n  // Loading states for accessory uploads\n  const [uploadingAccessoryImage, setUploadingAccessoryImage] = useState(false);\n  const [uploadingAccessoryAdditionalImages, setUploadingAccessoryAdditionalImages] = useState(false);\n\n  const { toast } = useToast();\n  const [, setLocation] = useLocation();\n  const { isAuthenticated, admin, isLoading } = useAdminAuth();\n\n  // Always call all hooks first, regardless of auth state\n  const { data: products = [] } = useQuery<Product[]>({\n    queryKey: ['/api/products'],\n    enabled: isAuthenticated, // Only fetch when authenticated\n  });\n\n  const { data: categories = [] } = useQuery<Category[]>({\n    queryKey: ['/api/categories'],\n    enabled: isAuthenticated, // Only fetch when authenticated\n  });\n\n  const { data: contactMessages = [] } = useQuery<ContactMessage[]>({\n    queryKey: ['/api/contact-messages'],\n    enabled: isAuthenticated, // Only fetch when authenticated\n  });\n\n  const { data: accessories = [] } = useQuery<Accessory[]>({\n    queryKey: ['/api/accessories'],\n    enabled: isAuthenticated, // Only fetch when authenticated\n  });\n\n  const { data: projects = [] } = useQuery<Project[]>({\n    queryKey: ['/api/projects'],\n    enabled: isAuthenticated, // Only fetch when authenticated\n  });\n\n  const { data: brands = [] } = useQuery<Brand[]>({\n    queryKey: ['/api/brands'],\n    enabled: isAuthenticated, // Only fetch when authenticated\n  });\n\n  const { data: heroImages = [] } = useQuery<HeroImage[]>({\n    queryKey: ['/api/hero-images'],\n    enabled: isAuthenticated, // Only fetch when authenticated\n  });\n\n  // All mutation hooks must be defined before any early returns\n  const createProductMutation = useMutation({\n    mutationFn: async (data: InsertProduct) => {\n      const response = await apiRequest('POST', '/api/products', data);\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/products'] });\n      toast({ title: \"Product created successfully\" });\n      resetForm();\n    },\n    onError: (error: any) => {\n      console.error('Product creation error:', error);\n      const errorMessage = error?.message || \"Failed to create product\";\n      toast({ \n        title: \"Failed to create product\", \n        description: errorMessage,\n        variant: \"destructive\" \n      });\n    },\n  });\n\n  const updateProductMutation = useMutation({\n    mutationFn: async ({ id, data }: { id: string; data: Partial<InsertProduct> }) => {\n      const response = await apiRequest('PUT', `/api/products/${id}`, data);\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/products'] });\n      toast({ title: \"Product updated successfully\" });\n      resetForm();\n    },\n    onError: (error: any) => {\n      console.error('Product update error:', error);\n      const errorMessage = error.message || \"Failed to update product\";\n      toast({ \n        title: \"Update Failed\", \n        description: errorMessage.includes('undefined') \n          ? \"Product ID is missing. Please refresh and try again.\" \n          : errorMessage,\n        variant: \"destructive\" \n      });\n    },\n  });\n\n  const deleteProductMutation = useMutation({\n    mutationFn: async (id: string) => {\n      await apiRequest('DELETE', `/api/products/${id}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/products'] });\n      toast({ title: \"Product deleted successfully\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to delete product\", variant: \"destructive\" });\n    },\n  });\n\n  const createAccessoryMutation = useMutation({\n    mutationFn: async (data: InsertAccessory) => {\n      const response = await apiRequest('POST', '/api/accessories', data);\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/accessories'] });\n      toast({ title: \"Accessory created successfully\" });\n      resetAccessoryForm();\n    },\n    onError: (error: any) => {\n      console.error('Accessory creation error:', error);\n      const errorMessage = error?.message || \"Failed to create accessory\";\n      toast({ \n        title: \"Failed to create accessory\", \n        description: errorMessage,\n        variant: \"destructive\" \n      });\n    },\n  });\n\n  const updateAccessoryMutation = useMutation({\n    mutationFn: async ({ id, data }: { id: string; data: Partial<InsertAccessory> }) => {\n      const response = await apiRequest('PUT', `/api/accessories/${id}`, data);\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/accessories'] });\n      toast({ title: \"Accessory updated successfully\" });\n      resetAccessoryForm();\n    },\n    onError: (error: any) => {\n      console.error('Accessory update error:', error);\n      const errorMessage = error?.message || \"Failed to update accessory\";\n      toast({ \n        title: \"Failed to update accessory\", \n        description: errorMessage,\n        variant: \"destructive\" \n      });\n    },\n  });\n\n  const deleteAccessoryMutation = useMutation({\n    mutationFn: async (id: string) => {\n      await apiRequest('DELETE', `/api/accessories/${id}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/accessories'] });\n      toast({ title: \"Accessory deleted successfully\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to delete accessory\", variant: \"destructive\" });\n    },\n  });\n\n  // Project mutations\n  const createProjectMutation = useMutation({\n    mutationFn: async (data: InsertProject) => {\n      const response = await apiRequest('POST', '/api/admin/projects', data);\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/projects'] });\n      toast({ title: \"Project created successfully\" });\n      resetProjectForm();\n    },\n    onError: (error: any) => {\n      console.error('Project creation error:', error);\n      const errorMessage = error?.message || \"Failed to create project\";\n      toast({ \n        title: \"Failed to create project\", \n        description: errorMessage,\n        variant: \"destructive\" \n      });\n    },\n  });\n\n  const updateProjectMutation = useMutation({\n    mutationFn: async ({ id, data }: { id: string; data: Partial<InsertProject> }) => {\n      const response = await apiRequest('PUT', `/api/admin/projects/${id}`, data);\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/projects'] });\n      toast({ title: \"Project updated successfully\" });\n      resetProjectForm();\n    },\n    onError: (error: any) => {\n      console.error('Project update error:', error);\n      const errorMessage = error?.message || \"Failed to update project\";\n      toast({ \n        title: \"Failed to update project\", \n        description: errorMessage,\n        variant: \"destructive\" \n      });\n    },\n  });\n\n  const deleteProjectMutation = useMutation({\n    mutationFn: async (id: string) => {\n      await apiRequest('DELETE', `/api/admin/projects/${id}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/projects'] });\n      toast({ title: \"Project deleted successfully\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to delete project\", variant: \"destructive\" });\n    },\n  });\n\n  const logoutMutation = useMutation({\n    mutationFn: async () => {\n      await apiRequest('POST', '/api/admin/logout');\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/check'] });\n      toast({ title: \"Logged out successfully\" });\n      setLocation(\"/admin/login\");\n    },\n    onError: () => {\n      toast({ title: \"Failed to logout\", variant: \"destructive\" });\n    },\n  });\n\n  // Data management mutations\n  const clearDataMutation = useMutation({\n    mutationFn: async () => {\n      await apiRequest('POST', '/api/admin/clear-all-data');\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/products'] });\n      queryClient.invalidateQueries({ queryKey: ['/api/accessories'] });\n      queryClient.invalidateQueries({ queryKey: ['/api/projects'] });\n      toast({\n        title: \"Success\",\n        description: \"All data cleared successfully\"\n      });\n    },\n    onError: () => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to clear data\",\n        variant: \"destructive\"\n      });\n    }\n  });\n\n  const populateSampleDataMutation = useMutation({\n    mutationFn: async () => {\n      await apiRequest('POST', '/api/admin/populate-sample-data');\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/products'] });\n      queryClient.invalidateQueries({ queryKey: ['/api/accessories'] });\n      queryClient.invalidateQueries({ queryKey: ['/api/projects'] });\n      toast({\n        title: \"Success\",\n        description: \"Sample data populated successfully\"\n      });\n    },\n    onError: () => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to populate sample data\",\n        variant: \"destructive\"\n      });\n    }\n  });\n\n  // Brand mutations\n  const createBrandMutation = useMutation({\n    mutationFn: async (data: InsertBrand) => {\n      return await apiRequest('POST', '/api/brands', data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/brands'] });\n      resetBrandForm();\n      toast({ title: \"Brand created successfully\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to create brand\", variant: \"destructive\" });\n    },\n  });\n\n  const updateBrandMutation = useMutation({\n    mutationFn: async ({ id, data }: { id: string; data: Partial<InsertBrand> }) => {\n      return await apiRequest('PUT', `/api/brands/${id}`, data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/brands'] });\n      resetBrandForm();\n      toast({ title: \"Brand updated successfully\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to update brand\", variant: \"destructive\" });\n    },\n  });\n\n  const deleteBrandMutation = useMutation({\n    mutationFn: async (id: string) => {\n      await apiRequest('DELETE', `/api/brands/${id}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/brands'] });\n      toast({ title: \"Brand deleted successfully\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to delete brand\", variant: \"destructive\" });\n    },\n  });\n\n  // Category mutations\n  const createCategoryMutation = useMutation({\n    mutationFn: async (data: InsertCategory) => {\n      return await apiRequest('POST', '/api/categories', data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/categories'] });\n      resetCategoryForm();\n      toast({ title: \"Category created successfully\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to create category\", variant: \"destructive\" });\n    },\n  });\n\n  const updateCategoryMutation = useMutation({\n    mutationFn: async ({ id, data }: { id: string; data: Partial<InsertCategory> }) => {\n      return await apiRequest('PUT', `/api/categories/${id}`, data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/categories'] });\n      resetCategoryForm();\n      toast({ title: \"Category updated successfully\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to update category\", variant: \"destructive\" });\n    },\n  });\n\n  const deleteCategoryMutation = useMutation({\n    mutationFn: async (id: string) => {\n      await apiRequest('DELETE', `/api/categories/${id}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/categories'] });\n      toast({ title: \"Category deleted successfully\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to delete category\", variant: \"destructive\" });\n    },\n  });\n\n  const imageUploadMutation = useMutation({\n    mutationFn: async (file: File) => {\n      // Check file size before uploading\n      const maxSize = 10 * 1024 * 1024; // 10MB\n      if (file.size > maxSize) {\n        throw new Error('File is too large. Maximum size is 10MB.');\n      }\n      \n      const formData = new FormData();\n      formData.append('image', file);\n      \n      const response = await fetch('/api/upload', {\n        method: 'POST',\n        body: formData,\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.message || 'Failed to upload image');\n      }\n      \n      return response.json();\n    },\n    onError: (error: any) => {\n      console.error('Image upload error:', error);\n      const errorMessage = error.message || \"Failed to upload image\";\n      toast({ \n        title: \"Upload Failed\", \n        description: errorMessage,\n        variant: \"destructive\" \n      });\n    },\n  });\n\n  // Hero Images mutations\n  const createHeroImageMutation = useMutation({\n    mutationFn: async (data: InsertHeroImage) => {\n      const response = await apiRequest('POST', '/api/hero-images', data);\n      return response.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/hero-images'] });\n      toast({ title: \"Hero image uploaded successfully\" });\n    },\n    onError: (error: any) => {\n      toast({ \n        title: \"Failed to upload hero image\", \n        description: error.message,\n        variant: \"destructive\" \n      });\n    },\n  });\n\n  const deleteHeroImageMutation = useMutation({\n    mutationFn: async (id: string) => {\n      await apiRequest('DELETE', `/api/hero-images/${id}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/hero-images'] });\n      toast({ title: \"Hero image deleted successfully\" });\n    },\n    onError: (error: any) => {\n      toast({ \n        title: \"Failed to delete hero image\", \n        description: error.message,\n        variant: \"destructive\" \n      });\n    },\n  });\n\n  // Authentication effects and early returns - after all hooks\n  useEffect(() => {\n    if (!isLoading && !isAuthenticated) {\n      setLocation(\"/admin/login\");\n    }\n  }, [isAuthenticated, isLoading, setLocation]);\n\n  // Show loading while checking authentication\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Checking authentication...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Redirect to login if not authenticated\n  if (!isAuthenticated) {\n    return null;\n  }\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    const data = {\n      ...formData,\n      specificationList: formData.specificationList || [],\n    } as InsertProduct;\n\n    if (isEditing && editingProduct) {\n      console.log('Updating product with ID:', editingProduct.id);\n      if (!editingProduct.id) {\n        toast({ \n          title: \"Update Error\", \n          description: \"Product ID is missing. Please refresh the page and try again.\",\n          variant: \"destructive\" \n        });\n        return;\n      }\n      updateProductMutation.mutate({ id: editingProduct.id, data });\n    } else {\n      createProductMutation.mutate(data);\n    }\n  };\n\n  const handleAccessorySubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (isEditingAccessory && editingAccessory) {\n      updateAccessoryMutation.mutate({ \n        id: editingAccessory.id, \n        data: accessoryFormData\n      });\n    } else {\n      createAccessoryMutation.mutate(accessoryFormData as InsertAccessory);\n    }\n  };\n\n  const handleProjectSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (isEditingProject && editingProject) {\n      updateProjectMutation.mutate({ \n        id: editingProject.id, \n        data: projectFormData\n      });\n    } else {\n      createProjectMutation.mutate(projectFormData as InsertProject);\n    }\n  };\n\n  const handleEditProject = (project: Project) => {\n    console.log('Edit project clicked:', project.title, project);\n    setEditingProject(project);\n    setProjectFormData({\n      title: project.title,\n      description: project.description,\n      location: project.location,\n      category: project.category,\n      completedDate: project.completedDate,\n      primaryMediaUrl: project.primaryMediaUrl || \"\",\n      additionalMediaUrls: project.additionalMediaUrls || [],\n      imageUrls: project.imageUrls || [], // Legacy field for backward compatibility\n      productsUsed: project.productsUsed || [],\n      featured: project.featured,\n    });\n    setIsEditingProject(true);\n    setActiveTab('projects'); // Force switch to projects tab\n    console.log('Project edit state set and switched to projects tab');\n  };\n\n  const handleDeleteProject = (id: string) => {\n    if (confirm(\"Are you sure you want to delete this project?\")) {\n      deleteProjectMutation.mutate(id);\n    }\n  };\n\n  const handleEditAccessory = (accessory: Accessory) => {\n    console.log('Edit accessory clicked:', accessory.name, accessory);\n    console.log('Setting isEditingAccessory to true');\n    setEditingAccessory(accessory);\n    setAccessoryFormData({\n      name: accessory.name,\n      modelNumber: accessory.modelNumber || '',\n      description: accessory.description,\n      brand: accessory.brand || '',\n      imageUrl: accessory.imageUrl,\n      imageUrls: accessory.imageUrls || [],\n      compatibleWith: accessory.compatibleWith || []\n    });\n    setIsEditingAccessory(true);\n    setActiveTab('accessories'); // Force switch to accessories tab\n    console.log('Accessory edit state set and switched to accessories tab');\n  };\n\n  const handleDeleteAccessory = (id: string) => {\n    if (confirm(\"Are you sure you want to delete this accessory?\")) {\n      deleteAccessoryMutation.mutate(id);\n    }\n  };\n\n  const handleEdit = (product: Product) => {\n    console.log('Edit product clicked:', product.name, product);\n    console.log('Setting isEditing to true');\n    setEditingProduct(product);\n    setFormData({\n      name: product.name,\n      description: product.description,\n      categorySlug: product.categorySlug,\n      brand: product.brand,\n      imageUrl: product.imageUrl,\n      imageUrls: product.imageUrls || [],\n      specificationList: Array.isArray(product.specificationList) ? product.specificationList : [],\n      accessories: product.accessories || [],\n      inStock: product.inStock,\n      featured: product.featured,\n    });\n    setIsEditing(true);\n    setActiveTab('products'); // Force switch to products tab  \n    console.log('Product edit state set and switched to products tab');\n  };\n\n  const handleDelete = (id: string) => {\n    if (confirm(\"Are you sure you want to delete this product?\")) {\n      deleteProductMutation.mutate(id);\n    }\n  };\n\n  const handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>, isPrimary = true) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      // Show upload progress feedback\n      toast({ \n        title: \"Uploading image...\", \n        description: `Uploading ${file.name} (${(file.size / (1024 * 1024)).toFixed(2)}MB)` \n      });\n      \n      imageUploadMutation.mutate(file, {\n        onSuccess: (data) => {\n          if (isPrimary) {\n            setFormData(prev => ({ ...prev, imageUrl: data.imageUrl }));\n          } else {\n            setFormData(prev => ({ \n              ...prev, \n              imageUrls: [...(prev.imageUrls || []), data.imageUrl]\n            }));\n          }\n          toast({ title: \"Image uploaded successfully\" });\n        }\n      });\n    }\n  };\n\n  const removeAdditionalImage = (indexToRemove: number) => {\n    setFormData(prev => ({\n      ...prev,\n      imageUrls: prev.imageUrls?.filter((_, index) => index !== indexToRemove) || []\n    }));\n  };\n\n  const resetForm = () => {\n    setFormData({\n      name: \"\",\n      description: \"\",\n      categorySlug: \"\",\n      imageUrl: \"\",\n      imageUrls: [],\n      specificationList: [],\n      accessories: [],\n      inStock: true,\n      featured: false,\n    });\n    setIsEditing(false);\n    setEditingProduct(null);\n  };\n\n  const resetAccessoryForm = () => {\n    setAccessoryFormData({\n      name: \"\",\n      modelNumber: \"\",\n      description: \"\",\n      imageUrl: \"\",\n      imageUrls: [],\n      brand: \"\",\n      compatibleWith: [],\n    });\n    setIsEditingAccessory(false);\n    setEditingAccessory(null);\n  };\n\n  const resetProjectForm = () => {\n    setProjectFormData({\n      title: \"\",\n      description: \"\",\n      location: \"\",\n      category: \"\",\n      completedDate: \"\",\n      primaryMediaUrl: \"\",\n      additionalMediaUrls: [],\n      imageUrls: [], // Legacy field for backward compatibility\n      productsUsed: [],\n      featured: false,\n    });\n    setIsEditingProject(false);\n    setEditingProject(null);\n  };\n\n  // Brand management functions\n  const handleEditBrand = (brand: Brand) => {\n    setEditingBrand(brand);\n    setBrandFormData({\n      name: brand.name,\n      description: brand.description || \"\",\n      website: brand.website || \"\",\n      isActive: brand.isActive,\n    });\n    setIsEditingBrand(true);\n    setActiveTab('brands');\n  };\n\n  const handleBrandSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (isEditingBrand && editingBrand) {\n      updateBrandMutation.mutate({ id: editingBrand.id, data: brandFormData as InsertBrand });\n    } else {\n      createBrandMutation.mutate(brandFormData as InsertBrand);\n    }\n  };\n\n  const resetBrandForm = () => {\n    setBrandFormData({\n      name: \"\",\n      description: \"\",\n      website: \"\",\n      isActive: true,\n    });\n    setIsEditingBrand(false);\n    setEditingBrand(null);\n  };\n\n  // Category management functions\n  const handleEditCategory = (category: Category) => {\n    setEditingCategory(category);\n    setCategoryFormData({\n      name: category.name,\n      slug: category.slug,\n      imageUrl: category.imageUrl,\n    });\n    setIsEditingCategory(true);\n    setActiveTab('categories');\n  };\n\n  const handleCategorySubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (isEditingCategory && editingCategory) {\n      updateCategoryMutation.mutate({ id: editingCategory.id, data: categoryFormData as InsertCategory });\n    } else {\n      createCategoryMutation.mutate(categoryFormData as InsertCategory);\n    }\n  };\n\n  const resetCategoryForm = () => {\n    setCategoryFormData({\n      name: \"\",\n      slug: \"\",\n      imageUrl: \"\",\n    });\n    setIsEditingCategory(false);\n    setEditingCategory(null);\n  };\n\n  // Auto-generate slug from name\n  const handleCategoryNameChange = (name: string) => {\n    setCategoryFormData(prev => ({\n      ...prev,\n      name,\n      slug: name.toLowerCase().replace(/\\s+/g, '-').replace(/[^a-z0-9-]/g, '')\n    }));\n  };\n\n\n  // Primary media upload handler (10MB for images, 100MB for videos)\n  const handlePrimaryMediaUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    const isVideo = file.type.startsWith('video/');\n    const maxSize = isVideo ? 100 * 1024 * 1024 : 10 * 1024 * 1024; // 100MB for video, 10MB for image\n\n    if (file.size > maxSize) {\n      const limitText = isVideo ? '100MB' : '10MB';\n      toast({\n        title: \"File too large\",\n        description: `Primary media file exceeds the ${limitText} limit`,\n        variant: \"destructive\"\n      });\n      return;\n    }\n\n    try {\n      const formData = new FormData();\n      formData.append('media', file);\n\n      const response = await fetch('/api/upload/primary-media', {\n        method: 'POST',\n        body: formData,\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to upload primary media');\n      }\n\n      const data = await response.json();\n      setProjectFormData(prev => ({\n        ...prev,\n        primaryMediaUrl: data.mediaUrl\n      }));\n      \n      toast({\n        title: \"Upload successful\",\n        description: \"Primary media uploaded successfully\"\n      });\n    } catch (error) {\n      console.error('Upload error:', error);\n      toast({\n        title: \"Upload failed\",\n        description: \"Failed to upload primary media\",\n        variant: \"destructive\"\n      });\n    }\n    \n    // Reset the input\n    e.target.value = '';\n  };\n\n  // Additional media upload handler (10MB for images, 100MB for videos)\n  const handleAdditionalMediaUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const files = Array.from(e.target.files || []);\n\n    try {\n      const uploadPromises = files.map(async (file) => {\n        const isVideo = file.type.startsWith('video/');\n        const maxSize = isVideo ? 100 * 1024 * 1024 : 10 * 1024 * 1024; // 100MB for video, 10MB for image\n\n        if (file.size > maxSize) {\n          const limitText = isVideo ? '100MB' : '10MB';\n          toast({\n            title: \"File too large\",\n            description: `${file.name} exceeds the ${limitText} limit`,\n            variant: \"destructive\"\n          });\n          return null;\n        }\n\n        const formData = new FormData();\n        formData.append('media', file);\n\n        const response = await fetch('/api/upload/additional-media', {\n          method: 'POST',\n          body: formData,\n        });\n\n        if (!response.ok) {\n          throw new Error(`Failed to upload ${file.name}`);\n        }\n\n        const data = await response.json();\n        return data.mediaUrl;\n      });\n\n      const urls = await Promise.all(uploadPromises);\n      const validUrls = urls.filter(url => url !== null);\n\n      if (validUrls.length > 0) {\n        setProjectFormData(prev => ({\n          ...prev,\n          additionalMediaUrls: [...(prev.additionalMediaUrls || []), ...validUrls]\n        }));\n        toast({\n          title: \"Upload successful\",\n          description: `${validUrls.length} additional file(s) uploaded successfully`\n        });\n      }\n    } catch (error) {\n      console.error('Upload error:', error);\n      toast({\n        title: \"Upload failed\",\n        description: \"Failed to upload one or more files\",\n        variant: \"destructive\"\n      });\n    }\n    \n    // Reset the input\n    e.target.value = '';\n  };\n\n  const removePrimaryMedia = () => {\n    setProjectFormData(prev => ({\n      ...prev,\n      primaryMediaUrl: \"\"\n    }));\n  };\n\n  const removeAdditionalMedia = (index: number) => {\n    setProjectFormData(prev => ({\n      ...prev,\n      additionalMediaUrls: prev.additionalMediaUrls?.filter((_, i) => i !== index) || []\n    }));\n  };\n\n  // Legacy media remove function for backward compatibility\n  const removeProjectMedia = (index: number) => {\n    setProjectFormData(prev => ({\n      ...prev,\n      imageUrls: prev.imageUrls?.filter((_, i) => i !== index) || []\n    }));\n  };\n\n  // Accessory image upload handler\n  const handleAccessoryImageUpload = async (e: React.ChangeEvent<HTMLInputElement>, type: 'primary' | 'additional') => {\n    const files = Array.from(e.target.files || []);\n    if (files.length === 0) return;\n\n    if (type === 'primary') {\n      const file = files[0];\n      if (file.size > 10 * 1024 * 1024) {\n        toast({\n          title: \"File too large\",\n          description: \"Primary image must be under 10MB\",\n          variant: \"destructive\"\n        });\n        return;\n      }\n\n      setUploadingAccessoryImage(true);\n      \n      try {\n        const formData = new FormData();\n        formData.append('image', file);\n        \n        const response = await fetch('/api/upload', {\n          method: 'POST',\n          body: formData,\n        });\n        \n        if (!response.ok) {\n          throw new Error('Failed to upload image');\n        }\n        \n        const data = await response.json();\n        setAccessoryFormData(prev => ({\n          ...prev,\n          imageUrl: data.imageUrl\n        }));\n        \n        toast({\n          title: \"Upload successful\",\n          description: \"Primary image uploaded successfully\"\n        });\n      } catch (error) {\n        console.error('Upload error:', error);\n        toast({\n          title: \"Upload failed\",\n          description: \"Failed to upload primary image\",\n          variant: \"destructive\"\n        });\n      } finally {\n        setUploadingAccessoryImage(false);\n      }\n    } else {\n      // Additional images upload\n      setUploadingAccessoryAdditionalImages(true);\n      \n      try {\n        const uploadPromises = files.map(async (file) => {\n          if (file.size > 10 * 1024 * 1024) {\n            toast({\n              title: \"File too large\",\n              description: `${file.name} exceeds the 10MB limit`,\n              variant: \"destructive\"\n            });\n            return null;\n          }\n\n          const formData = new FormData();\n          formData.append('image', file);\n\n          const response = await fetch('/api/upload', {\n            method: 'POST',\n            body: formData,\n          });\n\n          if (!response.ok) {\n            throw new Error(`Failed to upload ${file.name}`);\n          }\n\n          const data = await response.json();\n          return data.imageUrl;\n        });\n\n        const urls = await Promise.all(uploadPromises);\n        const validUrls = urls.filter(url => url !== null);\n\n        if (validUrls.length > 0) {\n          setAccessoryFormData(prev => ({\n            ...prev,\n            imageUrls: [...(prev.imageUrls || []), ...validUrls]\n          }));\n          \n          toast({\n            title: \"Upload successful\",\n            description: `${validUrls.length} additional image(s) uploaded successfully`\n          });\n        }\n      } catch (error) {\n        console.error('Upload error:', error);\n        toast({\n          title: \"Upload failed\",\n          description: \"Failed to upload one or more images\",\n          variant: \"destructive\"\n        });\n      } finally {\n        setUploadingAccessoryAdditionalImages(false);\n      }\n    }\n    \n    // Reset the input\n    e.target.value = '';\n  };\n\n  // Filter products based on search and filters\n  const filteredProducts = products.filter(product => {\n    const matchesSearch = !searchTerm || \n      product.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      product.description.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    const matchesBrand = !filterBrand || filterBrand === \"all\" || product.brand === filterBrand;\n    const matchesCategory = !filterCategory || filterCategory === \"all\" || product.categorySlug === filterCategory;\n    \n    return matchesSearch && matchesBrand && matchesCategory;\n  });\n\n  // Get unique brands for filter dropdown\n  const availableBrands = Array.from(new Set(products.filter(p => p.brand).map(p => p.brand))).sort();\n\n  // Filter functions for other sections\n  const filteredAccessories = accessories.filter(accessory =>\n    !accessorySearchTerm || \n    accessory.name.toLowerCase().includes(accessorySearchTerm.toLowerCase()) ||\n    accessory.description.toLowerCase().includes(accessorySearchTerm.toLowerCase()) ||\n    (accessory.brand && accessory.brand.toLowerCase().includes(accessorySearchTerm.toLowerCase())) ||\n    (accessory.modelNumber && accessory.modelNumber.toLowerCase().includes(accessorySearchTerm.toLowerCase()))\n  );\n\n  const filteredProjects = projects.filter(project =>\n    !projectSearchTerm || \n    project.title.toLowerCase().includes(projectSearchTerm.toLowerCase()) ||\n    project.description.toLowerCase().includes(projectSearchTerm.toLowerCase()) ||\n    project.location.toLowerCase().includes(projectSearchTerm.toLowerCase())\n  );\n\n  const filteredBrands = brands.filter(brand =>\n    !brandSearchTerm || \n    brand.name.toLowerCase().includes(brandSearchTerm.toLowerCase()) ||\n    (brand.description && brand.description.toLowerCase().includes(brandSearchTerm.toLowerCase()))\n  );\n\n  const filteredCategories = categories.filter(category =>\n    !categorySearchTerm || \n    category.name.toLowerCase().includes(categorySearchTerm.toLowerCase()) ||\n    category.slug.toLowerCase().includes(categorySearchTerm.toLowerCase())\n  );\n\n  // Hero image upload handler - simplified\n  const handleHeroImageUpload = async (file: File) => {\n    setUploadingHeroImage(true);\n    try {\n      const formData = new FormData();\n      formData.append('image', file);\n      \n      const response = await fetch('/api/upload', {\n        method: 'POST',\n        body: formData,\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Upload failed');\n      }\n      \n      const data = await response.json();\n      \n      // Auto-create hero image with simple title\n      const heroImageData: InsertHeroImage = {\n        title: `Hero Image ${new Date().toLocaleDateString()}`,\n        imageUrl: data.imageUrl,\n        description: \"\",\n        isActive: true,\n        order: heroImages.length, // Add to end\n      };\n      \n      createHeroImageMutation.mutate(heroImageData);\n    } catch (error: any) {\n      console.error('Hero image upload error:', error);\n      toast({ \n        title: \"Upload failed\", \n        description: error.message || \"Failed to upload hero image\",\n        variant: \"destructive\" \n      });\n    } finally {\n      setUploadingHeroImage(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 p-3 sm:p-6\">\n      <div className=\"max-w-[1600px] 2xl:max-w-[1800px] mx-auto\">\n        <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 sm:mb-8 space-y-4 sm:space-y-0\">\n          <div className=\"flex items-center space-x-2 sm:space-x-4 w-full sm:w-auto\">\n            <Link href=\"/\">\n              <Button variant=\"outline\" size=\"sm\" className=\"px-2 sm:px-3\">\n                <ArrowLeft className=\"w-4 h-4 sm:mr-2\" />\n                <span className=\"hidden sm:inline\">Back to Site</span>\n              </Button>\n            </Link>\n            <h1 className=\"text-xl sm:text-3xl font-bold text-gray-900 dark:text-white\">\n              <span className=\"sm:hidden\">Admin</span>\n              <span className=\"hidden sm:inline\">Admin Dashboard</span>\n            </h1>\n            {/* Tab Navigation */}\n            <div className=\"flex space-x-4 mt-4\">\n              <button\n                onClick={() => setActiveTab('products')}\n                className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n                  activeTab === 'products' \n                    ? 'bg-primary text-white' \n                    : 'bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600'\n                }`}\n              >\n                Products ({products.length})\n              </button>\n              <button\n                onClick={() => setActiveTab('accessories')}\n                className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n                  activeTab === 'accessories' \n                    ? 'bg-primary text-white' \n                    : 'bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600'\n                }`}\n              >\n                Accessories ({accessories.length})\n              </button>\n              <button\n                onClick={() => setActiveTab('contacts')}\n                className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n                  activeTab === 'contacts' \n                    ? 'bg-primary text-white' \n                    : 'bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600'\n                }`}\n              >\n                Messages ({contactMessages.length})\n              </button>\n              <button\n                onClick={() => setActiveTab('projects')}\n                className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n                  activeTab === 'projects' \n                    ? 'bg-primary text-white' \n                    : 'bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600'\n                }`}\n              >\n                Projects ({projects.length})\n              </button>\n              <button\n                onClick={() => setActiveTab('brands')}\n                className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n                  activeTab === 'brands' \n                    ? 'bg-primary text-white' \n                    : 'bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600'\n                }`}\n              >\n                Brands ({brands.length})\n              </button>\n              <button\n                onClick={() => setActiveTab('categories')}\n                className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n                  activeTab === 'categories' \n                    ? 'bg-primary text-white' \n                    : 'bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600'\n                }`}\n              >\n                Categories ({categories.length})\n              </button>\n              <button\n                onClick={() => setActiveTab('data-management')}\n                className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n                  activeTab === 'data-management' \n                    ? 'bg-primary text-white' \n                    : 'bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600'\n                }`}\n              >\n                Data Management\n              </button>\n              <button\n                onClick={() => setActiveTab('hero-images')}\n                className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n                  activeTab === 'hero-images' \n                    ? 'bg-primary text-white' \n                    : 'bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600'\n                }`}\n              >\n                Hero Images\n              </button>\n            </div>\n          </div>\n          <div className=\"flex items-center space-x-2 sm:space-x-4 w-full sm:w-auto justify-end\">\n            <span className=\"text-xs sm:text-sm text-gray-600 dark:text-gray-300 hidden md:block\">\n              Welcome, {admin?.username}\n            </span>\n            <Button \n              variant=\"outline\" \n              size=\"sm\"\n              onClick={() => logoutMutation.mutate()}\n              disabled={logoutMutation.isPending}\n              className=\"px-2 sm:px-3\"\n            >\n              <LogOut className=\"w-4 h-4 sm:mr-2\" />\n              <span className=\"hidden sm:inline\">\n                {logoutMutation.isPending ? 'Logging out...' : 'Logout'}\n              </span>\n            </Button>\n          </div>\n        </div>\n\n        {/* Products Tab Content */}\n        {activeTab === 'products' && (\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-8\">\n            {/* Product Form */}\n            <div className=\"lg:col-span-1\">\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-2 sm:space-y-0\">\n                    <span className=\"text-lg sm:text-xl\">{isEditing ? 'Edit Product' : 'Add Product'}</span>\n                    {isEditing && (\n                      <Button variant=\"outline\" size=\"sm\" onClick={resetForm}>\n                        Cancel\n                      </Button>\n                    )}\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                <form onSubmit={handleSubmit} className=\"space-y-4\">\n                  <div>\n                    <Label htmlFor=\"name\">Product Name</Label>\n                    <Input\n                      id=\"name\"\n                      value={formData.name}\n                      onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                      required\n                    />\n                  </div>\n                  \n                  <div>\n                    <Label htmlFor=\"description\">Description</Label>\n                    <Textarea\n                      id=\"description\"\n                      value={formData.description}\n                      onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                      placeholder=\"Enter product description for marketing and general information\"\n                      rows={3}\n                      required\n                    />\n                  </div>\n                  \n\n                  \n                  <div>\n                    <Label htmlFor=\"specificationList\">Specification Table Items</Label>\n                    <div className=\"space-y-2\">\n                      {(formData.specificationList || []).map((spec, index) => (\n                        <div key={index} className=\"flex items-center space-x-2\">\n                          <Input\n                            value={spec}\n                            onChange={(e) => {\n                              const newSpecs = [...(formData.specificationList || [])];\n                              newSpecs[index] = e.target.value;\n                              setFormData({ ...formData, specificationList: newSpecs });\n                            }}\n                            placeholder=\"Enter specification item\"\n                          />\n                          <Button\n                            type=\"button\"\n                            size=\"sm\"\n                            variant=\"outline\"\n                            onClick={() => {\n                              const newSpecs = formData.specificationList?.filter((_, i) => i !== index) || [];\n                              setFormData({ ...formData, specificationList: newSpecs });\n                            }}\n                          >\n                            Remove\n                          </Button>\n                        </div>\n                      ))}\n                      <Button\n                        type=\"button\"\n                        size=\"sm\"\n                        variant=\"outline\"\n                        onClick={() => {\n                          setFormData({ \n                            ...formData, \n                            specificationList: [...(formData.specificationList || []), \"\"]\n                          });\n                        }}\n                      >\n                        Add Specification Item\n                      </Button>\n                    </div>\n                    <p className=\"text-sm text-gray-500 mt-1\">Use format \"Feature - Detail\" for proper table display (e.g. \"LED Technology - 50,000+ hour lifespan\")</p>\n                  </div>\n                  \n\n                  \n                  <div>\n                    <Label htmlFor=\"category\">Category</Label>\n                    <Select\n                      value={formData.categorySlug}\n                      onValueChange={(value) => setFormData({ ...formData, categorySlug: value })}\n                    >\n                      <SelectTrigger>\n                        <SelectValue placeholder=\"Select category\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        {categories.map((category) => (\n                          <SelectItem key={category.slug} value={category.slug}>\n                            {category.name}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n                  \n                  <div>\n                    <Label htmlFor=\"brand\">Brand</Label>\n                    <Select\n                      value={formData.brand || \"\"}\n                      onValueChange={(value) => setFormData({ ...formData, brand: value })}\n                    >\n                      <SelectTrigger>\n                        <SelectValue placeholder=\"Select brand\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        {brands.length === 0 ? (\n                          <SelectItem value=\"no-brands\" disabled>\n                            No brands available - Add brands first\n                          </SelectItem>\n                        ) : (\n                          brands.map((brand) => (\n                            <SelectItem key={brand.id} value={brand.name}>\n                              {brand.name}\n                            </SelectItem>\n                          ))\n                        )}\n                      </SelectContent>\n                    </Select>\n                  </div>\n                  \n                  <div className=\"space-y-4\">\n                    {/* Primary Image */}\n                    <div>\n                      <Label htmlFor=\"primaryImage\">Primary Product Image *</Label>\n                      <div className=\"space-y-2\">\n                        <Input\n                          id=\"primaryImage\"\n                          type=\"file\"\n                          accept=\"image/*\"\n                          onChange={(e) => handleImageUpload(e, true)}\n                          disabled={imageUploadMutation.isPending}\n                        />\n                        {imageUploadMutation.isPending && (\n                          <p className=\"text-sm text-blue-600\">Uploading primary image...</p>\n                        )}\n                        {formData.imageUrl && (\n                          <div className=\"mt-2 relative\">\n                            <img \n                              src={formData.imageUrl} \n                              alt=\"Primary product preview\" \n                              className=\"w-20 h-20 object-cover rounded border\"\n                            />\n                            <p className=\"text-xs text-gray-500 mt-1\">\n                              {isEditing ? \"Upload a new file to replace current image\" : \"Primary image uploaded\"}\n                            </p>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n\n                    {/* Additional Images */}\n                    <div>\n                      <Label htmlFor=\"additionalImages\">Additional Images</Label>\n                      <div className=\"space-y-2\">\n                        <Input\n                          id=\"additionalImages\"\n                          type=\"file\"\n                          accept=\"image/*\"\n                          onChange={(e) => handleImageUpload(e, false)}\n                          disabled={imageUploadMutation.isPending}\n                        />\n                        {imageUploadMutation.isPending && (\n                          <p className=\"text-sm text-blue-600\">Uploading image...</p>\n                        )}\n                        \n                        {/* Display additional images */}\n                        {formData.imageUrls && formData.imageUrls.length > 0 && (\n                          <div className=\"flex flex-wrap gap-2 mt-2\">\n                            {formData.imageUrls.map((url, index) => (\n                              <div key={index} className=\"relative\">\n                                <img \n                                  src={url} \n                                  alt={`Additional product preview ${index + 1}`} \n                                  className=\"w-16 h-16 object-cover rounded border\"\n                                />\n                                <button\n                                  type=\"button\"\n                                  onClick={() => removeAdditionalImage(index)}\n                                  className=\"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs hover:bg-red-600\"\n                                >\n                                  Ã—\n                                </button>\n                              </div>\n                            ))}\n                          </div>\n                        )}\n                        <p className=\"text-xs text-gray-500\">You can upload multiple additional images to showcase different angles of the product.</p>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <div>\n                    <Label htmlFor=\"accessories\">Compatible Accessories</Label>\n                    <Select\n                      value=\"\"\n                      onValueChange={(value) => {\n                        if (value && !formData.accessories?.includes(value)) {\n                          setFormData({ \n                            ...formData, \n                            accessories: [...(formData.accessories || []), value]\n                          });\n                        }\n                      }}\n                    >\n                      <SelectTrigger>\n                        <SelectValue placeholder=\"Select accessories to add\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        {accessories\n                          .filter(accessory => {\n                            if (!formData.categorySlug || !accessory.compatibleWith) return false;\n                            return accessory.compatibleWith.includes(formData.categorySlug) ||\n                                   accessory.compatibleWith.includes('all') ||\n                                   accessory.compatibleWith.some(cat => \n                                     formData.categorySlug?.includes(cat) || \n                                     cat.includes(formData.categorySlug?.split('-')[0] || '')\n                                   );\n                          })\n                          .map((accessory) => (\n                            <SelectItem key={accessory.id} value={accessory.id}>\n                              {accessory.name}\n                            </SelectItem>\n                          ))}\n                      </SelectContent>\n                    </Select>\n                    {formData.accessories && formData.accessories.length > 0 && (\n                      <div className=\"mt-2 flex flex-wrap gap-2\">\n                        {formData.accessories.map((accessoryId) => {\n                          const accessory = accessories.find(a => a.id === accessoryId);\n                          return accessory ? (\n                            <span key={accessoryId} className=\"inline-flex items-center bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs px-2 py-1 rounded-full\">\n                              {accessory.name}\n                              <button\n                                type=\"button\"\n                                onClick={() => setFormData({ \n                                  ...formData, \n                                  accessories: formData.accessories?.filter(id => id !== accessoryId) || []\n                                })}\n                                className=\"ml-1 text-blue-600 hover:text-blue-800\"\n                              >\n                                Ã—\n                              </button>\n                            </span>\n                          ) : null;\n                        })}\n                      </div>\n                    )}\n                  </div>\n\n\n\n                  <div className=\"flex items-center space-x-4\">\n                    <label className=\"flex items-center space-x-2\">\n                      <input\n                        type=\"checkbox\"\n                        checked={formData.featured ?? false}\n                        onChange={(e) => setFormData({ ...formData, featured: e.target.checked })}\n                      />\n                      <span>Featured Product</span>\n                    </label>\n                  </div>\n                  \n                  <Button \n                    type=\"submit\" \n                    className=\"w-full\"\n                    disabled={createProductMutation.isPending || updateProductMutation.isPending}\n                  >\n                    <Plus className=\"w-4 h-4 mr-2\" />\n                    {isEditing ? 'Update Product' : 'Add Product'}\n                  </Button>\n                </form>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Products Table */}\n          <div className=\"lg:col-span-2\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Products ({filteredProducts.length} of {products.length})</CardTitle>\n                \n                {/* Admin Filters */}\n                <div className=\"flex flex-col sm:flex-row flex-wrap gap-3 sm:gap-4 mt-4\">\n                  <div className=\"flex-1 min-w-[200px]\">\n                    <Input\n                      placeholder=\"Search products...\"\n                      value={searchTerm}\n                      onChange={(e) => setSearchTerm(e.target.value)}\n                      className=\"w-full text-sm\"\n                    />\n                  </div>\n                  \n                  <Select value={filterBrand} onValueChange={setFilterBrand}>\n                    <SelectTrigger className=\"w-full sm:w-[180px]\">\n                      <SelectValue placeholder=\"Filter by brand\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"all\">All Brands</SelectItem>\n                      {availableBrands.map((brand) => (\n                        <SelectItem key={brand} value={brand || ''}>\n                          {brand || 'No brand'}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                  \n                  <Select value={filterCategory} onValueChange={setFilterCategory}>\n                    <SelectTrigger className=\"w-full sm:w-[180px]\">\n                      <SelectValue placeholder=\"Filter by category\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"all\">All Categories</SelectItem>\n                      {categories.map((category) => (\n                        <SelectItem key={category.slug} value={category.slug}>\n                          {category.name}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                  \n                  {(searchTerm || (filterBrand && filterBrand !== \"all\") || (filterCategory && filterCategory !== \"all\")) && (\n                    <Button \n                      variant=\"outline\" \n                      onClick={() => {\n                        setSearchTerm(\"\");\n                        setFilterBrand(\"all\");\n                        setFilterCategory(\"all\");\n                      }}\n                    >\n                      Clear Filters\n                    </Button>\n                  )}\n                </div>\n              </CardHeader>\n              <CardContent>\n                <div className=\"overflow-x-auto\">\n                  <Table>\n                    <TableHeader>\n                      <TableRow>\n                        <TableHead className=\"min-w-[120px]\">Name</TableHead>\n                        <TableHead className=\"hidden sm:table-cell\">Category</TableHead>\n                        <TableHead className=\"hidden md:table-cell\">Brand</TableHead>\n                        <TableHead className=\"text-right\">Status</TableHead>\n                        <TableHead className=\"hidden sm:table-cell text-center\">Featured</TableHead>\n                        <TableHead className=\"text-right\">Actions</TableHead>\n                      </TableRow>\n                    </TableHeader>\n                    <TableBody>\n                      {filteredProducts.map((product) => {\n                        const category = categories.find(c => c.slug === product.categorySlug);\n                        return (\n                          <TableRow key={product.id}>\n                            <TableCell className=\"font-medium\">\n                              <div>\n                                <div className=\"font-medium text-sm\">{product.name}</div>\n                                <div className=\"sm:hidden text-xs text-gray-500 mt-1\">\n                                  {category?.name || 'Unknown'}\n                                  {product.featured && <span className=\"ml-1 text-yellow-600\">â˜…</span>}\n                                </div>\n                              </div>\n                            </TableCell>\n                            <TableCell className=\"hidden sm:table-cell text-sm\">{category?.name || 'Unknown'}</TableCell>\n                            <TableCell className=\"hidden md:table-cell\">\n                              <span className=\"px-2 py-1 rounded-md text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200\">\n                                {product.brand || 'No Brand'}\n                              </span>\n                            </TableCell>\n                            <TableCell className=\"text-right\">\n                              <span className={`px-2 py-1 rounded-full text-xs ${\n                                product.inStock \n                                  ? 'bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200' \n                                  : 'bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200'\n                              }`}>\n                                {product.inStock ? 'Available' : 'Unavailable'}\n                              </span>\n                            </TableCell>\n                            <TableCell className=\"hidden sm:table-cell text-center\">\n                              <span className={`px-2 py-1 rounded-full text-xs ${\n                                product.featured \n                                  ? 'bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200' \n                                  : 'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200'\n                              }`}>\n                                {product.featured ? 'Featured' : 'Regular'}\n                              </span>\n                            </TableCell>\n                            <TableCell className=\"text-right\">\n                              <div className=\"flex space-x-1 justify-end\">\n                                <Button\n                                  variant=\"outline\"\n                                  size=\"sm\"\n                                  onClick={() => handleEdit(product)}\n                                  className=\"px-2\"\n                                >\n                                  <Edit className=\"w-3 h-3 sm:w-4 sm:h-4\" />\n                                  <span className=\"sr-only\">Edit</span>\n                                </Button>\n                                <Button\n                                  variant=\"outline\"\n                                  size=\"sm\"\n                                  onClick={() => handleDelete(product.id)}\n                                  className=\"px-2 text-red-600 hover:text-red-700\"\n                                  disabled={deleteProductMutation.isPending}\n                                >\n                                  <Trash2 className=\"w-3 h-3 sm:w-4 sm:h-4\" />\n                                  <span className=\"sr-only\">Delete</span>\n                                </Button>\n                              </div>\n                            </TableCell>\n                          </TableRow>\n                        );\n                      })}\n                    </TableBody>\n                  </Table>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n          </div>\n        )}\n\n        {/* Accessories Tab Content */}\n        {activeTab === 'accessories' && (\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-8\">\n            <div className=\"lg:col-span-1\">\n              <Card>\n                <CardHeader>\n                  <CardTitle>\n                    {isEditingAccessory ? 'Edit Accessory' : 'Add Accessory'}\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <form onSubmit={handleAccessorySubmit} className=\"space-y-4\">\n                    <div>\n                      <Label htmlFor=\"accessoryName\">Name</Label>\n                      <Input\n                        id=\"accessoryName\"\n                        value={accessoryFormData.name}\n                        onChange={(e) => setAccessoryFormData({ ...accessoryFormData, name: e.target.value })}\n                        placeholder=\"Enter accessory name\"\n                        required\n                      />\n                    </div>\n                    <div>\n                      <Label htmlFor=\"modelNumber\">Model Number</Label>\n                      <Input\n                        id=\"modelNumber\"\n                        value={accessoryFormData.modelNumber || \"\"}\n                        onChange={(e) => setAccessoryFormData({ ...accessoryFormData, modelNumber: e.target.value })}\n                        placeholder=\"Enter model number\"\n                      />\n                    </div>\n                    <div>\n                      <Label htmlFor=\"accessoryDescription\">Description</Label>\n                      <Textarea\n                        id=\"accessoryDescription\"\n                        value={accessoryFormData.description}\n                        onChange={(e) => setAccessoryFormData({ ...accessoryFormData, description: e.target.value })}\n                        placeholder=\"Enter accessory description\"\n                        required\n                      />\n                    </div>\n                    <div>\n                      <Label htmlFor=\"accessoryBrand\">Brand</Label>\n                      <Select\n                        value={accessoryFormData.brand || \"\"}\n                        onValueChange={(value) => setAccessoryFormData({ ...accessoryFormData, brand: value })}\n                      >\n                        <SelectTrigger>\n                          <SelectValue placeholder=\"Select brand\" />\n                        </SelectTrigger>\n                        <SelectContent>\n                          {brands.length === 0 ? (\n                            <SelectItem value=\"no-brands\" disabled>\n                              No brands available - Add brands first\n                            </SelectItem>\n                          ) : (\n                            brands.map((brand) => (\n                              <SelectItem key={brand.id} value={brand.name}>\n                                {brand.name}\n                              </SelectItem>\n                            ))\n                          )}\n                        </SelectContent>\n                      </Select>\n                    </div>\n                    {/* Primary Image Upload */}\n                    <div>\n                      <Label>Primary Image</Label>\n                      <div className=\"space-y-2\">\n                        <div className=\"flex items-center space-x-2\">\n                          <Input\n                            type=\"file\"\n                            accept=\"image/*\"\n                            onChange={(e) => handleAccessoryImageUpload(e, 'primary')}\n                            className=\"flex-1\"\n                          />\n                          {uploadingAccessoryImage && (\n                            <span className=\"text-sm text-gray-500\">Uploading...</span>\n                          )}\n                        </div>\n                        {accessoryFormData.imageUrl && (\n                          <div className=\"flex items-center space-x-2\">\n                            <img \n                              src={accessoryFormData.imageUrl} \n                              alt=\"Preview\" \n                              className=\"w-16 h-16 object-cover rounded border\"\n                            />\n                            <Button\n                              type=\"button\"\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={() => setAccessoryFormData({ ...accessoryFormData, imageUrl: \"\" })}\n                            >\n                              Remove\n                            </Button>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n\n                    {/* Additional Images Upload */}\n                    <div>\n                      <Label>Additional Images</Label>\n                      <div className=\"space-y-2\">\n                        <div className=\"flex items-center space-x-2\">\n                          <Input\n                            type=\"file\"\n                            accept=\"image/*\"\n                            multiple\n                            onChange={(e) => handleAccessoryImageUpload(e, 'additional')}\n                            className=\"flex-1\"\n                          />\n                          {uploadingAccessoryAdditionalImages && (\n                            <span className=\"text-sm text-gray-500\">Uploading...</span>\n                          )}\n                        </div>\n                        {accessoryFormData.imageUrls && accessoryFormData.imageUrls.length > 0 && (\n                          <div className=\"flex flex-wrap gap-2\">\n                            {accessoryFormData.imageUrls.map((url, index) => (\n                              <div key={index} className=\"relative\">\n                                <img \n                                  src={url} \n                                  alt={`Additional ${index + 1}`} \n                                  className=\"w-16 h-16 object-cover rounded border\"\n                                />\n                                <Button\n                                  type=\"button\"\n                                  variant=\"outline\"\n                                  size=\"sm\"\n                                  className=\"absolute -top-2 -right-2 w-6 h-6 p-0 rounded-full\"\n                                  onClick={() => {\n                                    const newUrls = [...(accessoryFormData.imageUrls || [])];\n                                    newUrls.splice(index, 1);\n                                    setAccessoryFormData({ ...accessoryFormData, imageUrls: newUrls });\n                                  }}\n                                >\n                                  Ã—\n                                </Button>\n                              </div>\n                            ))}\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                    <div>\n                      <Label htmlFor=\"compatibleWith\">Compatible With (Categories)</Label>\n                      <Select\n                        value=\"\"\n                        onValueChange={(value) => {\n                          if (!(accessoryFormData.compatibleWith || []).includes(value)) {\n                            setAccessoryFormData({ \n                              ...accessoryFormData, \n                              compatibleWith: [...(accessoryFormData.compatibleWith || []), value] \n                            });\n                          }\n                        }}\n                      >\n                        <SelectTrigger>\n                          <SelectValue placeholder=\"Add compatible category\" />\n                        </SelectTrigger>\n                        <SelectContent>\n                          {categories.map((category) => (\n                            <SelectItem key={category.id} value={category.slug}>\n                              {category.name}\n                            </SelectItem>\n                          ))}\n                        </SelectContent>\n                      </Select>\n                      <div className=\"mt-2 flex flex-wrap gap-1\">\n                        {(accessoryFormData.compatibleWith || []).map((categorySlug) => {\n                          const category = categories.find(c => c.slug === categorySlug);\n                          return (\n                            <span key={categorySlug} className=\"inline-flex items-center bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs px-2 py-1 rounded-full\">\n                              {category?.name || categorySlug}\n                              <button\n                                type=\"button\"\n                                onClick={() => setAccessoryFormData({ \n                                  ...accessoryFormData, \n                                  compatibleWith: (accessoryFormData.compatibleWith || []).filter(slug => slug !== categorySlug) \n                                })}\n                                className=\"ml-1 text-blue-600 hover:text-blue-800\"\n                              >\n                                Ã—\n                              </button>\n                            </span>\n                          );\n                        })}\n                      </div>\n                    </div>\n                    <div className=\"flex space-x-2\">\n                      <Button \n                        type=\"submit\"\n                        disabled={createAccessoryMutation.isPending || updateAccessoryMutation.isPending}\n                        className=\"flex-1\"\n                      >\n                        {createAccessoryMutation.isPending || updateAccessoryMutation.isPending \n                          ? 'Processing...' \n                          : isEditingAccessory ? 'Update Accessory' : 'Create Accessory'\n                        }\n                      </Button>\n                      {isEditingAccessory && (\n                        <Button\n                          type=\"button\"\n                          variant=\"outline\"\n                          onClick={() => {\n                            setIsEditingAccessory(false);\n                            setEditingAccessory(null);\n                            setAccessoryFormData({\n                              name: '',\n                              modelNumber: '',\n                              description: '',\n                              brand: '',\n                              imageUrl: '',\n                              imageUrls: [],\n                              compatibleWith: []\n                            });\n                          }}\n                        >\n                          Cancel\n                        </Button>\n                      )}\n                    </div>\n                  </form>\n                </CardContent>\n              </Card>\n            </div>\n            \n            <div className=\"lg:col-span-2\">\n              <Card>\n                <CardHeader>\n                  <CardTitle>Accessories ({filteredAccessories.length} of {accessories.length})</CardTitle>\n                  <div className=\"flex flex-col sm:flex-row gap-2 mt-4\">\n                    <div className=\"flex-1\">\n                      <Input\n                        placeholder=\"Search accessories...\"\n                        value={accessorySearchTerm}\n                        onChange={(e) => setAccessorySearchTerm(e.target.value)}\n                        className=\"w-full\"\n                      />\n                    </div>\n                    {accessorySearchTerm && (\n                      <Button \n                        variant=\"outline\" \n                        onClick={() => setAccessorySearchTerm(\"\")}\n                      >\n                        Clear Search\n                      </Button>\n                    )}\n                  </div>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"overflow-x-auto\">\n                    <Table>\n                      <TableHeader>\n                        <TableRow>\n                          <TableHead>Name</TableHead>\n                          <TableHead>Model</TableHead>\n                          <TableHead>Brand</TableHead>\n                          <TableHead>Compatible With</TableHead>\n                          <TableHead>Actions</TableHead>\n                        </TableRow>\n                      </TableHeader>\n                      <TableBody>\n                        {filteredAccessories.map((accessory) => (\n                          <TableRow key={accessory.id}>\n                            <TableCell>{accessory.name}</TableCell>\n                            <TableCell>{accessory.modelNumber || 'N/A'}</TableCell>\n                            <TableCell>{accessory.brand || 'N/A'}</TableCell>\n                            <TableCell>{accessory.compatibleWith?.join(', ') || 'None'}</TableCell>\n                            <TableCell>\n                              <div className=\"flex space-x-2\">\n                                <Button\n                                  size=\"sm\"\n                                  variant=\"outline\"\n                                  onClick={() => handleEditAccessory(accessory)}\n                                >\n                                  <Edit className=\"w-4 h-4\" />\n                                </Button>\n                                <Button\n                                  size=\"sm\"\n                                  variant=\"outline\"\n                                  onClick={() => handleDeleteAccessory(accessory.id)}\n                                  disabled={deleteAccessoryMutation.isPending}\n                                >\n                                  <Trash2 className=\"w-4 h-4\" />\n                                </Button>\n                              </div>\n                            </TableCell>\n                          </TableRow>\n                        ))}\n                      </TableBody>\n                    </Table>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </div>\n        )}\n\n        {/* Contact Messages Tab Content */}\n        {activeTab === 'contacts' && (\n          <div>\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-lg sm:text-xl\">Contact Messages ({contactMessages.length})</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"overflow-x-auto\">\n                  <Table>\n                    <TableHeader>\n                      <TableRow>\n                        <TableHead className=\"min-w-[120px]\">Contact</TableHead>\n                        <TableHead className=\"hidden sm:table-cell\">Email</TableHead>\n                        <TableHead className=\"hidden md:table-cell\">Phone</TableHead>\n                        <TableHead>Message</TableHead>\n                        <TableHead className=\"hidden sm:table-cell\">Date</TableHead>\n                      </TableRow>\n                    </TableHeader>\n                    <TableBody>\n                      {contactMessages.map((message) => (\n                        <TableRow key={message.id}>\n                          <TableCell>\n                            <div>\n                              <div className=\"font-medium text-sm\">{message.firstName} {message.lastName}</div>\n                              <div className=\"sm:hidden text-xs text-gray-500 mt-1\">\n                                {message.email}\n                                {message.phone && <> â€¢ {message.phone}</>}\n                              </div>\n                              <div className=\"sm:hidden text-xs text-gray-400 mt-1\">\n                                {new Date(message.submittedAt || '').toLocaleDateString()}\n                              </div>\n                            </div>\n                          </TableCell>\n                          <TableCell className=\"hidden sm:table-cell text-sm\">{message.email}</TableCell>\n                          <TableCell className=\"hidden md:table-cell text-sm\">{message.phone || 'N/A'}</TableCell>\n                          <TableCell className=\"max-w-xs truncate text-sm\">{message.message}</TableCell>\n                          <TableCell className=\"hidden sm:table-cell text-sm text-gray-500\">\n                            {new Date(message.submittedAt || '').toLocaleDateString()}\n                          </TableCell>\n                        </TableRow>\n                      ))}\n                    </TableBody>\n                  </Table>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        )}\n\n        {/* Projects Tab Content */}\n        {activeTab === 'projects' && (\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-8\">\n            {/* Project Form */}\n            <div className=\"lg:col-span-1\">\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-2 sm:space-y-0\">\n                    <span className=\"text-lg sm:text-xl\">{isEditingProject ? 'Edit Project' : 'Add Project'}</span>\n                    {isEditingProject && (\n                      <Button variant=\"outline\" size=\"sm\" onClick={resetProjectForm}>\n                        Cancel\n                      </Button>\n                    )}\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <form onSubmit={handleProjectSubmit} className=\"space-y-4\">\n                    <div>\n                      <Label htmlFor=\"projectTitle\">Project Title</Label>\n                      <Input\n                        id=\"projectTitle\"\n                        value={projectFormData.title}\n                        onChange={(e) => setProjectFormData({ ...projectFormData, title: e.target.value })}\n                        required\n                      />\n                    </div>\n                    \n                    <div>\n                      <Label htmlFor=\"projectDescription\">Description</Label>\n                      <Textarea\n                        id=\"projectDescription\"\n                        value={projectFormData.description}\n                        onChange={(e) => setProjectFormData({ ...projectFormData, description: e.target.value })}\n                        rows={3}\n                        required\n                      />\n                    </div>\n\n                    <div>\n                      <Label htmlFor=\"projectLocation\">Location</Label>\n                      <Input\n                        id=\"projectLocation\"\n                        value={projectFormData.location}\n                        onChange={(e) => setProjectFormData({ ...projectFormData, location: e.target.value })}\n                        placeholder=\"e.g., Downtown Office Complex\"\n                        required\n                      />\n                    </div>\n\n                    <div>\n                      <Label htmlFor=\"category\">Category</Label>\n                      <Select \n                        value={projectFormData.category} \n                        onValueChange={(value) => setProjectFormData({ ...projectFormData, category: value })}\n                      >\n                        <SelectTrigger>\n                          <SelectValue placeholder=\"Select category\" />\n                        </SelectTrigger>\n                        <SelectContent>\n                          <SelectItem value=\"Commercial\">Commercial</SelectItem>\n                          <SelectItem value=\"Residential\">Residential</SelectItem>\n                          <SelectItem value=\"Industrial\">Industrial</SelectItem>\n                          <SelectItem value=\"Healthcare\">Healthcare</SelectItem>\n                          <SelectItem value=\"Educational\">Educational</SelectItem>\n                          <SelectItem value=\"Retail\">Retail</SelectItem>\n                        </SelectContent>\n                      </Select>\n                    </div>\n\n                    <div>\n                      <Label htmlFor=\"completedDate\">Completed Date</Label>\n                      <Input\n                        id=\"completedDate\"\n                        type=\"date\"\n                        value={projectFormData.completedDate}\n                        onChange={(e) => setProjectFormData({ ...projectFormData, completedDate: e.target.value })}\n                        required\n                      />\n                    </div>\n\n                    <div>\n                      <Label>Featured Project</Label>\n                      <div className=\"flex items-center space-x-2\">\n                        <input\n                          type=\"checkbox\"\n                          id=\"projectFeatured\"\n                          checked={projectFormData.featured || false}\n                          onChange={(e) => setProjectFormData({ ...projectFormData, featured: e.target.checked })}\n                          className=\"w-4 h-4\"\n                        />\n                        <Label htmlFor=\"projectFeatured\" className=\"text-sm\">\n                          Display in homepage carousel\n                        </Label>\n                      </div>\n                    </div>\n\n                    {/* Primary Media Upload */}\n                    <div>\n                      <Label>Primary Media (Main Image/Video)</Label>\n                      <div className=\"space-y-4\">\n                        <div className=\"border-2 border-dashed border-muted-foreground/25 rounded-lg p-6\">\n                          <div className=\"text-center\">\n                            <input\n                              type=\"file\"\n                              id=\"primaryMedia\"\n                              accept=\"image/*,video/*\"\n                              onChange={handlePrimaryMediaUpload}\n                              className=\"hidden\"\n                            />\n                            <Label \n                              htmlFor=\"primaryMedia\"\n                              className=\"cursor-pointer inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2\"\n                            >\n                              Upload Primary Media\n                            </Label>\n                            <p className=\"text-sm text-muted-foreground mt-2\">\n                              Select main image (10MB max) or video (100MB max)\n                            </p>\n                          </div>\n                        </div>\n\n                        {/* Display primary media preview */}\n                        {projectFormData.primaryMediaUrl && (\n                          <div className=\"mt-4\">\n                            <div className=\"relative group inline-block\">\n                              {projectFormData.primaryMediaUrl.includes('.mp4') || projectFormData.primaryMediaUrl.includes('video') ? (\n                                <video \n                                  src={projectFormData.primaryMediaUrl}\n                                  className=\"w-32 h-24 object-cover rounded border\"\n                                  controls={false}\n                                />\n                              ) : (\n                                <img \n                                  src={projectFormData.primaryMediaUrl} \n                                  alt=\"Primary media\"\n                                  className=\"w-32 h-24 object-cover rounded border\"\n                                />\n                              )}\n                              <Button\n                                type=\"button\"\n                                variant=\"destructive\"\n                                size=\"sm\"\n                                className=\"absolute top-1 right-1 h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity\"\n                                onClick={removePrimaryMedia}\n                              >\n                                Ã—\n                              </Button>\n                            </div>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n\n                    {/* Additional Media Upload */}\n                    <div>\n                      <Label>Additional Media (Optional)</Label>\n                      <div className=\"space-y-4\">\n                        <div className=\"border-2 border-dashed border-muted-foreground/25 rounded-lg p-6\">\n                          <div className=\"text-center\">\n                            <input\n                              type=\"file\"\n                              id=\"additionalMedia\"\n                              multiple\n                              accept=\"image/*,video/*\"\n                              onChange={handleAdditionalMediaUpload}\n                              className=\"hidden\"\n                            />\n                            <Label \n                              htmlFor=\"additionalMedia\"\n                              className=\"cursor-pointer inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-secondary text-secondary-foreground hover:bg-secondary/90 h-10 px-4 py-2\"\n                            >\n                              Upload Additional Media\n                            </Label>\n                            <p className=\"text-sm text-muted-foreground mt-2\">\n                              Select multiple images (10MB max each) or videos (100MB max each)\n                            </p>\n                          </div>\n                        </div>\n\n                        {/* Display additional media preview */}\n                        {projectFormData.additionalMediaUrls && projectFormData.additionalMediaUrls.length > 0 && (\n                          <div className=\"grid grid-cols-3 gap-4 mt-4\">\n                            {projectFormData.additionalMediaUrls.map((url, index) => (\n                              <div key={index} className=\"relative group\">\n                                {url.includes('.mp4') || url.includes('video') ? (\n                                  <video \n                                    src={url}\n                                    className=\"w-full h-20 object-cover rounded border\"\n                                    controls={false}\n                                  />\n                                ) : (\n                                  <img \n                                    src={url} \n                                    alt={`Additional media ${index + 1}`}\n                                    className=\"w-full h-20 object-cover rounded border\"\n                                  />\n                                )}\n                                <Button\n                                  type=\"button\"\n                                  variant=\"destructive\"\n                                  size=\"sm\"\n                                  className=\"absolute top-1 right-1 h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity\"\n                                  onClick={() => removeAdditionalMedia(index)}\n                                >\n                                  Ã—\n                                </Button>\n                              </div>\n                            ))}\n                          </div>\n                        )}\n                      </div>\n                    </div>\n\n                    {/* Legacy Media Preview (for backward compatibility) */}\n                    {projectFormData.imageUrls && projectFormData.imageUrls.length > 0 && (\n                      <div>\n                        <Label>Legacy Media (Backward Compatibility)</Label>\n                        <div className=\"grid grid-cols-2 gap-4 mt-2\">\n                          {projectFormData.imageUrls.map((url, index) => (\n                            <div key={index} className=\"relative group\">\n                              {url.includes('.mp4') || url.includes('video') ? (\n                                <video \n                                  src={url}\n                                  className=\"w-full h-24 object-cover rounded border\"\n                                  controls={false}\n                                />\n                              ) : (\n                                <img \n                                  src={url} \n                                  alt={`Project media ${index + 1}`}\n                                  className=\"w-full h-24 object-cover rounded border\"\n                                />\n                              )}\n                              <Button\n                                type=\"button\"\n                                variant=\"destructive\"\n                                size=\"sm\"\n                                className=\"absolute top-1 right-1 h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity\"\n                                onClick={() => removeProjectMedia(index)}\n                              >\n                                Ã—\n                              </Button>\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n\n                    <Button \n                      type=\"submit\" \n                      className=\"w-full\"\n                      disabled={createProjectMutation.isPending || updateProjectMutation.isPending}\n                    >\n                      {createProjectMutation.isPending || updateProjectMutation.isPending ? (\n                        isEditingProject ? 'Updating...' : 'Creating...'\n                      ) : (\n                        isEditingProject ? 'Update Project' : 'Create Project'\n                      )}\n                    </Button>\n                  </form>\n                </CardContent>\n              </Card>\n            </div>\n\n            {/* Projects List */}\n            <div className=\"lg:col-span-2\">\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"text-lg sm:text-xl\">Projects ({filteredProjects.length} of {projects.length})</CardTitle>\n                  <div className=\"flex flex-col sm:flex-row gap-2 mt-4\">\n                    <div className=\"flex-1\">\n                      <Input\n                        placeholder=\"Search projects...\"\n                        value={projectSearchTerm}\n                        onChange={(e) => setProjectSearchTerm(e.target.value)}\n                        className=\"w-full\"\n                      />\n                    </div>\n                    {projectSearchTerm && (\n                      <Button \n                        variant=\"outline\" \n                        onClick={() => setProjectSearchTerm(\"\")}\n                      >\n                        Clear Search\n                      </Button>\n                    )}\n                  </div>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"overflow-auto\">\n                    <Table>\n                      <TableHeader>\n                        <TableRow>\n                          <TableHead className=\"min-w-[200px]\">Title</TableHead>\n                          <TableHead className=\"hidden sm:table-cell\">Location</TableHead>\n                          <TableHead className=\"hidden md:table-cell\">Category</TableHead>\n                          <TableHead className=\"hidden lg:table-cell\">Completed</TableHead>\n                          <TableHead className=\"text-center\">Featured</TableHead>\n                          <TableHead className=\"text-right\">Actions</TableHead>\n                        </TableRow>\n                      </TableHeader>\n                      <TableBody>\n                        {filteredProjects.map((project) => (\n                          <TableRow key={project.id}>\n                            <TableCell>\n                              <div className=\"space-y-1\">\n                                <div className=\"font-medium text-sm\">{project.title}</div>\n                                <div className=\"md:hidden text-xs text-gray-500\">\n                                  {project.category} â€¢ {project.location}\n                                </div>\n                                <div className=\"lg:hidden text-xs text-gray-400\">\n                                  {new Date(project.completedDate).toLocaleDateString()}\n                                </div>\n                              </div>\n                            </TableCell>\n                            <TableCell className=\"hidden sm:table-cell text-sm max-w-[150px] truncate\">{project.location}</TableCell>\n                            <TableCell className=\"hidden md:table-cell text-sm\">{project.category}</TableCell>\n                            <TableCell className=\"hidden lg:table-cell text-sm text-gray-500\">\n                              {new Date(project.completedDate).toLocaleDateString()}\n                            </TableCell>\n                            <TableCell className=\"text-center\">\n                              {project.featured && (\n                                <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-primary/10 text-primary\">\n                                  Featured\n                                </span>\n                              )}\n                            </TableCell>\n                            <TableCell className=\"text-right\">\n                              <div className=\"flex justify-end space-x-2\">\n                                <Button\n                                  variant=\"ghost\"\n                                  size=\"sm\"\n                                  onClick={() => handleEditProject(project)}\n                                  className=\"p-1 h-8 w-8\"\n                                >\n                                  <Edit className=\"w-4 h-4\" />\n                                </Button>\n                                <Button\n                                  variant=\"ghost\"\n                                  size=\"sm\"\n                                  onClick={() => handleDeleteProject(project.id)}\n                                  className=\"p-1 h-8 w-8 text-red-600 hover:text-red-800\"\n                                >\n                                  <Trash2 className=\"w-4 h-4\" />\n                                </Button>\n                              </div>\n                            </TableCell>\n                          </TableRow>\n                        ))}\n                      </TableBody>\n                    </Table>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </div>\n        )}\n\n        {/* Data Management Tab Content */}\n        {activeTab === 'data-management' && (\n          <div className=\"space-y-8\">\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-xl\">Database Management</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-6\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div className=\"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4\">\n                    <h3 className=\"text-lg font-medium text-amber-800 dark:text-amber-200 mb-2\">\n                      Clear All Data\n                    </h3>\n                    <p className=\"text-amber-700 dark:text-amber-300 mb-4\">\n                      This will permanently delete all products, accessories, and projects from the database. \n                      Categories and admin users will be preserved.\n                    </p>\n                    <Button\n                      variant=\"destructive\"\n                      onClick={() => {\n                        if (window.confirm(\"Are you sure you want to clear all data? This action cannot be undone.\")) {\n                          clearDataMutation.mutate();\n                        }\n                      }}\n                      disabled={clearDataMutation.isPending}\n                    >\n                      {clearDataMutation.isPending ? \"Clearing...\" : \"Clear All Data\"}\n                    </Button>\n                  </div>\n\n                  <div className=\"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4\">\n                    <h3 className=\"text-lg font-medium text-green-800 dark:text-green-200 mb-2\">\n                      Populate Sample Data\n                    </h3>\n                    <p className=\"text-green-700 dark:text-green-300 mb-4\">\n                      Add comprehensive sample data including 6 electrical products, 5 accessories, and 4 projects \n                      to get started quickly.\n                    </p>\n                    <Button\n                      onClick={() => {\n                        populateSampleDataMutation.mutate();\n                      }}\n                      disabled={populateSampleDataMutation.isPending}\n                      className=\"bg-green-600 hover:bg-green-700 text-white\"\n                    >\n                      {populateSampleDataMutation.isPending ? \"Adding Data...\" : \"Add Sample Data\"}\n                    </Button>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                  <Card>\n                    <CardHeader>\n                      <CardTitle className=\"text-lg\">Current Data</CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                      <div className=\"space-y-2\">\n                        <div className=\"flex justify-between\">\n                          <span>Products:</span>\n                          <span className=\"font-medium\">{products?.length || 0}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Accessories:</span>\n                          <span className=\"font-medium\">{accessories?.length || 0}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Projects:</span>\n                          <span className=\"font-medium\">{projects?.length || 0}</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Categories:</span>\n                          <span className=\"font-medium\">{categories?.length || 0}</span>\n                        </div>\n                      </div>\n                    </CardContent>\n                  </Card>\n\n                  <Card>\n                    <CardHeader>\n                      <CardTitle className=\"text-lg\">Instructions</CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                      <div className=\"space-y-3 text-sm\">\n                        <div>\n                          <p className=\"font-medium\">1. Clear existing data</p>\n                          <p className=\"text-gray-600 dark:text-gray-400\">Remove old test data to start fresh</p>\n                        </div>\n                        <div>\n                          <p className=\"font-medium\">2. Add products manually</p>\n                          <p className=\"text-gray-600 dark:text-gray-400\">Use Products tab with Cloudinary images</p>\n                        </div>\n                        <div>\n                          <p className=\"font-medium\">3. Add accessories</p>\n                          <p className=\"text-gray-600 dark:text-gray-400\">Use Accessories tab with category compatibility</p>\n                        </div>\n                        <div>\n                          <p className=\"font-medium\">4. Add projects</p>\n                          <p className=\"text-gray-600 dark:text-gray-400\">Use Projects tab with media uploads</p>\n                        </div>\n                      </div>\n                    </CardContent>\n                  </Card>\n\n                  <Card>\n                    <CardHeader>\n                      <CardTitle className=\"text-lg\">Tips</CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                      <div className=\"space-y-2 text-sm\">\n                        <p>â€¢ Upload high-quality images (max 10MB)</p>\n                        <p>â€¢ Use professional product photos</p>\n                        <p>â€¢ Add detailed specifications</p>\n                        <p>â€¢ Set compatible accessories</p>\n                        <p>â€¢ Create similar product relationships</p>\n                        <p>â€¢ Use Cloudinary for all media</p>\n                      </div>\n                    </CardContent>\n                  </Card>\n                </div>\n\n                <div className=\"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4\">\n                  <h3 className=\"text-lg font-medium text-blue-800 dark:text-blue-200 mb-2\">\n                    Getting Started\n                  </h3>\n                  <p className=\"text-blue-700 dark:text-blue-300 mb-4\">\n                    Ready to populate your database with comprehensive electrical products and projects? \n                    Start by clearing the existing test data, then use the individual tabs to add:\n                  </p>\n                  <ul className=\"list-disc list-inside text-blue-700 dark:text-blue-300 space-y-1\">\n                    <li>Professional electrical products with Cloudinary photos</li>\n                    <li>Compatible accessories for each product category</li>\n                    <li>Real project showcases with multiple media files</li>\n                    <li>Detailed specifications and descriptions</li>\n                  </ul>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        )}\n\n        {/* Brands Management Tab */}\n        {activeTab === 'brands' && (\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-8\">\n            <div className=\"lg:col-span-1\">\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center justify-between\">\n                    <span>{isEditingBrand ? 'Edit Brand' : 'Add Brand'}</span>\n                    {isEditingBrand && (\n                      <Button variant=\"outline\" size=\"sm\" onClick={resetBrandForm}>\n                        Cancel\n                      </Button>\n                    )}\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <form onSubmit={handleBrandSubmit} className=\"space-y-4\">\n                    <div>\n                      <Label htmlFor=\"brandName\">Brand Name</Label>\n                      <Input\n                        id=\"brandName\"\n                        value={brandFormData.name || ''}\n                        onChange={(e) => setBrandFormData({...brandFormData, name: e.target.value})}\n                        required\n                        placeholder=\"e.g., Schneider Electric\"\n                      />\n                    </div>\n\n                    <div>\n                      <Label htmlFor=\"brandDescription\">Description</Label>\n                      <Textarea\n                        id=\"brandDescription\"\n                        value={brandFormData.description || ''}\n                        onChange={(e) => setBrandFormData({...brandFormData, description: e.target.value})}\n                        placeholder=\"Brief description about the brand...\"\n                        rows={3}\n                      />\n                    </div>\n\n                    <div>\n                      <Label htmlFor=\"brandWebsite\">Website (Optional)</Label>\n                      <Input\n                        id=\"brandWebsite\"\n                        type=\"url\"\n                        value={brandFormData.website || ''}\n                        onChange={(e) => setBrandFormData({...brandFormData, website: e.target.value})}\n                        placeholder=\"https://www.example.com\"\n                      />\n                    </div>\n\n                    <div className=\"flex items-center space-x-2\">\n                      <input\n                        type=\"checkbox\"\n                        id=\"brandActive\"\n                        checked={brandFormData.isActive ?? true}\n                        onChange={(e) => setBrandFormData({...brandFormData, isActive: e.target.checked})}\n                        className=\"rounded\"\n                      />\n                      <Label htmlFor=\"brandActive\">Brand is Active</Label>\n                    </div>\n\n                    <Button type=\"submit\" className=\"w-full\" disabled={createBrandMutation.isPending || updateBrandMutation.isPending}>\n                      {isEditingBrand ? 'Update Brand' : 'Create Brand'}\n                    </Button>\n                  </form>\n                </CardContent>\n              </Card>\n            </div>\n\n            <div className=\"lg:col-span-2\">\n              <Card>\n                <CardHeader>\n                  <CardTitle>Brand Management ({filteredBrands.length} of {brands.length})</CardTitle>\n                  <div className=\"flex flex-col sm:flex-row gap-2 mt-4\">\n                    <div className=\"flex-1\">\n                      <Input\n                        placeholder=\"Search brands...\"\n                        value={brandSearchTerm}\n                        onChange={(e) => setBrandSearchTerm(e.target.value)}\n                        className=\"w-full\"\n                      />\n                    </div>\n                    {brandSearchTerm && (\n                      <Button \n                        variant=\"outline\" \n                        onClick={() => setBrandSearchTerm(\"\")}\n                      >\n                        Clear Search\n                      </Button>\n                    )}\n                  </div>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"overflow-x-auto\">\n                    <Table>\n                      <TableHeader>\n                        <TableRow>\n                          <TableHead>Brand Name</TableHead>\n                          <TableHead className=\"hidden md:table-cell\">Description</TableHead>\n                          <TableHead className=\"hidden lg:table-cell\">Website</TableHead>\n                          <TableHead>Status</TableHead>\n                          <TableHead>Actions</TableHead>\n                        </TableRow>\n                      </TableHeader>\n                      <TableBody>\n                        {filteredBrands.map((brand) => (\n                          <TableRow key={brand.id}>\n                            <TableCell className=\"font-medium\">{brand.name}</TableCell>\n                            <TableCell className=\"hidden md:table-cell max-w-xs truncate\">\n                              {brand.description || '-'}\n                            </TableCell>\n                            <TableCell className=\"hidden lg:table-cell\">\n                              {brand.website ? (\n                                <a href={brand.website} target=\"_blank\" rel=\"noopener noreferrer\" \n                                   className=\"text-blue-600 hover:underline\">\n                                  Visit\n                                </a>\n                              ) : '-'}\n                            </TableCell>\n                            <TableCell>\n                              <span className={`px-2 py-1 rounded-full text-xs ${\n                                brand.isActive \n                                  ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200'\n                                  : 'bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200'\n                              }`}>\n                                {brand.isActive ? 'Active' : 'Inactive'}\n                              </span>\n                            </TableCell>\n                            <TableCell>\n                              <div className=\"flex items-center space-x-2\">\n                                <Button\n                                  variant=\"outline\"\n                                  size=\"sm\"\n                                  onClick={() => handleEditBrand(brand)}\n                                >\n                                  <Edit className=\"w-4 h-4\" />\n                                </Button>\n                                <Button\n                                  variant=\"outline\"\n                                  size=\"sm\"\n                                  onClick={() => deleteBrandMutation.mutate(brand.id)}\n                                  disabled={deleteBrandMutation.isPending}\n                                >\n                                  <Trash2 className=\"w-4 h-4\" />\n                                </Button>\n                              </div>\n                            </TableCell>\n                          </TableRow>\n                        ))}\n                        {brands.length === 0 && (\n                          <TableRow>\n                            <TableCell colSpan={5} className=\"text-center py-8 text-gray-500\">\n                              No brands found. Create your first brand above.\n                            </TableCell>\n                          </TableRow>\n                        )}\n                      </TableBody>\n                    </Table>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </div>\n        )}\n\n        {/* Categories Management Tab */}\n        {activeTab === 'categories' && (\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-8\">\n            <div className=\"lg:col-span-1\">\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center justify-between\">\n                    <span>{isEditingCategory ? 'Edit Category' : 'Add Category'}</span>\n                    {isEditingCategory && (\n                      <Button variant=\"outline\" size=\"sm\" onClick={resetCategoryForm}>\n                        Cancel\n                      </Button>\n                    )}\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <form onSubmit={handleCategorySubmit} className=\"space-y-4\">\n                    <div>\n                      <Label htmlFor=\"categoryName\">Category Name</Label>\n                      <Input\n                        id=\"categoryName\"\n                        value={categoryFormData.name || ''}\n                        onChange={(e) => handleCategoryNameChange(e.target.value)}\n                        required\n                        placeholder=\"e.g., LED Fixtures\"\n                      />\n                    </div>\n\n                    <div>\n                      <Label htmlFor=\"categorySlug\">URL Slug (Auto-generated)</Label>\n                      <Input\n                        id=\"categorySlug\"\n                        value={categoryFormData.slug || ''}\n                        onChange={(e) => setCategoryFormData({...categoryFormData, slug: e.target.value})}\n                        required\n                        placeholder=\"led-fixtures\"\n                        className=\"font-mono text-sm\"\n                      />\n                    </div>\n\n                    <div>\n                      <Label htmlFor=\"categoryImage\">Category Image</Label>\n                      <div className=\"space-y-2\">\n                        <Input\n                          id=\"categoryImage\"\n                          value={categoryFormData.imageUrl || ''}\n                          onChange={(e) => setCategoryFormData({...categoryFormData, imageUrl: e.target.value})}\n                          placeholder=\"Image URL or upload an image\"\n                          className=\"flex-1\"\n                        />\n                        \n                        {/* Image Upload */}\n                        <div className=\"flex items-center space-x-2\">\n                          <input\n                            type=\"file\"\n                            accept=\"image/*\"\n                            onChange={async (e) => {\n                              const file = e.target.files?.[0];\n                              if (file) {\n                                if (file.size > 5 * 1024 * 1024) {\n                                  toast({\n                                    title: \"File too large\",\n                                    description: \"Please select an image under 5MB\",\n                                    variant: \"destructive\",\n                                  });\n                                  return;\n                                }\n                                setUploadingCategoryImage(true);\n                                try {\n                                  const formData = new FormData();\n                                  formData.append('image', file);\n                                  const response = await fetch('/api/upload', {\n                                    method: 'POST',\n                                    body: formData,\n                                  });\n                                  if (response.ok) {\n                                    const data = await response.json();\n                                    setCategoryFormData(prev => ({ ...prev, imageUrl: data.imageUrl }));\n                                    toast({ title: \"Image uploaded successfully\" });\n                                  } else {\n                                    throw new Error('Upload failed');\n                                  }\n                                } catch (error) {\n                                  console.error('Upload error:', error);\n                                  toast({\n                                    title: \"Upload failed\",\n                                    description: \"Please try again\",\n                                    variant: \"destructive\",\n                                  });\n                                } finally {\n                                  setUploadingCategoryImage(false);\n                                }\n                              }\n                            }}\n                            disabled={uploadingCategoryImage}\n                            className=\"text-sm\"\n                          />\n                          {uploadingCategoryImage && (\n                            <span className=\"text-sm text-gray-500\">Uploading...</span>\n                          )}\n                        </div>\n                        \n                        {/* Image Preview */}\n                        {categoryFormData.imageUrl && (\n                          <div className=\"mt-2\">\n                            <img \n                              src={categoryFormData.imageUrl} \n                              alt=\"Category preview\"\n                              className=\"w-16 h-16 object-cover rounded border\"\n                            />\n                          </div>\n                        )}\n                      </div>\n                    </div>\n\n                    <Button type=\"submit\" className=\"w-full\" disabled={createCategoryMutation.isPending || updateCategoryMutation.isPending}>\n                      {isEditingCategory ? 'Update Category' : 'Create Category'}\n                    </Button>\n                  </form>\n                </CardContent>\n              </Card>\n            </div>\n\n            <div className=\"lg:col-span-2\">\n              <Card>\n                <CardHeader>\n                  <CardTitle>Category Management ({filteredCategories.length} of {categories.length})</CardTitle>\n                  <div className=\"flex flex-col sm:flex-row gap-2 mt-4\">\n                    <div className=\"flex-1\">\n                      <Input\n                        placeholder=\"Search categories...\"\n                        value={categorySearchTerm}\n                        onChange={(e) => setCategorySearchTerm(e.target.value)}\n                        className=\"w-full\"\n                      />\n                    </div>\n                    {categorySearchTerm && (\n                      <Button \n                        variant=\"outline\" \n                        onClick={() => setCategorySearchTerm(\"\")}\n                      >\n                        Clear Search\n                      </Button>\n                    )}\n                  </div>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"overflow-x-auto\">\n                    <Table>\n                      <TableHeader>\n                        <TableRow>\n                          <TableHead>Image</TableHead>\n                          <TableHead>Category Name</TableHead>\n                          <TableHead className=\"hidden md:table-cell\">Slug</TableHead>\n                          <TableHead>Actions</TableHead>\n                        </TableRow>\n                      </TableHeader>\n                      <TableBody>\n                        {filteredCategories.map((category) => (\n                          <TableRow key={category.id}>\n                            <TableCell className=\"text-center w-16\">\n                              <img \n                                src={category.imageUrl} \n                                alt={category.name}\n                                className=\"w-12 h-12 object-cover rounded mx-auto\"\n                              />\n                            </TableCell>\n                            <TableCell className=\"font-medium\">{category.name}</TableCell>\n                            <TableCell className=\"hidden md:table-cell font-mono text-sm text-gray-600\">\n                              {category.slug}\n                            </TableCell>\n                            <TableCell>\n                              <div className=\"flex items-center space-x-2\">\n                                <Button\n                                  variant=\"outline\"\n                                  size=\"sm\"\n                                  onClick={() => handleEditCategory(category)}\n                                >\n                                  <Edit className=\"w-4 h-4\" />\n                                </Button>\n                                <Button\n                                  variant=\"outline\"\n                                  size=\"sm\"\n                                  onClick={() => deleteCategoryMutation.mutate(category.id)}\n                                  disabled={deleteCategoryMutation.isPending}\n                                >\n                                  <Trash2 className=\"w-4 h-4\" />\n                                </Button>\n                              </div>\n                            </TableCell>\n                          </TableRow>\n                        ))}\n                        {categories.length === 0 && (\n                          <TableRow>\n                            <TableCell colSpan={4} className=\"text-center py-8 text-gray-500\">\n                              No categories found. Create your first category above.\n                            </TableCell>\n                          </TableRow>\n                        )}\n                      </TableBody>\n                    </Table>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </div>\n        )}\n\n        {/* Hero Images Tab Content */}\n        {activeTab === 'hero-images' && (\n          <div className=\"max-w-4xl mx-auto space-y-6\">\n            {/* Simple Upload Interface */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-xl\">Upload Hero Images</CardTitle>\n                <p className=\"text-gray-600 dark:text-gray-400\">\n                  Simply drag and drop or select images to upload. No forms to fill - just upload and they're ready to use!\n                </p>\n              </CardHeader>\n              <CardContent>\n                <div className=\"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8\">\n                  <div className=\"text-center\">\n                    <div className=\"w-16 h-16 mx-auto bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mb-4\">\n                      <Plus className=\"w-8 h-8 text-gray-400\" />\n                    </div>\n                    <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">\n                      Upload Hero Images\n                    </h3>\n                    <p className=\"text-sm text-gray-500 dark:text-gray-400 mb-4\">\n                      Select high-quality images (JPG, PNG, WebP) up to 10MB each\n                    </p>\n                    \n                    <input\n                      type=\"file\"\n                      accept=\"image/*\"\n                      multiple\n                      onChange={(e) => {\n                        const files = Array.from(e.target.files || []);\n                        files.forEach(file => {\n                          if (file.size > 10 * 1024 * 1024) {\n                            toast({\n                              title: \"File too large\",\n                              description: `${file.name} is over 10MB. Please select smaller images.`,\n                              variant: \"destructive\",\n                            });\n                            return;\n                          }\n                          handleHeroImageUpload(file);\n                        });\n                        // Reset the input\n                        e.target.value = '';\n                      }}\n                      disabled={uploadingHeroImage}\n                      className=\"block w-full text-sm text-gray-500 file:mr-4 file:py-3 file:px-6 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-white hover:file:bg-primary/90 disabled:file:bg-gray-400\"\n                    />\n                    \n                    {uploadingHeroImage && (\n                      <div className=\"flex items-center justify-center space-x-2 text-sm text-gray-600 dark:text-gray-400 mt-4\">\n                        <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-primary\"></div>\n                        <span>Uploading image...</span>\n                      </div>\n                    )}\n                  </div>\n                </div>\n\n                {/* Quick Guidelines */}\n                <div className=\"mt-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4\">\n                  <h4 className=\"text-sm font-medium text-blue-800 dark:text-blue-200 mb-2\">\n                    Quick Tips\n                  </h4>\n                  <ul className=\"text-sm text-blue-700 dark:text-blue-300 space-y-1\">\n                    <li>â€¢ Recommended: 1920x1080 pixels or higher</li>\n                    <li>â€¢ Maximum: 10MB per image</li>\n                    <li>â€¢ Supports: JPG, PNG, WebP formats</li>\n                    <li>â€¢ Select multiple images to upload them all at once</li>\n                  </ul>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Current Hero Images */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-xl\">Current Hero Images ({heroImages.length})</CardTitle>\n                <p className=\"text-gray-600 dark:text-gray-400\">\n                  Your uploaded hero images. Click the delete button to remove any image.\n                </p>\n              </CardHeader>\n              <CardContent>\n                {heroImages.length === 0 ? (\n                  <div className=\"text-center py-12 text-gray-500\">\n                    <div className=\"w-12 h-12 mx-auto bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mb-3\">\n                      <Plus className=\"w-6 h-6 text-gray-400\" />\n                    </div>\n                    <p>No hero images uploaded yet.</p>\n                    <p className=\"text-sm\">Upload your first image above to get started!</p>\n                  </div>\n                ) : (\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                    {heroImages.map((heroImage) => (\n                      <div key={heroImage.id} className=\"border rounded-lg overflow-hidden bg-white dark:bg-gray-800\">\n                        <div className=\"relative\">\n                          <img \n                            src={heroImage.imageUrl} \n                            alt=\"Hero image\"\n                            className=\"w-full h-48 object-cover\"\n                          />\n                          <div className=\"absolute top-2 right-2\">\n                            <Button\n                              variant=\"destructive\"\n                              size=\"sm\"\n                              onClick={() => deleteHeroImageMutation.mutate(heroImage.id)}\n                              disabled={deleteHeroImageMutation.isPending}\n                              className=\"shadow-lg\"\n                            >\n                              <Trash2 className=\"w-4 h-4\" />\n                            </Button>\n                          </div>\n                        </div>\n                        <div className=\"p-3\">\n                          <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                            Uploaded: {new Date(heroImage.createdAt).toLocaleDateString()}\n                          </p>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","size_bytes":130607},"client/src/pages/home.tsx":{"content":"import { useState } from \"react\";\nimport { Link, useLocation } from \"wouter\";\nimport Header from \"@/components/header\";\nimport CategoryNav from \"@/components/category-nav\";\nimport HeroCarousel from \"@/components/hero-carousel\";\nimport ProductGrid from \"@/components/product-grid\";\nimport ProjectsCarousel from \"@/components/projects-carousel\";\nimport AboutSection from \"@/components/about-section\";\nimport ContactSection from \"@/components/contact-section\";\nimport Footer from \"@/components/footer\";\nimport ProductModal from \"@/components/product-modal\";\nimport { ElectricalLoading } from \"@/components/ui/electrical-loading\";\nimport { Button } from \"@/components/ui/button\";\nimport { ArrowRight } from \"lucide-react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport type { Category, Product } from \"@shared/schema\";\n\nexport default function Home() {\n  const [, setLocation] = useLocation();\n  const [selectedProduct, setSelectedProduct] = useState<Product | null>(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const { data: categories = [], isLoading: categoriesLoading } = useQuery<Category[]>({\n    queryKey: ['/api/categories'],\n  });\n\n  const { data: products = [], isLoading: productsLoading } = useQuery<Product[]>({\n    queryKey: ['/api/products'],\n  });\n\n  // Show only actual featured products on homepage\n  const featuredProducts = products.filter(product => product.featured);\n\n  const handleSearch = (query: string) => {\n    setSearchQuery(query);\n    // Don't auto-redirect - let the Header component handle search dropdown and redirect on Enter\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 font-inter\">\n      <Header \n        searchQuery={searchQuery}\n        onSearchChange={handleSearch}\n        onProductSelect={setSelectedProduct}\n        selectedBrand={null}\n        onBrandSelect={undefined}\n      />\n      \n      <HeroCarousel />\n      \n      <CategoryNav categories={categories} />\n      \n      <main>\n        <section id=\"products\" className=\"py-12\">\n          <div className=\"max-w-[1600px] 2xl:max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-8 xl:px-12\">\n            <div className=\"mb-8 flex items-center justify-between\">\n              <div>\n                <h2 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-4\">Featured Products</h2>\n                <p className=\"text-gray-600 dark:text-gray-300\">\n                  Discover our most popular electrical products and components\n                </p>\n              </div>\n              <Link href=\"/products\">\n                <Button className=\"bg-primary hover:bg-primary/90\">\n                  View All Products\n                  <ArrowRight className=\"ml-2 h-4 w-4\" />\n                </Button>\n              </Link>\n            </div>\n            \n            {productsLoading ? (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n                {[1, 2, 3].map((i) => (\n                  <div key={i} className=\"bg-white dark:bg-gray-800 rounded-lg p-6 border shadow-sm\">\n                    <ElectricalLoading \n                      variant=\"circuit\" \n                      size=\"md\" \n                      text=\"Loading products...\"\n                    />\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <ProductGrid \n                products={featuredProducts}\n                onProductSelect={setSelectedProduct}\n              />\n            )}\n\n          </div>\n        </section>\n        \n        <ProjectsCarousel />\n        \n        <AboutSection />\n        <ContactSection />\n      </main>\n      \n      <Footer />\n      \n      {selectedProduct && (\n        <ProductModal \n          product={selectedProduct}\n          onClose={() => setSelectedProduct(null)}\n        />\n      )}\n    </div>\n  );\n}\n","size_bytes":3843},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"client/src/pages/product-detail.tsx":{"content":"import { useState } from \"react\";\nimport { useParams, useLocation } from \"wouter\";\nimport { ArrowLeft, Heart, Eye } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport Header from \"@/components/header\";\nimport Footer from \"@/components/footer\";\nimport ProductModal from \"@/components/product-modal\";\nimport { useFavorites } from \"@/contexts/FavoritesContext\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport type { Product, Accessory } from \"@shared/schema\";\n\nexport default function ProductDetail() {\n  const { id } = useParams();\n  const [, setLocation] = useLocation();\n  const [selectedImage, setSelectedImage] = useState(0);\n  const [selectedProduct, setSelectedProduct] = useState<Product | null>(null);\n  const { favorites, addToFavorites, removeFromFavorites } = useFavorites();\n\n  const { data: product, isLoading } = useQuery<Product>({\n    queryKey: ['/api/products', id],\n    enabled: !!id,\n  });\n\n  // Get accessories for this product\n  const { data: accessoriesData = [] } = useQuery<Accessory[]>({\n    queryKey: ['/api/accessories'],\n    enabled: !!product,\n  });\n\n  // Get AI-generated similar products\n  const { data: aiSimilarProducts = [] } = useQuery<Product[]>({\n    queryKey: ['/api/products', id, 'similar'],\n    enabled: !!id,\n  });\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\n        <Header \n          searchQuery=\"\"\n          onSearchChange={() => {}}\n          onProductSelect={setSelectedProduct}\n          selectedBrand={null}\n          onBrandSelect={undefined}\n        />\n        <div className=\"flex items-center justify-center min-h-[60vh]\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4\"></div>\n            <p className=\"text-gray-600 dark:text-gray-300\">Loading product details...</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!product) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\n        <Header \n          searchQuery=\"\"\n          onSearchChange={() => {}}\n          onProductSelect={setSelectedProduct}\n          selectedBrand={null}\n          onBrandSelect={undefined}\n        />\n        <div className=\"flex items-center justify-center min-h-[60vh]\">\n          <div className=\"text-center\">\n            <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-4\">Product Not Found</h1>\n            <p className=\"text-gray-600 dark:text-gray-300 mb-6\">The product you're looking for doesn't exist.</p>\n            <Button onClick={() => setLocation('/products')}>\n              <ArrowLeft className=\"mr-2 h-4 w-4\" />\n              Back to Products\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  const isFavorite = favorites.some(fav => fav.productId === product.id);\n  const allImages = [product.imageUrl, ...(product.imageUrls || [])];\n\n  const handleFavoriteToggle = () => {\n    if (isFavorite) {\n      removeFromFavorites(product.id);\n    } else {\n      addToFavorites(product);\n    }\n  };\n\n  // Get accessories that are compatible with this product\n  const compatibleAccessories = accessoriesData.filter(accessory => {\n    // First check if accessory is specifically assigned to this product\n    if (product.accessories?.includes(accessory.id)) {\n      return true;\n    }\n    \n    // Also check if accessory is compatible with this product's category\n    const compatibleWith = accessory.compatibleWith || [];\n    return compatibleWith.includes(product.categorySlug);\n  });\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\n      <Header \n        searchQuery=\"\"\n        onSearchChange={() => {}}\n        onProductSelect={setSelectedProduct}\n        selectedBrand={null}\n        onBrandSelect={undefined}\n      />\n      \n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Back Button */}\n        <div className=\"mb-8\">\n          <Button\n            variant=\"ghost\"\n            onClick={() => setLocation('/products')}\n            className=\"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white\"\n          >\n            <ArrowLeft className=\"mr-2 h-4 w-4\" />\n            Back to Products\n          </Button>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-16\">\n          {/* Product Images - Left Side */}\n          <div className=\"space-y-4\">\n            <div className=\"aspect-square rounded-lg overflow-hidden bg-white dark:bg-gray-800 shadow-sm\">\n              <img\n                src={allImages[selectedImage]}\n                alt={product.name}\n                className=\"w-full h-full object-cover\"\n              />\n            </div>\n            {allImages.length > 1 && (\n              <div className=\"grid grid-cols-4 gap-2\">\n                {allImages.map((image, index) => (\n                  <button\n                    key={index}\n                    onClick={() => setSelectedImage(index)}\n                    className={`aspect-square rounded-lg overflow-hidden border-2 transition-colors ${\n                      selectedImage === index \n                        ? 'border-primary' \n                        : 'border-gray-200 dark:border-gray-700'\n                    }`}\n                  >\n                    <img\n                      src={image}\n                      alt={`${product.name} - View ${index + 1}`}\n                      className=\"w-full h-full object-cover\"\n                    />\n                  </button>\n                ))}\n              </div>\n            )}\n          </div>\n\n          {/* Product Information - Right Side */}\n          <div className=\"space-y-6\">\n            <div>\n              <div className=\"flex items-start justify-between mb-4\">\n                <div>\n                  <Badge variant=\"secondary\" className=\"mb-2\">\n                    {product.categorySlug.replace(/-/g, ' ')}\n                  </Badge>\n                  {product.brand && (\n                    <Badge variant=\"outline\" className=\"ml-2 mb-2\">\n                      {product.brand}\n                    </Badge>\n                  )}\n                </div>\n                {product.featured && (\n                  <Badge className=\"bg-primary text-white\">Featured</Badge>\n                )}\n              </div>\n              \n              <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-6\">\n                {product.name}\n              </h1>\n              \n              <div className=\"prose prose-lg max-w-none dark:prose-invert\">\n                <p className=\"text-gray-600 dark:text-gray-300 leading-relaxed text-lg\">\n                  {product.description}\n                </p>\n              </div>\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"flex items-center space-x-4 pt-6 border-t border-gray-200 dark:border-gray-700\">\n              <Button\n                onClick={handleFavoriteToggle}\n                variant={isFavorite ? \"default\" : \"outline\"}\n                size=\"lg\"\n                className=\"flex-1\"\n              >\n                <Heart className={`mr-2 h-5 w-5 ${isFavorite ? 'fill-current' : ''}`} />\n                {isFavorite ? 'Remove from Favorites' : 'Add to Favorites'}\n              </Button>\n              \n              <Button\n                onClick={() => setSelectedProduct(product)}\n                variant=\"outline\"\n                size=\"lg\"\n              >\n                <Eye className=\"mr-2 h-5 w-5\" />\n                Quick Look\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        {/* Technical Specifications Section - Full Width Below */}\n        <section className=\"mb-16\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700\">\n            <div className=\"px-8 py-6 border-b border-gray-200 dark:border-gray-700\">\n              <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Technical Specifications</h2>\n            </div>\n            \n            <div className=\"p-0\">\n              {/* Specifications table */}\n              {product.specificationList && product.specificationList.length > 0 && (\n                <div className=\"overflow-x-auto\">\n                  <table className=\"w-full border-collapse\">\n                    <tbody>\n                      {product.specificationList.map((spec, index) => {\n                        const [label, value] = spec.includes(' - ') \n                          ? spec.split(' - ', 2) \n                          : spec.includes(': ')\n                          ? spec.split(': ', 2)\n                          : [spec, 'âœ“'];\n                        return (\n                          <tr \n                            key={index} \n                            className={`border-b border-gray-200 dark:border-gray-600 ${\n                              index % 2 === 0 ? 'bg-gray-50 dark:bg-gray-700' : 'bg-white dark:bg-gray-800'\n                            }`}\n                          >\n                            <td className=\"py-4 px-6 font-semibold text-gray-900 dark:text-white w-1/3\">\n                              {label.trim()}\n                            </td>\n                            <td className=\"py-4 px-6 text-gray-600 dark:text-gray-300\">\n                              {value.trim()}\n                            </td>\n                          </tr>\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                </div>\n              )}\n            </div>\n          </div>\n        </section>\n\n        {/* Compatible Accessories Section */}\n        {compatibleAccessories.length > 0 && (\n          <section className=\"mb-16\">\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg\">\n              <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-6\">Compatible Accessories</h2>\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full\">\n                  <thead>\n                    <tr className=\"border-b border-gray-200 dark:border-gray-700\">\n                      <th className=\"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white\">Product</th>\n                      <th className=\"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white\">Model</th>\n                      <th className=\"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white\">Description</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {compatibleAccessories.map((accessory, index) => (\n                      <tr \n                        key={accessory.id} \n                        className={`hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors ${\n                          index !== compatibleAccessories.length - 1 ? 'border-b border-gray-100 dark:border-gray-700' : ''\n                        }`}\n                        onClick={() => setLocation(`/product/${accessory.id}`)}\n                      >\n                        <td className=\"py-4 px-4\">\n                          <div className=\"flex items-center space-x-4\">\n                            <div className=\"w-16 h-16 bg-gray-100 dark:bg-gray-600 rounded-lg overflow-hidden flex-shrink-0\">\n                              <img \n                                src={accessory.imageUrl} \n                                alt={accessory.name}\n                                className=\"w-full h-full object-cover\"\n                              />\n                            </div>\n                            <div>\n                              <h4 className=\"font-semibold text-gray-900 dark:text-white\">{accessory.name}</h4>\n                              {accessory.brand && (\n                                <p className=\"text-sm text-blue-600 dark:text-blue-400 font-medium\">{accessory.brand}</p>\n                              )}\n                            </div>\n                          </div>\n                        </td>\n                        <td className=\"py-4 px-4\">\n                          <p className=\"text-sm text-gray-500 dark:text-gray-400 font-mono\">{accessory.modelNumber}</p>\n                        </td>\n                        <td className=\"py-4 px-4\">\n                          <p className=\"text-gray-600 dark:text-gray-300\">{accessory.description}</p>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </section>\n        )}\n\n        {/* AI-Generated Similar Products Section */}\n        {aiSimilarProducts.length > 0 && (\n          <section>\n            <div className=\"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg\">\n              <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-6\">Similar Products</h2>\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full\">\n                  <thead>\n                    <tr className=\"border-b border-gray-200 dark:border-gray-700\">\n                      <th className=\"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white\">Product</th>\n                      <th className=\"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white\">Category</th>\n                      <th className=\"text-left py-3 px-4 font-semibold text-gray-900 dark:text-white\">Description</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {aiSimilarProducts.map((similarProduct, index) => (\n                      <tr \n                        key={similarProduct.id} \n                        className={`hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors ${\n                          index !== aiSimilarProducts.length - 1 ? 'border-b border-gray-100 dark:border-gray-700' : ''\n                        }`}\n                        onClick={() => setLocation(`/product/${similarProduct.id}`)}\n                      >\n                        <td className=\"py-4 px-4\">\n                          <div className=\"flex items-center space-x-4\">\n                            <div className=\"w-16 h-16 bg-gray-100 dark:bg-gray-600 rounded-lg overflow-hidden flex-shrink-0\">\n                              <img \n                                src={similarProduct.imageUrl} \n                                alt={similarProduct.name}\n                                className=\"w-full h-full object-cover\"\n                              />\n                            </div>\n                            <div>\n                              <h4 className=\"font-semibold text-gray-900 dark:text-white\">{similarProduct.name}</h4>\n                              {similarProduct.brand && (\n                                <p className=\"text-sm text-blue-600 dark:text-blue-400 font-medium\">{similarProduct.brand}</p>\n                              )}\n                            </div>\n                          </div>\n                        </td>\n                        <td className=\"py-4 px-4\">\n                          <Badge variant=\"outline\" className=\"text-xs\">\n                            {similarProduct.categorySlug.replace(/-/g, ' ')}\n                          </Badge>\n                        </td>\n                        <td className=\"py-4 px-4\">\n                          <p className=\"text-gray-600 dark:text-gray-300\">{similarProduct.description}</p>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </section>\n        )}\n      </main>\n\n      <Footer />\n\n      {selectedProduct && (\n        <ProductModal \n          product={selectedProduct}\n          onClose={() => setSelectedProduct(null)}\n        />\n      )}\n    </div>\n  );\n}","size_bytes":16065},"client/src/pages/products.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useLocation, useSearch } from \"wouter\";\nimport Header from \"@/components/header\";\nimport ProductGrid from \"@/components/product-grid\";\nimport ProductGridFilters from \"@/components/product-grid-filters\";\nimport ProductModal from \"@/components/product-modal\";\nimport Footer from \"@/components/footer\";\nimport { Button } from \"@/components/ui/button\";\nimport { ArrowLeft, Filter } from \"lucide-react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport type { Category, Product } from \"@shared/schema\";\n\nexport default function Products() {\n  const [, setLocation] = useLocation();\n  const search = useSearch();\n  const [selectedProduct, setSelectedProduct] = useState<Product | null>(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [selectedBrand, setSelectedBrand] = useState<string | null>(null);\n  const [selectedCategory, setSelectedCategory] = useState<string | null>(null);\n  const [sortBy, setSortBy] = useState(\"featured\");\n  const [layout, setLayout] = useState<'grid' | 'list'>('grid');\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  const [showAccessories, setShowAccessories] = useState(false);\n\n  // Get URL parameters\n  const urlParams = new URLSearchParams(search);\n  const categorySlug = urlParams.get('category');\n  const brandParam = urlParams.get('brand');\n  const searchParam = urlParams.get('search');\n\n  useEffect(() => {\n    if (searchParam) {\n      setSearchQuery(searchParam);\n    }\n    if (brandParam) {\n      setSelectedBrand(brandParam);\n    }\n    if (categorySlug) {\n      setSelectedCategory(categorySlug);\n    }\n  }, [searchParam, brandParam, categorySlug]);\n\n  const { data: categories = [] } = useQuery<Category[]>({\n    queryKey: ['/api/categories'],\n  });\n\n  // Fetch accessories as a separate section\n  const { data: accessories = [] } = useQuery<any[]>({\n    queryKey: ['/api/accessories'],\n  });\n\n  // Always fetch all products to enable proper filtering\n  const { data: allProducts = [] } = useQuery<Product[]>({\n    queryKey: ['/api/products'],\n  });\n\n  // Create a mapping function to determine which category an accessory belongs to\n  const getAccessoryCategory = (accessory: any) => {\n    const compatibleWith = accessory.compatibleWith || [];\n    \n    // Map accessory compatibility to actual product categories in the system\n    if (compatibleWith.includes('light')) return 'light';\n    if (compatibleWith.includes('baseboard')) return 'baseboard';\n    if (compatibleWith.includes('construction')) return 'construction';\n    if (compatibleWith.includes('metal-box')) return 'metal-box';\n    if (compatibleWith.includes('smoke-alarm')) return 'smoke-alarm';\n    if (compatibleWith.includes('pvc-pipe')) return 'pvc-pipe';\n    if (compatibleWith.includes('pot-light')) return 'pot-light';\n    if (compatibleWith.includes('puck-light')) return 'puck-light';\n    if (compatibleWith.includes('octagonal-box')) return 'octagonal-box';\n    if (compatibleWith.includes('plastic-box')) return 'plastic-box';\n    if (compatibleWith.includes('metal-plates')) return 'metal-plates';\n    if (compatibleWith.includes('milk-carton')) return 'milk-carton';\n    if (compatibleWith.includes('ground-plate')) return 'ground-plate';\n    if (compatibleWith.includes('gi-wire')) return 'gi-wire';\n    if (compatibleWith.includes('gangable-boxes')) return 'gangable-boxes';\n    if (compatibleWith.includes('extension-rings')) return 'extension-rings';\n    if (compatibleWith.includes('driver')) return 'driver';\n    if (compatibleWith.includes('bamboo')) return 'bamboo';\n    \n    return 'accessories'; // Default fallback\n  };\n\n  // Convert accessories to product-like format\n  const accessoriesAsProducts = accessories.map(accessory => ({\n    ...accessory,\n    id: accessory._id,\n    categorySlug: getAccessoryCategory(accessory), // Map to appropriate category\n    brand: accessory.brand || 'ElectroLight',\n    inStock: true,\n    featured: false,\n    specificationList: [],\n    accessories: [],\n    similarProducts: []\n  }));\n\n  // Combine products with accessories based on checkbox state\n  const allProductsWithAccessories = showAccessories \n    ? [...allProducts, ...accessoriesAsProducts]\n    : allProducts;\n\n  // Check if we're viewing accessories specifically\n  const isAccessoriesView = categorySlug === 'accessories';\n\n  // Filter products based on category URL parameter if present\n  const products = categorySlug \n    ? (isAccessoriesView \n        ? accessoriesAsProducts \n        : allProductsWithAccessories.filter(product => product.categorySlug === categorySlug))\n    : allProductsWithAccessories;\n\n  // Get product counts for each category based on current filters (including accessories if checkbox is checked)\n  const categoryProductCounts = categories.reduce((acc, category) => {\n    // Regular products count\n    const productsCount = allProducts.filter(product => {\n      const matchesCategory = product.categorySlug === category.slug;\n      const matchesSearch = product.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        product.description.toLowerCase().includes(searchQuery.toLowerCase());\n      const matchesBrand = !selectedBrand || \n        (product.brand && product.brand.toLowerCase() === selectedBrand.toLowerCase());\n      \n      return matchesCategory && matchesSearch && matchesBrand;\n    }).length;\n\n    // Accessories count for this category (if checkbox is checked)\n    const accessoriesCount = showAccessories ? accessories.filter(accessory => {\n      const matchesCategory = getAccessoryCategory(accessory) === category.slug;\n      const matchesSearch = accessory.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        accessory.description.toLowerCase().includes(searchQuery.toLowerCase());\n      const matchesBrand = !selectedBrand || \n        (accessory.brand && accessory.brand.toLowerCase() === selectedBrand.toLowerCase());\n      \n      return matchesCategory && matchesSearch && matchesBrand;\n    }).length : 0;\n\n    acc[category.slug] = productsCount + accessoriesCount;\n    return acc;\n  }, {} as Record<string, number>);\n\n  // Get total filtered products count for \"All Categories\" (using allProductsWithAccessories)\n  const totalFilteredCount = allProductsWithAccessories.filter(product => {\n    const matchesSearch = product.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      product.description.toLowerCase().includes(searchQuery.toLowerCase());\n    const matchesBrand = !selectedBrand || \n      (product.brand && product.brand.toLowerCase() === selectedBrand.toLowerCase());\n    \n    return matchesSearch && matchesBrand;\n  }).length;\n\n  const filteredAndSortedProducts = products\n    .filter(product => {\n      const matchesSearch = product.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        product.description.toLowerCase().includes(searchQuery.toLowerCase());\n      \n      const matchesBrand = !selectedBrand || \n        (product.brand && product.brand.toLowerCase() === selectedBrand.toLowerCase());\n      \n      const matchesCategory = !selectedCategory || product.categorySlug === selectedCategory;\n      \n      return matchesSearch && matchesBrand && matchesCategory;\n    })\n    .sort((a, b) => {\n      switch (sortBy) {\n        case 'price-low':\n          return parseFloat(a.price) - parseFloat(b.price);\n        case 'price-high':\n          return parseFloat(b.price) - parseFloat(a.price);\n        case 'name':\n          return a.name.localeCompare(b.name);\n        case 'newest':\n          // Assuming newer products have higher IDs or could use a createdAt field\n          return b.id.localeCompare(a.id);\n        case 'featured':\n        default:\n          return 0; // Keep original order\n      }\n    });\n\n  const currentCategory = categories.find(c => c.slug === categorySlug);\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 font-inter\">\n      <Header \n        searchQuery={searchQuery}\n        onSearchChange={(query) => {\n          setSearchQuery(query);\n          if (query) {\n            setLocation(`/products?search=${encodeURIComponent(query)}`);\n          }\n        }}\n        onProductSelect={setSelectedProduct}\n        selectedBrand={selectedBrand}\n        onBrandSelect={setSelectedBrand}\n      />\n      \n      <main className=\"py-8\">\n        <div className=\"max-w-[1600px] 2xl:max-w-[1800px] mx-auto px-4 sm:px-6 lg:px-8 xl:px-12\">\n          {/* Mobile Filter Button */}\n          <div className=\"lg:hidden mb-4\">\n            <Button\n              onClick={() => setIsSidebarOpen(true)}\n              variant=\"outline\"\n              className=\"flex items-center space-x-2\"\n            >\n              <Filter className=\"h-4 w-4\" />\n              <span>Filters & Categories</span>\n            </Button>\n          </div>\n\n          <div className=\"flex gap-8\">\n            {/* Mobile Sidebar Overlay */}\n            {isSidebarOpen && (\n              <div className=\"fixed inset-0 z-50 lg:hidden\">\n                <div className=\"absolute inset-0 bg-black bg-opacity-50\" onClick={() => setIsSidebarOpen(false)} />\n                <div className=\"absolute left-0 top-0 h-full w-80 bg-white dark:bg-gray-800 shadow-xl overflow-y-auto\">\n                  <div className=\"p-6\">\n                    <div className=\"flex justify-between items-center mb-6\">\n                      <h3 className=\"font-semibold text-gray-900 dark:text-white\">Filters</h3>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        onClick={() => setIsSidebarOpen(false)}\n                        className=\"text-gray-500 dark:text-gray-400\"\n                      >\n                        âœ•\n                      </Button>\n                    </div>\n                    \n                    <Button\n                      variant=\"ghost\"\n                      onClick={() => setLocation('/')}\n                      className=\"mb-6 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white w-full justify-start\"\n                    >\n                      <ArrowLeft className=\"mr-2 h-4 w-4\" />\n                      Back to Home\n                    </Button>\n\n\n\n                    {/* Show Accessories Checkbox */}\n                    <div className=\"mb-4\">\n                      <label className=\"flex items-center space-x-2 cursor-pointer\">\n                        <input\n                          type=\"checkbox\"\n                          checked={showAccessories}\n                          onChange={(e) => setShowAccessories(e.target.checked)}\n                          className=\"w-4 h-4 text-primary bg-gray-100 border-gray-300 rounded focus:ring-primary dark:focus:ring-primary dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600\"\n                        />\n                        <div className=\"flex flex-col\">\n                          <span className=\"text-sm text-gray-700 dark:text-gray-300\">\n                            Include Accessories in Categories\n                          </span>\n                          <span className=\"text-xs text-gray-500 dark:text-gray-400\">\n                            ({accessories.length} accessories available)\n                          </span>\n                        </div>\n                      </label>\n                    </div>\n\n                    <h4 className=\"font-semibold text-gray-900 dark:text-white mb-4\">Product Categories</h4>\n                    <div className=\"space-y-2\">\n                      <button\n                        onClick={() => {\n                          setSelectedCategory(null);\n                          setLocation('/products');\n                          setIsSidebarOpen(false);\n                        }}\n                        className={`w-full text-left px-3 py-2 rounded-md transition-colors flex justify-between items-center ${\n                          !selectedCategory \n                            ? 'bg-primary text-white' \n                            : 'text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700'\n                        }`}\n                      >\n                        <span>All Categories</span>\n                        <span className={`text-sm ${!selectedCategory ? 'text-white/80' : 'text-gray-500'}`}>\n                          {totalFilteredCount}\n                        </span>\n                      </button>\n                      \n\n                      \n                      {categories.map((category) => (\n                        <button\n                          key={category.id}\n                          onClick={() => {\n                            setSelectedCategory(category.slug);\n                            setLocation(`/products?category=${category.slug}`);\n                            setIsSidebarOpen(false);\n                          }}\n                          className={`w-full text-left px-3 py-2 rounded-md transition-colors flex justify-between items-center ${\n                            selectedCategory === category.slug \n                              ? 'bg-primary text-white' \n                              : 'text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700'\n                          }`}\n                        >\n                          <span>{category.name}</span>\n                          <span className={`text-sm ${selectedCategory === category.slug ? 'text-white/80' : 'text-gray-500'}`}>\n                            {categoryProductCounts[category.slug] || 0}\n                          </span>\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Desktop Sidebar */}\n            <div className=\"hidden lg:block w-64 flex-shrink-0\">\n              <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 sticky top-4\">\n                <Button\n                  variant=\"ghost\"\n                  onClick={() => setLocation('/')}\n                  className=\"mb-6 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white w-full justify-start\"\n                >\n                  <ArrowLeft className=\"mr-2 h-4 w-4\" />\n                  Back to Home\n                </Button>\n\n\n\n                {/* Show Accessories Checkbox */}\n                <div className=\"mb-4\">\n                  <label className=\"flex items-center space-x-2 cursor-pointer\">\n                    <input\n                      type=\"checkbox\"\n                      checked={showAccessories}\n                      onChange={(e) => setShowAccessories(e.target.checked)}\n                      className=\"w-4 h-4 text-primary bg-gray-100 border-gray-300 rounded focus:ring-primary dark:focus:ring-primary dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600\"\n                    />\n                    <div className=\"flex flex-col\">\n                      <span className=\"text-sm text-gray-700 dark:text-gray-300\">\n                        Include Accessories in Categories\n                      </span>\n                      <span className=\"text-xs text-gray-500 dark:text-gray-400\">\n                        ({accessories.length} accessories available)\n                      </span>\n                    </div>\n                  </label>\n                </div>\n\n                <h3 className=\"font-semibold text-gray-900 dark:text-white mb-4\">Product Categories</h3>\n                <div className=\"space-y-2\">\n                  <button\n                    onClick={() => {\n                      setSelectedCategory(null);\n                      setLocation('/products');\n                    }}\n                    className={`w-full text-left px-3 py-2 rounded-md transition-colors flex justify-between items-center ${\n                      !selectedCategory \n                        ? 'bg-primary text-white' \n                        : 'text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700'\n                    }`}\n                  >\n                    <span>All Categories</span>\n                    <span className={`text-sm ${!selectedCategory ? 'text-white/80' : 'text-gray-500'}`}>\n                      {totalFilteredCount}\n                    </span>\n                  </button>\n                  \n\n                  \n                  {categories.map((category) => (\n                    <button\n                      key={category.id}\n                      onClick={() => {\n                        setSelectedCategory(category.slug);\n                        setLocation(`/products?category=${category.slug}`);\n                      }}\n                      className={`w-full text-left px-3 py-2 rounded-md transition-colors flex justify-between items-center ${\n                        selectedCategory === category.slug \n                          ? 'bg-primary text-white' \n                          : 'text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700'\n                      }`}\n                    >\n                      <span>{category.name}</span>\n                      <span className={`text-sm ${selectedCategory === category.slug ? 'text-white/80' : 'text-gray-500'}`}>\n                        {categoryProductCounts[category.slug] || 0}\n                      </span>\n                    </button>\n                  ))}\n                </div>\n\n                {(selectedBrand || searchQuery || selectedCategory) && (\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => {\n                      setSelectedBrand(null);\n                      setSearchQuery(\"\");\n                      setSelectedCategory(null);\n                      setLocation('/products');\n                    }}\n                    className=\"mt-6 w-full\"\n                  >\n                    Clear All Filters\n                  </Button>\n                )}\n              </div>\n            </div>\n\n            {/* Main Content */}\n            <div className=\"flex-1\">\n              <div className=\"mb-6\">\n                <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">\n                  {isAccessoriesView ? 'Accessories' :\n                   currentCategory ? currentCategory.name : \n                   searchParam ? `Search Results for \"${searchParam}\"` : \n                   selectedBrand ? `${selectedBrand} Products` :\n                   'All Products'}\n                </h1>\n                \n                <p className=\"text-gray-600 dark:text-gray-300 mt-2\">\n                  {isAccessoriesView ? `Browse our complete accessories collection` :\n                   currentCategory ? `Browse our ${currentCategory.name.toLowerCase()} collection` :\n                   searchParam ? `Found ${filteredAndSortedProducts.length} products matching your search` :\n                   selectedBrand ? `Showing ${filteredAndSortedProducts.length} products from ${selectedBrand}` :\n                   `Showing ${filteredAndSortedProducts.length} products`}\n                </p>\n                \n                <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">\n                  {filteredAndSortedProducts.length} products found\n                </p>\n              </div>\n              \n              {/* Grid Controls */}\n              <ProductGridFilters \n                onSortChange={setSortBy}\n                onLayoutChange={setLayout}\n              />\n              \n              {/* Products Grid */}\n              <ProductGrid \n                products={filteredAndSortedProducts}\n                onProductSelect={setSelectedProduct}\n                layout={layout}\n              />\n              \n              {filteredAndSortedProducts.length === 0 && (\n                <div className=\"text-center py-12\">\n                  <div className=\"text-gray-400 mb-4\">\n                    <Filter className=\"mx-auto h-12 w-12\" />\n                  </div>\n                  <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">No products found</h3>\n                  <p className=\"text-gray-600 dark:text-gray-300\">Try adjusting your search or filter criteria</p>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </main>\n      \n      <Footer />\n      \n      {selectedProduct && (\n        <ProductModal \n          product={selectedProduct}\n          onClose={() => setSelectedProduct(null)}\n        />\n      )}\n    </div>\n  );\n}","size_bytes":20568},"client/src/pages/project-detail.tsx":{"content":"import { useState } from \"react\";\nimport { useLocation, useParams } from \"wouter\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport Header from \"@/components/header\";\nimport Footer from \"@/components/footer\";\nimport ProductModal from \"@/components/product-modal\";\nimport MediaDisplay from \"@/components/media-display\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { ElectricalLoading } from \"@/components/ui/electrical-loading\";\nimport { \n  Calendar, \n  MapPin, \n  ArrowLeft, \n  Users, \n  Building, \n  ChevronLeft, \n  ChevronRight,\n  Play,\n  Eye\n} from \"lucide-react\";\nimport type { Project, Product } from \"@shared/schema\";\n\nexport default function ProjectDetail() {\n  const [, setLocation] = useLocation();\n  const { id } = useParams<{ id: string }>();\n  const [selectedProduct, setSelectedProduct] = useState<Product | null>(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [selectedBrand, setSelectedBrand] = useState<string | null>(null);\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\n\n  const { data: project, isLoading } = useQuery<Project>({\n    queryKey: ['/api/projects', id],\n  });\n\n  const { data: products = [] } = useQuery<Product[]>({\n    queryKey: ['/api/products'],\n  });\n\n  // Get products used in this project\n  const productsUsed = project?.productsUsed \n    ? products.filter(product => project.productsUsed.includes(product.id))\n    : [];\n\n  const handleSearch = (query: string) => {\n    setSearchQuery(query);\n    if (query.trim()) {\n      setLocation(`/products?search=${encodeURIComponent(query)}`);\n    }\n  };\n\n  // Get all available media (primary + additional + legacy)\n  const getAllMedia = () => {\n    const media = [];\n    if (project?.primaryMediaUrl) {\n      media.push(project.primaryMediaUrl);\n    }\n    if (project?.additionalMediaUrls) {\n      media.push(...project.additionalMediaUrls);\n    }\n    // Fallback to legacy imageUrls for backward compatibility\n    if (media.length === 0 && project?.imageUrls) {\n      media.push(...project.imageUrls);\n    }\n    return media;\n  };\n\n  const allMedia = getAllMedia();\n\n  const nextImage = () => {\n    if (allMedia.length > 1) {\n      setCurrentImageIndex((prev) => \n        prev === allMedia.length - 1 ? 0 : prev + 1\n      );\n    }\n  };\n\n  const prevImage = () => {\n    if (allMedia.length > 1) {\n      setCurrentImageIndex((prev) => \n        prev === 0 ? allMedia.length - 1 : prev - 1\n      );\n    }\n  };\n\n\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 font-inter\">\n        <Header \n          searchQuery={searchQuery}\n          onSearchChange={handleSearch}\n          onProductSelect={setSelectedProduct}\n          selectedBrand={selectedBrand}\n          onBrandSelect={setSelectedBrand}\n        />\n        <main className=\"py-12\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <Card className=\"p-8 text-center\">\n              <ElectricalLoading \n                variant=\"spark\" \n                size=\"lg\" \n                text=\"Loading project details...\"\n              />\n            </Card>\n          </div>\n        </main>\n        <Footer />\n      </div>\n    );\n  }\n\n  if (!project) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 font-inter\">\n        <Header \n          searchQuery={searchQuery}\n          onSearchChange={handleSearch}\n          onProductSelect={setSelectedProduct}\n          selectedBrand={selectedBrand}\n          onBrandSelect={setSelectedBrand}\n        />\n        <main className=\"py-12\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center\">\n            <h1 className=\"text-2xl font-bold mb-4\">Project Not Found</h1>\n            <p className=\"text-muted-foreground mb-6\">The project you're looking for doesn't exist.</p>\n            <Button onClick={() => setLocation('/projects')}>\n              <ArrowLeft className=\"w-4 h-4 mr-2\" />\n              Back to Projects\n            </Button>\n          </div>\n        </main>\n        <Footer />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 font-inter\">\n      <Header \n        searchQuery={searchQuery}\n        onSearchChange={handleSearch}\n        onProductSelect={setSelectedProduct}\n        selectedBrand={selectedBrand}\n        onBrandSelect={setSelectedBrand}\n      />\n      \n      <main>\n        {/* Breadcrumb */}\n        <div className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n            <Button \n              variant=\"ghost\" \n              onClick={() => setLocation('/projects')}\n              className=\"text-muted-foreground hover:text-foreground\"\n            >\n              <ArrowLeft className=\"w-4 h-4 mr-2\" />\n              Back to Projects\n            </Button>\n          </div>\n        </div>\n\n        {/* Project Header */}\n        <section className=\"bg-gradient-to-b from-primary/5 to-transparent py-12\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <div className=\"flex flex-wrap items-center gap-3 mb-6\">\n              <Badge variant=\"secondary\" className=\"bg-primary/90 text-primary-foreground\">\n                {project.category}\n              </Badge>\n\n              {project.featured && (\n                <Badge className=\"bg-yellow-500 text-white\">Featured Project</Badge>\n              )}\n            </div>\n            \n            <h1 className=\"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6\">\n              {project.title}\n            </h1>\n            \n            <div className=\"flex flex-wrap items-center gap-6 text-muted-foreground\">\n              <div className=\"flex items-center gap-2\">\n                <MapPin className=\"w-5 h-5\" />\n                <span>{project.location}</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <Calendar className=\"w-5 h-5\" />\n                <span>Completed {new Date(project.completedDate).toLocaleDateString('en-US', { \n                  year: 'numeric', \n                  month: 'long',\n                  day: 'numeric'\n                })}</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <Building className=\"w-5 h-5\" />\n                <span>{project.category} Project</span>\n              </div>\n            </div>\n          </div>\n        </section>\n\n        {/* Project Media Gallery */}\n        <section className=\"py-12\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12\">\n              {/* Media Gallery */}\n              <div>\n                <h2 className=\"text-2xl font-bold mb-6\">Project Gallery</h2>\n                <Card className=\"overflow-hidden\">\n                  <div className=\"relative aspect-video\">\n                    {allMedia.length > 0 ? (\n                      <>\n                        <MediaDisplay\n                          src={allMedia[currentImageIndex]}\n                          alt={`${project.title} - Media ${currentImageIndex + 1}`}\n                          className=\"w-full h-full object-cover\"\n                          controls={true}\n                          muted={false}\n                          fallbackSrc=\"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=800&h=450&fit=crop\"\n                        />\n                        \n                        {allMedia.length > 1 && (\n                          <>\n                            <Button\n                              variant=\"ghost\"\n                              size=\"icon\"\n                              className=\"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white\"\n                              onClick={prevImage}\n                            >\n                              <ChevronLeft className=\"w-6 h-6\" />\n                            </Button>\n                            <Button\n                              variant=\"ghost\"\n                              size=\"icon\"\n                              className=\"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white\"\n                              onClick={nextImage}\n                            >\n                              <ChevronRight className=\"w-6 h-6\" />\n                            </Button>\n                            \n                            {/* Thumbnail Navigation */}\n                            <div className=\"absolute bottom-4 left-1/2 transform -translate-x-1/2\">\n                              <div className=\"flex gap-2 bg-black/50 rounded-lg p-2\">\n                                {allMedia.map((_, index) => (\n                                  <button\n                                    key={index}\n                                    onClick={() => setCurrentImageIndex(index)}\n                                    className={`w-3 h-3 rounded-full transition-all ${\n                                      index === currentImageIndex\n                                        ? \"bg-white w-8\"\n                                        : \"bg-white/50 hover:bg-white/75\"\n                                    }`}\n                                  />\n                                ))}\n                              </div>\n                            </div>\n                          </>\n                        )}\n                      </>\n                    ) : (\n                      <img\n                        src=\"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=800&h=450&fit=crop\"\n                        alt={project.title}\n                        className=\"w-full h-full object-cover\"\n                      />\n                    )}\n                  </div>\n                </Card>\n                \n                {/* Media Counter */}\n                {allMedia.length > 1 && (\n                  <p className=\"text-sm text-muted-foreground mt-4 text-center\">\n                    {currentImageIndex + 1} of {allMedia.length} media files\n                  </p>\n                )}\n              </div>\n\n              {/* Project Details */}\n              <div>\n                <h2 className=\"text-2xl font-bold mb-6\">Project Details</h2>\n                <Card>\n                  <CardContent className=\"p-6 space-y-6\">\n                    <div>\n                      <h3 className=\"font-semibold mb-3\">Project Description</h3>\n                      <p className=\"text-muted-foreground leading-relaxed\">\n                        {project.description}\n                      </p>\n                    </div>\n\n                    <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-6\">\n                      <div>\n                        <h4 className=\"font-medium text-sm uppercase tracking-wide text-muted-foreground mb-2\">\n                          Category\n                        </h4>\n                        <p className=\"font-semibold\">{project.category}</p>\n                      </div>\n                      <div>\n                        <h4 className=\"font-medium text-sm uppercase tracking-wide text-muted-foreground mb-2\">\n                          Location\n                        </h4>\n                        <p className=\"font-semibold\">{project.location}</p>\n                      </div>\n                      <div>\n                        <h4 className=\"font-medium text-sm uppercase tracking-wide text-muted-foreground mb-2\">\n                          Completion Date\n                        </h4>\n                        <p className=\"font-semibold\">\n                          {new Date(project.completedDate).toLocaleDateString('en-US', { \n                            year: 'numeric', \n                            month: 'long',\n                            day: 'numeric'\n                          })}\n                        </p>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              </div>\n            </div>\n          </div>\n        </section>\n\n        {/* Products Used */}\n        {productsUsed.length > 0 && (\n          <section className=\"py-12 bg-muted/30\">\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n              <div className=\"mb-8\">\n                <h2 className=\"text-3xl font-bold mb-4\">Products Used in This Project</h2>\n                <p className=\"text-muted-foreground\">\n                  Explore the electrical products and components that made this project successful.\n                </p>\n              </div>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n                {productsUsed.map((product) => (\n                  <Card \n                    key={product.id} \n                    className=\"group cursor-pointer hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1\"\n                    onClick={() => setSelectedProduct(product)}\n                  >\n                    <div className=\"relative overflow-hidden rounded-t-lg\">\n                      <img\n                        src={product.imageUrl}\n                        alt={product.name}\n                        className=\"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300\"\n                      />\n                      <div className=\"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\n                        <div className=\"absolute bottom-2 right-2\">\n                          <Button size=\"sm\" variant=\"secondary\" className=\"bg-white/90 text-black hover:bg-white\">\n                            <Eye className=\"w-3 h-3 mr-1\" />\n                            View\n                          </Button>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <CardContent className=\"p-4\">\n                      <h3 className=\"font-semibold mb-2 group-hover:text-primary transition-colors line-clamp-2\">\n                        {product.name}\n                      </h3>\n                      <p className=\"text-sm text-muted-foreground mb-3 line-clamp-2\">\n                        {product.description}\n                      </p>\n                      {product.brand && (\n                        <Badge variant=\"outline\" className=\"text-xs\">\n                          {product.brand}\n                        </Badge>\n                      )}\n                    </CardContent>\n                  </Card>\n                ))}\n              </div>\n              \n              <div className=\"text-center mt-8\">\n                <Button onClick={() => setLocation('/products')}>\n                  View All Products\n                </Button>\n              </div>\n            </div>\n          </section>\n        )}\n      </main>\n\n      <Footer />\n\n      {selectedProduct && (\n        <ProductModal \n          product={selectedProduct}\n          onClose={() => setSelectedProduct(null)}\n        />\n      )}\n    </div>\n  );\n}","size_bytes":15326},"client/src/pages/projects.tsx":{"content":"import { useState } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport Header from \"@/components/header\";\nimport Footer from \"@/components/footer\";\nimport MediaDisplay from \"@/components/media-display\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { ElectricalLoading } from \"@/components/ui/electrical-loading\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Calendar, MapPin, Search, Filter, Eye } from \"lucide-react\";\nimport type { Project, Product } from \"@shared/schema\";\n\nexport default function Projects() {\n  const [, setLocation] = useLocation();\n  const [selectedProduct, setSelectedProduct] = useState<Product | null>(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [selectedBrand, setSelectedBrand] = useState<string | null>(null);\n  const [categoryFilter, setCategoryFilter] = useState<string>(\"all\");\n  const [searchFilter, setSearchFilter] = useState(\"\");\n\n  const { data: projects = [], isLoading } = useQuery<Project[]>({\n    queryKey: ['/api/projects'],\n  });\n\n  // Filter projects based on category and search\n  const filteredProjects = projects.filter(project => {\n    const matchesCategory = categoryFilter === \"all\" || project.category.toLowerCase() === categoryFilter.toLowerCase();\n    const matchesSearch = !searchFilter || \n      project.title.toLowerCase().includes(searchFilter.toLowerCase()) ||\n      project.description.toLowerCase().includes(searchFilter.toLowerCase()) ||\n      project.location.toLowerCase().includes(searchFilter.toLowerCase());\n    \n    return matchesCategory && matchesSearch;\n  });\n\n  const categories = Array.from(new Set(projects.map(p => p.category)));\n\n  const handleSearch = (query: string) => {\n    setSearchQuery(query);\n    if (query.trim()) {\n      setLocation(`/products?search=${encodeURIComponent(query)}`);\n    }\n  };\n\n  const handleProjectClick = (projectId: string) => {\n    setLocation(`/project/${projectId}`);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 font-inter\">\n      <Header \n        searchQuery={searchQuery}\n        onSearchChange={handleSearch}\n        onProductSelect={setSelectedProduct}\n        selectedBrand={selectedBrand}\n        onBrandSelect={setSelectedBrand}\n      />\n      \n      <main>\n        {/* Hero Section */}\n        <section className=\"bg-gradient-to-b from-primary/5 to-transparent py-16\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center\">\n            <h1 className=\"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6\">\n              Our Projects\n            </h1>\n            <p className=\"text-xl text-muted-foreground max-w-3xl mx-auto\">\n              Explore ElectroLight's portfolio of successful electrical installations. From commercial buildings to \n              smart homes, see how we deliver innovative electrical solutions that meet our clients' unique needs.\n            </p>\n          </div>\n        </section>\n\n        {/* Filters Section */}\n        <section className=\"py-8 border-b border-gray-200 dark:border-gray-700\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <div className=\"flex flex-col md:flex-row gap-4 items-center justify-between\">\n              <div className=\"flex flex-col sm:flex-row gap-4 flex-1\">\n                {/* Search */}\n                <div className=\"relative flex-1 max-w-md\">\n                  <Input\n                    placeholder=\"Search projects...\"\n                    value={searchFilter}\n                    onChange={(e) => setSearchFilter(e.target.value)}\n                    className=\"pl-10\"\n                  />\n                  <Search className=\"absolute left-3 top-3 h-4 w-4 text-gray-400\" />\n                </div>\n\n                {/* Category Filter */}\n                <Select value={categoryFilter} onValueChange={setCategoryFilter}>\n                  <SelectTrigger className=\"w-full sm:w-[200px]\">\n                    <Filter className=\"w-4 h-4 mr-2\" />\n                    <SelectValue placeholder=\"All Categories\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"all\">All Categories</SelectItem>\n                    {categories.map(category => (\n                      <SelectItem key={category} value={category.toLowerCase()}>\n                        {category}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div className=\"text-sm text-muted-foreground\">\n                Showing {filteredProjects.length} of {projects.length} projects\n              </div>\n            </div>\n          </div>\n        </section>\n\n        {/* Projects Grid */}\n        <section className=\"py-12\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            {isLoading ? (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n                {[1, 2, 3, 4, 5, 6].map((i) => (\n                  <Card key={i} className=\"p-6\">\n                    <ElectricalLoading \n                      variant=\"circuit\" \n                      size=\"md\" \n                      text=\"Loading projects...\"\n                    />\n                  </Card>\n                ))}\n              </div>\n            ) : filteredProjects.length > 0 ? (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n                {filteredProjects.map((project) => (\n                  <Card \n                    key={project.id} \n                    className=\"group cursor-pointer hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1\"\n                    onClick={() => handleProjectClick(project.id)}\n                  >\n                    <div className=\"relative overflow-hidden rounded-t-lg\">\n                      <MediaDisplay\n                        src={project.primaryMediaUrl || project.imageUrls?.[0] || \"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=400&h=300&fit=crop\"}\n                        alt={project.title}\n                        className=\"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300\"\n                        autoPlay={false}\n                        muted={true}\n                        controls={false}\n                        showPlayButton={false}\n                        hoverToPlay={true}\n                      />\n                      <div className=\"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\n                        <div className=\"absolute bottom-4 right-4\">\n                          <Button size=\"sm\" variant=\"secondary\" className=\"bg-white/90 text-black hover:bg-white\">\n                            <Eye className=\"w-4 h-4 mr-2\" />\n                            View Details\n                          </Button>\n                        </div>\n                      </div>\n                      \n\n                      \n                      {project.featured && (\n                        <div className=\"absolute top-4 right-4\">\n                          <Badge className=\"bg-yellow-500 text-white\">Featured</Badge>\n                        </div>\n                      )}\n                    </div>\n                    \n                    <CardContent className=\"p-6\">\n                      <h3 className=\"text-xl font-semibold mb-3 group-hover:text-primary transition-colors\">\n                        {project.title}\n                      </h3>\n                      \n                      <p className=\"text-muted-foreground mb-4 line-clamp-3\">\n                        {project.description}\n                      </p>\n                      \n                      <div className=\"space-y-2 text-sm text-muted-foreground\">\n                        <div className=\"flex items-center gap-2\">\n                          <MapPin className=\"w-4 h-4\" />\n                          <span>{project.location}</span>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <Calendar className=\"w-4 h-4\" />\n                          <span>Completed {new Date(project.completedDate).toLocaleDateString('en-US', { \n                            year: 'numeric', \n                            month: 'long' \n                          })}</span>\n                        </div>\n                      </div>\n                      \n                      <div className=\"mt-4 pt-4 border-t\">\n                        <Badge variant=\"outline\" className=\"text-xs\">\n                          {project.category}\n                        </Badge>\n                      </div>\n                    </CardContent>\n                  </Card>\n                ))}\n              </div>\n            ) : (\n              <div className=\"text-center py-12\">\n                <div className=\"text-gray-400 mb-4\">\n                  <Search className=\"w-16 h-16 mx-auto mb-4\" />\n                </div>\n                <h3 className=\"text-xl font-semibold mb-2\">No projects found</h3>\n                <p className=\"text-muted-foreground mb-6\">\n                  Try adjusting your search or filter criteria to find more projects.\n                </p>\n                <Button onClick={() => {\n                  setSearchFilter(\"\");\n                  setCategoryFilter(\"all\");\n                }}>\n                  Clear Filters\n                </Button>\n              </div>\n            )}\n          </div>\n        </section>\n      </main>\n\n      <Footer />\n    </div>\n  );\n}","size_bytes":9885},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1977},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4420},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1419},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1128},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":1901},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","size_bytes":1858},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1056},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7428},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"client/src/components/ui/electrical-loading.tsx":{"content":"import { cn } from \"@/lib/utils\";\n\ninterface ElectricalLoadingProps {\n  className?: string;\n  size?: \"sm\" | \"md\" | \"lg\";\n  variant?: \"spark\" | \"circuit\" | \"current\" | \"bolt\";\n  text?: string;\n}\n\nexport function ElectricalLoading({ \n  className, \n  size = \"md\", \n  variant = \"spark\",\n  text = \"Loading...\"\n}: ElectricalLoadingProps) {\n  const sizeClasses = {\n    sm: \"w-8 h-8\",\n    md: \"w-12 h-12\", \n    lg: \"w-16 h-16\"\n  };\n\n  if (variant === \"spark\") {\n    return (\n      <div className={cn(\"flex flex-col items-center gap-3\", className)}>\n        <div className={cn(\"relative\", sizeClasses[size])}>\n          {/* Main spark effect */}\n          <div className=\"absolute inset-0 rounded-full bg-gradient-to-r from-yellow-400 via-orange-500 to-red-500 animate-pulse\">\n            <div className=\"absolute inset-1 bg-background rounded-full\"></div>\n            <div className=\"absolute inset-0 rounded-full bg-gradient-to-r from-yellow-400 via-orange-500 to-red-500 animate-spin\">\n              {/* Spark lines */}\n              <div className=\"absolute top-0 left-1/2 w-0.5 h-2 bg-yellow-400 transform -translate-x-1/2 rounded-full\"></div>\n              <div className=\"absolute bottom-0 left-1/2 w-0.5 h-2 bg-orange-500 transform -translate-x-1/2 rounded-full\"></div>\n              <div className=\"absolute left-0 top-1/2 w-2 h-0.5 bg-red-500 transform -translate-y-1/2 rounded-full\"></div>\n              <div className=\"absolute right-0 top-1/2 w-2 h-0.5 bg-yellow-400 transform -translate-y-1/2 rounded-full\"></div>\n            </div>\n          </div>\n          {/* Inner glow */}\n          <div className=\"absolute inset-2 rounded-full bg-yellow-400/30 animate-pulse\"></div>\n        </div>\n        {text && (\n          <p className=\"text-sm text-muted-foreground animate-pulse font-medium\">{text}</p>\n        )}\n      </div>\n    );\n  }\n\n  if (variant === \"circuit\") {\n    return (\n      <div className={cn(\"flex flex-col items-center gap-3\", className)}>\n        <div className={cn(\"relative\", sizeClasses[size])}>\n          {/* Circuit board pattern */}\n          <svg viewBox=\"0 0 50 50\" className=\"w-full h-full animate-pulse\">\n            <defs>\n              <linearGradient id=\"circuit-gradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n                <stop offset=\"0%\" stopColor=\"#3b82f6\" />\n                <stop offset=\"50%\" stopColor=\"#06b6d4\" />\n                <stop offset=\"100%\" stopColor=\"#10b981\" />\n              </linearGradient>\n            </defs>\n            {/* Circuit paths */}\n            <path \n              d=\"M10,25 L20,25 L20,15 L30,15 L30,25 L40,25\" \n              stroke=\"url(#circuit-gradient)\" \n              strokeWidth=\"2\" \n              fill=\"none\"\n              className=\"animate-pulse\"\n            />\n            <path \n              d=\"M25,10 L25,20 L35,20 L35,30 L25,30 L25,40\" \n              stroke=\"url(#circuit-gradient)\" \n              strokeWidth=\"2\" \n              fill=\"none\"\n              className=\"animate-pulse\"\n              style={{ animationDelay: \"0.5s\" }}\n            />\n            {/* Connection points */}\n            <circle cx=\"20\" cy=\"25\" r=\"2\" fill=\"#3b82f6\" className=\"animate-pulse\" />\n            <circle cx=\"30\" cy=\"15\" r=\"2\" fill=\"#06b6d4\" className=\"animate-pulse\" style={{ animationDelay: \"0.3s\" }} />\n            <circle cx=\"25\" cy=\"30\" r=\"2\" fill=\"#10b981\" className=\"animate-pulse\" style={{ animationDelay: \"0.6s\" }} />\n          </svg>\n        </div>\n        {text && (\n          <p className=\"text-sm text-muted-foreground animate-pulse font-medium\">{text}</p>\n        )}\n      </div>\n    );\n  }\n\n  if (variant === \"current\") {\n    return (\n      <div className={cn(\"flex flex-col items-center gap-3\", className)}>\n        <div className={cn(\"relative flex items-center\", sizeClasses[size])}>\n          {/* Current flow animation */}\n          <div className=\"w-full h-1 bg-muted rounded-full overflow-hidden\">\n            <div className=\"h-full bg-gradient-to-r from-transparent via-blue-500 to-transparent animate-pulse relative\">\n              <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-cyan-400 to-transparent animate-bounce\"></div>\n            </div>\n          </div>\n          {/* Voltage indicators */}\n          <div className=\"absolute -left-2 top-1/2 transform -translate-y-1/2\">\n            <div className=\"w-1 h-1 bg-green-500 rounded-full animate-ping\"></div>\n          </div>\n          <div className=\"absolute -right-2 top-1/2 transform -translate-y-1/2\">\n            <div className=\"w-1 h-1 bg-red-500 rounded-full animate-ping\" style={{ animationDelay: \"0.5s\" }}></div>\n          </div>\n        </div>\n        {text && (\n          <p className=\"text-sm text-muted-foreground animate-pulse font-medium\">{text}</p>\n        )}\n      </div>\n    );\n  }\n\n  if (variant === \"bolt\") {\n    return (\n      <div className={cn(\"flex flex-col items-center gap-3\", className)}>\n        <div className={cn(\"relative\", sizeClasses[size])}>\n          {/* Lightning bolt */}\n          <svg viewBox=\"0 0 24 24\" className=\"w-full h-full text-yellow-500 animate-bounce\">\n            <path \n              d=\"M13 1L6 12h5l-1 10 7-11h-5l1-10z\" \n              fill=\"currentColor\"\n              className=\"drop-shadow-lg\"\n            />\n            <path \n              d=\"M13 1L6 12h5l-1 10 7-11h-5l1-10z\" \n              fill=\"none\"\n              stroke=\"currentColor\"\n              strokeWidth=\"1\"\n              className=\"animate-pulse\"\n            />\n          </svg>\n          {/* Electrical glow effect */}\n          <div className=\"absolute inset-0 bg-yellow-400/20 rounded-lg animate-ping\"></div>\n        </div>\n        {text && (\n          <p className=\"text-sm text-muted-foreground animate-pulse font-medium\">{text}</p>\n        )}\n      </div>\n    );\n  }\n\n  return null;\n}\n\n// Skeleton component with electrical theming\nexport function ElectricalSkeleton({ className }: { className?: string }) {\n  return (\n    <div className={cn(\"animate-pulse\", className)}>\n      <div className=\"bg-gradient-to-r from-muted via-muted/50 to-muted rounded-md h-4 mb-2\"></div>\n      <div className=\"bg-gradient-to-r from-muted/80 via-muted/30 to-muted/80 rounded-md h-4 mb-2\"></div>\n      <div className=\"bg-gradient-to-r from-muted via-muted/50 to-muted rounded-md h-4 w-3/4\"></div>\n    </div>\n  );\n}\n\n// Full page loading component\nexport function ElectricalPageLoading() {\n  return (\n    <div className=\"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50\">\n      <div className=\"bg-card border rounded-lg p-8 shadow-lg\">\n        <ElectricalLoading \n          size=\"lg\" \n          variant=\"spark\" \n          text=\"Powering up ElectroLight...\"\n          className=\"mb-4\"\n        />\n        <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n          <div className=\"w-2 h-2 bg-green-500 rounded-full animate-ping\"></div>\n          <span>Systems online</span>\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":6953},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1251},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2154},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":791},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8605},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5128},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2751},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1280},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":791},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5742},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"client/src/components/ui/sidebar.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { VariantProps, cva } from \"class-variance-authority\"\nimport { PanelLeft } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nconst SidebarProvider = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    defaultOpen?: boolean\n    open?: boolean\n    onOpenChange?: (open: boolean) => void\n  }\n>(\n  (\n    {\n      defaultOpen = true,\n      open: openProp,\n      onOpenChange: setOpenProp,\n      className,\n      style,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const isMobile = useIsMobile()\n    const [openMobile, setOpenMobile] = React.useState(false)\n\n    // This is the internal state of the sidebar.\n    // We use openProp and setOpenProp for control from outside the component.\n    const [_open, _setOpen] = React.useState(defaultOpen)\n    const open = openProp ?? _open\n    const setOpen = React.useCallback(\n      (value: boolean | ((value: boolean) => boolean)) => {\n        const openState = typeof value === \"function\" ? value(open) : value\n        if (setOpenProp) {\n          setOpenProp(openState)\n        } else {\n          _setOpen(openState)\n        }\n\n        // This sets the cookie to keep the sidebar state.\n        document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n      },\n      [setOpenProp, open]\n    )\n\n    // Helper to toggle the sidebar.\n    const toggleSidebar = React.useCallback(() => {\n      return isMobile\n        ? setOpenMobile((open) => !open)\n        : setOpen((open) => !open)\n    }, [isMobile, setOpen, setOpenMobile])\n\n    // Adds a keyboard shortcut to toggle the sidebar.\n    React.useEffect(() => {\n      const handleKeyDown = (event: KeyboardEvent) => {\n        if (\n          event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n          (event.metaKey || event.ctrlKey)\n        ) {\n          event.preventDefault()\n          toggleSidebar()\n        }\n      }\n\n      window.addEventListener(\"keydown\", handleKeyDown)\n      return () => window.removeEventListener(\"keydown\", handleKeyDown)\n    }, [toggleSidebar])\n\n    // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n    // This makes it easier to style the sidebar with Tailwind classes.\n    const state = open ? \"expanded\" : \"collapsed\"\n\n    const contextValue = React.useMemo<SidebarContextProps>(\n      () => ({\n        state,\n        open,\n        setOpen,\n        isMobile,\n        openMobile,\n        setOpenMobile,\n        toggleSidebar,\n      }),\n      [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n    )\n\n    return (\n      <SidebarContext.Provider value={contextValue}>\n        <TooltipProvider delayDuration={0}>\n          <div\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH,\n                \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n                ...style,\n              } as React.CSSProperties\n            }\n            className={cn(\n              \"group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar\",\n              className\n            )}\n            ref={ref}\n            {...props}\n          >\n            {children}\n          </div>\n        </TooltipProvider>\n      </SidebarContext.Provider>\n    )\n  }\n)\nSidebarProvider.displayName = \"SidebarProvider\"\n\nconst Sidebar = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    side?: \"left\" | \"right\"\n    variant?: \"sidebar\" | \"floating\" | \"inset\"\n    collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n  }\n>(\n  (\n    {\n      side = \"left\",\n      variant = \"sidebar\",\n      collapsible = \"offcanvas\",\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n    if (collapsible === \"none\") {\n      return (\n        <div\n          className={cn(\n            \"flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground\",\n            className\n          )}\n          ref={ref}\n          {...props}\n        >\n          {children}\n        </div>\n      )\n    }\n\n    if (isMobile) {\n      return (\n        <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n          <SheetContent\n            data-sidebar=\"sidebar\"\n            data-mobile=\"true\"\n            className=\"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden\"\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n              } as React.CSSProperties\n            }\n            side={side}\n          >\n            <SheetHeader className=\"sr-only\">\n              <SheetTitle>Sidebar</SheetTitle>\n              <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n            </SheetHeader>\n            <div className=\"flex h-full w-full flex-col\">{children}</div>\n          </SheetContent>\n        </Sheet>\n      )\n    }\n\n    return (\n      <div\n        ref={ref}\n        className=\"group peer hidden text-sidebar-foreground md:block\"\n        data-state={state}\n        data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n        data-variant={variant}\n        data-side={side}\n      >\n        {/* This is what handles the sidebar gap on desktop */}\n        <div\n          className={cn(\n            \"relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear\",\n            \"group-data-[collapsible=offcanvas]:w-0\",\n            \"group-data-[side=right]:rotate-180\",\n            variant === \"floating\" || variant === \"inset\"\n              ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon]\"\n          )}\n        />\n        <div\n          className={cn(\n            \"fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex\",\n            side === \"left\"\n              ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n              : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n            // Adjust the padding for floating and inset variants.\n            variant === \"floating\" || variant === \"inset\"\n              ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n            className\n          )}\n          {...props}\n        >\n          <div\n            data-sidebar=\"sidebar\"\n            className=\"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow\"\n          >\n            {children}\n          </div>\n        </div>\n      </div>\n    )\n  }\n)\nSidebar.displayName = \"Sidebar\"\n\nconst SidebarTrigger = React.forwardRef<\n  React.ElementRef<typeof Button>,\n  React.ComponentProps<typeof Button>\n>(({ className, onClick, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      ref={ref}\n      data-sidebar=\"trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeft />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n})\nSidebarTrigger.displayName = \"SidebarTrigger\"\n\nconst SidebarRail = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\">\n>(({ className, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <button\n      ref={ref}\n      data-sidebar=\"rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex\",\n        \"[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarRail.displayName = \"SidebarRail\"\n\nconst SidebarInset = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"main\">\n>(({ className, ...props }, ref) => {\n  return (\n    <main\n      ref={ref}\n      className={cn(\n        \"relative flex w-full flex-1 flex-col bg-background\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInset.displayName = \"SidebarInset\"\n\nconst SidebarInput = React.forwardRef<\n  React.ElementRef<typeof Input>,\n  React.ComponentProps<typeof Input>\n>(({ className, ...props }, ref) => {\n  return (\n    <Input\n      ref={ref}\n      data-sidebar=\"input\"\n      className={cn(\n        \"h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInput.displayName = \"SidebarInput\"\n\nconst SidebarHeader = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarHeader.displayName = \"SidebarHeader\"\n\nconst SidebarFooter = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarFooter.displayName = \"SidebarFooter\"\n\nconst SidebarSeparator = React.forwardRef<\n  React.ElementRef<typeof Separator>,\n  React.ComponentProps<typeof Separator>\n>(({ className, ...props }, ref) => {\n  return (\n    <Separator\n      ref={ref}\n      data-sidebar=\"separator\"\n      className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\n      {...props}\n    />\n  )\n})\nSidebarSeparator.displayName = \"SidebarSeparator\"\n\nconst SidebarContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarContent.displayName = \"SidebarContent\"\n\nconst SidebarGroup = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarGroup.displayName = \"SidebarGroup\"\n\nconst SidebarGroupLabel = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupLabel.displayName = \"SidebarGroupLabel\"\n\nconst SidebarGroupAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupAction.displayName = \"SidebarGroupAction\"\n\nconst SidebarGroupContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"group-content\"\n    className={cn(\"w-full text-sm\", className)}\n    {...props}\n  />\n))\nSidebarGroupContent.displayName = \"SidebarGroupContent\"\n\nconst SidebarMenu = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu\"\n    className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n    {...props}\n  />\n))\nSidebarMenu.displayName = \"SidebarMenu\"\n\nconst SidebarMenuItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    data-sidebar=\"menu-item\"\n    className={cn(\"group/menu-item relative\", className)}\n    {...props}\n  />\n))\nSidebarMenuItem.displayName = \"SidebarMenuItem\"\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:!p-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst SidebarMenuButton = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    isActive?: boolean\n    tooltip?: string | React.ComponentProps<typeof TooltipContent>\n  } & VariantProps<typeof sidebarMenuButtonVariants>\n>(\n  (\n    {\n      asChild = false,\n      isActive = false,\n      variant = \"default\",\n      size = \"default\",\n      tooltip,\n      className,\n      ...props\n    },\n    ref\n  ) => {\n    const Comp = asChild ? Slot : \"button\"\n    const { isMobile, state } = useSidebar()\n\n    const button = (\n      <Comp\n        ref={ref}\n        data-sidebar=\"menu-button\"\n        data-size={size}\n        data-active={isActive}\n        className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n        {...props}\n      />\n    )\n\n    if (!tooltip) {\n      return button\n    }\n\n    if (typeof tooltip === \"string\") {\n      tooltip = {\n        children: tooltip,\n      }\n    }\n\n    return (\n      <Tooltip>\n        <TooltipTrigger asChild>{button}</TooltipTrigger>\n        <TooltipContent\n          side=\"right\"\n          align=\"center\"\n          hidden={state !== \"collapsed\" || isMobile}\n          {...tooltip}\n        />\n      </Tooltip>\n    )\n  }\n)\nSidebarMenuButton.displayName = \"SidebarMenuButton\"\n\nconst SidebarMenuAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    showOnHover?: boolean\n  }\n>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuAction.displayName = \"SidebarMenuAction\"\n\nconst SidebarMenuBadge = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"menu-badge\"\n    className={cn(\n      \"pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground\",\n      \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n      \"peer-data-[size=sm]/menu-button:top-1\",\n      \"peer-data-[size=default]/menu-button:top-1.5\",\n      \"peer-data-[size=lg]/menu-button:top-2.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuBadge.displayName = \"SidebarMenuBadge\"\n\nconst SidebarMenuSkeleton = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    showIcon?: boolean\n  }\n>(({ className, showIcon = false, ...props }, ref) => {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[--skeleton-width] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n})\nSidebarMenuSkeleton.displayName = \"SidebarMenuSkeleton\"\n\nconst SidebarMenuSub = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu-sub\"\n    className={cn(\n      \"mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuSub.displayName = \"SidebarMenuSub\"\n\nconst SidebarMenuSubItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ ...props }, ref) => <li ref={ref} {...props} />)\nSidebarMenuSubItem.displayName = \"SidebarMenuSubItem\"\n\nconst SidebarMenuSubButton = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentProps<\"a\"> & {\n    asChild?: boolean\n    size?: \"sm\" | \"md\"\n    isActive?: boolean\n  }\n>(({ asChild = false, size = \"md\", isActive, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuSubButton.displayName = \"SidebarMenuSubButton\"\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":23567},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1077},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1139},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1883},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1527},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209},"server/mongoStorage_old.ts":{"content":"import bcrypt from \"bcryptjs\";\nimport { randomUUID } from \"crypto\";\nimport { CategoryModel, ProductModel, ContactMessageModel, AdminUserModel, AccessoryModel, ProjectModel } from \"./models\";\nimport type { \n  Category, \n  Product, \n  ContactMessage, \n  AdminUser, \n  Accessory,\n  Project,\n  InsertCategory, \n  InsertProduct, \n  InsertContactMessage, \n  InsertAdminUser,\n  InsertAccessory,\n  InsertProject \n} from \"@shared/schema\";\nimport type { IStorage } from \"./storage\";\n\nexport class MongoStorage implements IStorage {\n  constructor() {\n    this.seedBasicData(); // Only seed admin and categories\n  }\n\n  private async seedBasicData() {\n    try {\n      // Check if admin user already exists\n      const existingAdmin = await AdminUserModel.findOne({ username: \"admin\" });\n      if (!existingAdmin) {\n        // Seed admin user (owner access)\n        const hashedPassword = await bcrypt.hash(\"admin123\", 10);\n        const adminUser = new AdminUserModel({\n          _id: randomUUID(),\n          username: \"admin\",\n          password: hashedPassword,\n          email: \"admin@electrolight.com\",\n          isActive: true,\n          createdAt: new Date().toISOString(),\n        });\n        await adminUser.save();\n        console.log(\"âœ… Admin user seeded\");\n      }\n\n      // Only seed categories if none exist\n      const existingCategories = await CategoryModel.countDocuments();\n      if (existingCategories === 0) {\n        // Seed categories\n      const categoriesData: InsertCategory[] = [\n          { name: \"Bamboo\", slug: \"bamboo\", icon: \"fas fa-seedling\" },\n          { name: \"Baseboard Heaters\", slug: \"baseboard\", icon: \"fas fa-thermometer-half\" },\n          { name: \"Construction\", slug: \"construction\", icon: \"fas fa-hard-hat\" },\n          { name: \"Driver\", slug: \"driver\", icon: \"fas fa-microchip\" },\n          { name: \"Extension Rings\", slug: \"extension-rings\", icon: \"fas fa-circle-notch\" },\n          { name: \"Gangable Boxes\", slug: \"gangable-boxes\", icon: \"fas fa-cube\" },\n          { name: \"GI Wire\", slug: \"gi-wire\", icon: \"fas fa-project-diagram\" },\n          { name: \"Ground Plate\", slug: \"ground-plate\", icon: \"fas fa-square\" },\n          { name: \"Light\", slug: \"light\", icon: \"fas fa-lightbulb\" },\n          { name: \"Metal Box\", slug: \"metal-box\", icon: \"fas fa-box\" },\n          { name: \"Metal Plates\", slug: \"metal-plates\", icon: \"fas fa-square-full\" },\n          { name: \"Milk Carton\", slug: \"milk-carton\", icon: \"fas fa-archive\" },\n          { name: \"Octagonal Box\", slug: \"octagonal-box\", icon: \"fas fa-stop\" },\n          { name: \"Plastic Box\", slug: \"plastic-box\", icon: \"fas fa-cube\" },\n          { name: \"Pot Light\", slug: \"pot-light\", icon: \"fas fa-circle\" },\n          { name: \"Puck Light\", slug: \"puck-light\", icon: \"fas fa-dot-circle\" },\n          { name: \"PVC Pipe\", slug: \"pvc-pipe\", icon: \"fas fa-grip-lines\" },\n          { name: \"Smoke Alarm\", slug: \"smoke-alarm\", icon: \"fas fa-exclamation-triangle\" },\n      ];\n\n      const categories = categoriesData.map(cat => new CategoryModel({\n        _id: randomUUID(),\n        ...cat\n      }));\n\n        await CategoryModel.insertMany(categories);\n        console.log(\"âœ… Categories seeded\");\n      }\n\n      // Remove the \"Accessories\" category if it exists\n      const accessoriesCategory = await CategoryModel.findOne({ slug: \"accessories\" });\n      if (accessoriesCategory) {\n        await CategoryModel.deleteOne({ slug: \"accessories\" });\n        console.log(\"âœ… Removed 'Accessories' category\");\n      }\n\n      // Products will be added manually via admin interface\n      console.log(\"âœ… Basic seeding completed - Products, accessories and projects will be added via admin interface\");\n    } catch (error) {\n      console.error(\"âŒ Error seeding database:\", error);\n    }\n  }\n\n  // Add method to clear all data\n  async clearAllData(): Promise<void> {\n    await Promise.all([\n      ProductModel.deleteMany({}),\n      AccessoryModel.deleteMany({}),\n      ProjectModel.deleteMany({})\n    ]);\n  }\n\n  // Add method to populate sample data\n  async populateSampleData(): Promise<void> {\n    try {\n      // Clear existing data first\n      await this.clearAllData();\n      \n      console.log(\"âœ… Sample data population completed\");\n    } catch (error) {\n      console.error(\"âŒ Error populating sample data:\", error);\n    }\n  }\n            description: \"This professional-grade LED light fixture represents the pinnacle of modern lighting technology, engineered for both commercial and residential applications where quality, efficiency, and longevity are paramount. The fixture features state-of-the-art LED technology that delivers exceptional illumination while consuming significantly less energy than traditional lighting solutions. Its sleek, contemporary design seamlessly integrates into any architectural style, from modern offices and retail spaces to elegant residential interiors. The fixture is constructed with premium materials and precision engineering, ensuring reliable performance in demanding environments. Whether you're lighting a workspace, retail display, or living area, this fixture provides consistent, high-quality illumination that enhances productivity and ambiance while reducing energy costs and maintenance requirements.\",\n            specifications: \"Advanced LED technology provides 50,000+ hours of reliable lighting with 80% energy savings compared to traditional fixtures. Dimmable functionality and easy installation make it perfect for both commercial and residential applications.\",\n            imageUrl: \"https://images.unsplash.com/photo-1524484485831-a92ffc0de03f?w=400&h=400&fit=crop\",\n            imageUrls: [\n              \"https://images.unsplash.com/photo-1558618047-3c8c76d6d7ac?w=400&h=400&fit=crop\",\n              \"https://images.unsplash.com/photo-1621905251918-48416bd8575a?w=400&h=400&fit=crop\"\n            ],\n            categorySlug: \"light\",\n            brand: \"Philips\",\n            inStock: true,\n            featured: true, // Featured product\n            specificationList: [\n              \"LED Technology - 50,000+ hour lifespan with high-quality diodes\",\n              \"Energy Efficiency - 80% less power consumption than traditional fixtures\", \n              \"Dimming Capability - Compatible with most standard dimmer switches\",\n              \"Installation - Easy mounting with standard electrical boxes\",\n              \"Warranty Coverage - 5-year manufacturer warranty for peace of mind\",\n              \"Light Output - 3000K warm white color temperature\",\n              \"Beam Angle - 120-degree wide beam for optimal coverage\",\n              \"Input Voltage - 120-277V AC for versatile installation\",\n              \"Luminous Efficacy - 110 lumens per watt efficiency rating\",\n              \"Color Rendering - CRI 90+ for excellent color accuracy\"\n            ],\n            accessories: [], // Will be populated later\n            similarProducts: [] // Will be populated later\n          },\n          {\n            name: \"Heavy Duty Extension Ring\",\n            description: \"Durable metal extension ring for increasing box depth. Essential for modern electrical installations.\",\n            imageUrl: \"https://images.unsplash.com/photo-1621905251918-48416bd8575a?w=400&h=400&fit=crop\",\n            imageUrls: [\n              \"https://images.unsplash.com/photo-1609137144813-7d9921338f24?w=400&h=400&fit=crop\",\n              \"https://images.unsplash.com/photo-1504148455328-c376907d081c?w=400&h=400&fit=crop\"\n            ],\n            categorySlug: \"extension-rings\",\n            brand: \"Leviton\",\n            inStock: true,\n            featured: false, // Regular product\n            specificationList: [\n              \"Construction Material - Heavy-duty 16-gauge steel for maximum durability\",\n              \"Coating - Corrosion-resistant powder coating for indoor/outdoor use\", \n              \"Compatibility - Standard electrical box mounting with universal fit\",\n              \"Installation Grade - Professional-grade hardware and construction\",\n              \"Safety Certification - UL Listed for electrical safety compliance\",\n              \"Depth Extension - Adds 1/2 inch to 1-1/2 inch additional box depth\",\n              \"Mounting - Secure screw-on attachment system\",\n              \"Temperature Rating - -40Â°F to 200Â°F operating temperature range\",\n              \"Thread Size - Standard 10-32 mounting screws included\",\n              \"Box Compatibility - Works with 2x4, 3x2, and 4x4 electrical boxes\"\n            ],\n            accessories: [],\n            similarProducts: []\n          },\n\n          {\n            name: \"Premium Gangable Box Set\",\n            description: \"Professional-grade gangable boxes for multiple switch installations. Perfect for modern electrical panels.\",\n            imageUrl: \"https://images.unsplash.com/photo-1609137144813-7d9921338f24?w=400&h=400&fit=crop\",\n            imageUrls: [\n              \"https://images.unsplash.com/photo-1621905251918-48416bd8575a?w=400&h=400&fit=crop\",\n              \"https://images.unsplash.com/photo-1504148455328-c376907d081c?w=400&h=400&fit=crop\"\n            ],\n            categorySlug: \"gangable-boxes\",\n            brand: \"Square D\",\n            inStock: true,\n            featured: false, // Regular product\n            specificationList: [\n              \"Gang Configuration - 2, 3, 4, 5, and 6-gang options available\",\n              \"Construction Material - Heavy-duty 18-gauge galvanized steel\",\n              \"Assembly Method - Easy snap-together design with no tools required\",\n              \"Installation Type - Professional-grade mounting with adjustable tabs\",\n              \"Knockout Options - Pre-punched for 1/2, 3/4, and 1-inch conduit\",\n              \"Depth Capacity - 3-1/2 inch depth for modern electrical devices\",\n              \"Safety Rating - UL Listed and CSA certified for North America\",\n              \"Mounting Hardware - Adjustable plaster ears for various wall thicknesses\",\n              \"Wire Management - Internal cable management clips included\"\n            ],\n            accessories: [],\n            similarProducts: []\n          },\n          {\n            name: \"Commercial Grade PVC Pipe\",\n            description: \"High-strength PVC conduit for commercial electrical installations. Weather-resistant and durable.\",\n            imageUrl: \"https://images.unsplash.com/photo-1504148455328-c376907d081c?w=400&h=400&fit=crop\",\n            imageUrls: [\n              \"https://images.unsplash.com/photo-1558618047-3c8c76d6d7ac?w=400&h=400&fit=crop\",\n              \"https://images.unsplash.com/photo-1609137144813-7d9921338f24?w=400&h=400&fit=crop\"\n            ],\n            categorySlug: \"pvc-pipe\",\n            brand: \"Cantex\",\n            inStock: true,\n            featured: false, // Regular product\n            specificationList: [\n              \"Schedule 40 PVC construction\",\n              \"UV resistant for outdoor use\",\n              \"Smooth interior for easy wire pulling\",\n              \"Standard electrical conduit sizing\",\n              \"Corrosion and chemical resistant\"\n            ],\n            accessories: [],\n            similarProducts: []\n          },\n          {\n            name: \"Industrial Wire Management\",\n            description: \"Professional wire management solution for complex electrical systems. Keeps installations organized and safe.\",\n            imageUrl: \"https://images.unsplash.com/photo-1558618047-3c8c76d6d7ac?w=400&h=400&fit=crop\",\n            imageUrls: [\n              \"https://images.unsplash.com/photo-1524484485831-a92ffc0de03f?w=400&h=400&fit=crop\",\n              \"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=400&fit=crop\"\n            ],\n            categorySlug: \"gi-wire\",\n            brand: \"Southwire\",\n            inStock: true,\n            featured: true, // Featured product\n            specificationList: [\n              \"Industrial-grade wire management system\",\n              \"Cable tray and conduit organization\",\n              \"Modular expandable design\",\n              \"Corrosion-resistant materials\",\n              \"Professional installation compatible\"\n            ],\n            accessories: [],\n            similarProducts: []\n          },\n          {\n            name: \"Electric Baseboard Heater 750W\",\n            description: \"Efficient electric baseboard heater perfect for supplemental heating in small to medium rooms. Energy-friendly design with quiet operation.\",\n            imageUrl: \"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=400&fit=crop\",\n            imageUrls: [\n              \"https://images.unsplash.com/photo-1558618047-3c8c76d6d7ac?w=400&h=400&fit=crop\",\n              \"https://images.unsplash.com/photo-1524484485831-a92ffc0de03f?w=400&h=400&fit=crop\"\n            ],\n            categorySlug: \"baseboard\",\n            brand: \"Cadet\",\n            inStock: true,\n            featured: false, // Regular product\n            specifications: [\n              \"750 watts of heating power\",\n              \"Covers up to 100 square feet\",\n              \"Silent convection operation\",\n              \"Wall-mounted design\",\n              \"Built-in thermostat control\",\n              \"ETL certified for safety\"\n            ],\n            accessories: [],\n            similarProducts: []\n          },\n          {\n            name: \"Electric Baseboard Heater 1500W\",\n            description: \"High-capacity electric baseboard heater for larger rooms. Features advanced heating elements and built-in safety controls.\",\n            imageUrl: \"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=400&fit=crop\",\n            imageUrls: [\n              \"https://images.unsplash.com/photo-1621905251918-48416bd8575a?w=400&h=400&fit=crop\",\n              \"https://images.unsplash.com/photo-1609137144813-7d9921338f24?w=400&h=400&fit=crop\"\n            ],\n            categorySlug: \"baseboard\",\n            brand: \"King Electric\",\n            inStock: true,\n            featured: false, // Regular product\n            specifications: [\n              \"1500 watts of heating power\",\n              \"Covers up to 200 square feet\",\n              \"Programmable thermostat\",\n              \"Overheat protection\",\n              \"Easy wall installation\",\n              \"Energy Star certified\"\n            ],\n            accessories: [],\n            similarProducts: []\n          },\n          // Add accessories as searchable products in accessories category\n          {\n            name: \"LED Dimmer Switch\",\n            description: \"Smart LED dimmer switch with app control and voice activation compatibility.\",\n            specifications: \"Compatible with LED, CFL, and halogen bulbs. Works with Alexa, Google Assistant, and mobile apps for remote control. Features smooth dimming control and energy monitoring capabilities.\",\n            categorySlug: \"accessories\",\n            brand: \"Lutron\",\n            imageUrl: \"https://images.unsplash.com/photo-1558618047-3c8c76d6d7ac?w=400&h=400&fit=crop\",\n            imageUrls: [\"https://images.unsplash.com/photo-1621905251918-48416bd8575a?w=400&h=400&fit=crop\"],\n            inStock: true,\n            featured: false,\n            specificationList: [\n              \"Compatible Bulbs: LED, CFL, Halogen up to 600W\",\n              \"Smart Features: App Control, Voice Commands\",\n              \"Installation: Standard Wall Box\",\n              \"Connectivity: WiFi 2.4GHz\",\n              \"Certifications: UL Listed, FCC Approved\"\n            ],\n            accessories: [],\n            similarProducts: []\n          },\n          {\n            name: \"LED Driver Module\",  \n            description: \"High-efficiency LED driver module for professional lighting installations.\",\n            specifications: \"Constant current LED driver with dimming capability and overload protection for commercial applications. Designed for long-term reliability and optimal LED performance.\",\n            categorySlug: \"accessories\",\n            brand: \"Mean Well\",\n            imageUrl: \"https://images.unsplash.com/photo-1524484485831-a92ffc0de03f?w=400&h=400&fit=crop\",\n            imageUrls: [\"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=400&fit=crop\"],\n            inStock: true,\n            featured: false,\n            specificationList: [\n              \"Input Voltage: 100-277V AC\",\n              \"Output Current: 350mA-1400mA\",\n              \"Power Factor: >0.95\",\n              \"Dimming: 0-10V, PWM Compatible\",\n              \"Protection: Overvoltage, Overcurrent, Short Circuit\"\n            ],\n            accessories: [],\n            similarProducts: []\n          },\n          {\n            name: \"Motion Sensor Override\",\n            description: \"Professional motion sensor with manual override for commercial and residential lighting control.\",  \n            specifications: \"PIR motion sensor with adjustable sensitivity and time delay settings. Manual override capability for security applications with tamper-resistant design.\",\n            categorySlug: \"accessories\",\n            brand: \"Leviton\",\n            imageUrl: \"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=400&fit=crop\",\n            imageUrls: [\"https://images.unsplash.com/photo-1558618047-3c8c76d6d7ac?w=400&h=400&fit=crop\"],\n            inStock: true,\n            featured: false,\n            specificationList: [\n              \"Detection Range: 180Â° field of view\",\n              \"Sensitivity: Adjustable 50%-100%\",\n              \"Time Delay: 30 seconds to 30 minutes\",  \n              \"Override: Manual on/off switch\",\n              \"Installation: Standard wall box or ceiling mount\"\n            ],\n            accessories: [],\n            similarProducts: []\n          }\n        ];\n\n        const products = productsData.map(prod => new ProductModel({\n          _id: randomUUID(),\n          ...prod\n        }));\n\n        await ProductModel.insertMany(products);\n        console.log(\"âœ… Products seeded\");\n      }\n\n      // Only reseed accessories once (comment out the deleteMany after first run)\n      // await AccessoryModel.deleteMany({});\n      // console.log(\"âœ… Cleared existing accessories\");\n      \n      const existingAccessories = await AccessoryModel.countDocuments();\n      if (existingAccessories === 0) {\n        const accessoriesData: InsertAccessory[] = [\n          // LED Light accessories\n          {\n            name: \"LED Dimmer Switch\",\n            modelNumber: \"LED-DIM-120\",\n            description: \"Compatible dimmer switch for LED fixtures with smooth dimming control and memory function for optimal lighting control.\",\n            imageUrl: \"https://res.cloudinary.com/dz5jnvqvg/image/upload/v1735842562/products/dimmer-switch.jpg\",\n            brand: \"Leviton\",\n            compatibleWith: [\"light\"],\n            specificationList: [\n              \"Load Capacity - 600W LED, 1000W incandescent maximum\",\n              \"Dimming Range - 1% to 100% smooth control\",\n              \"Memory Function - Recalls last brightness setting\",\n              \"Installation - Standard single-pole wall box\",\n              \"Compatibility - Dimmable LED and CFL bulbs\",\n              \"Operating Temperature - 32Â°F to 104Â°F range\"\n            ],\n            createdAt: new Date().toISOString(),\n          },\n          {\n            name: \"LED Driver Module\",\n            modelNumber: \"DRV-24V-60W\",\n            description: \"24V 60W constant voltage LED driver for professional lighting installations with overload protection.\",\n            imageUrl: \"https://res.cloudinary.com/dz5jnvqvg/image/upload/v1735842562/products/led-driver.jpg\",\n            brand: \"Phillips\",\n            compatibleWith: [\"light\"],\n            specificationList: [\n              \"Input Voltage - 100-277V AC universal input\",\n              \"Output Voltage - 24V DC constant voltage\",\n              \"Power Rating - 60W maximum output capacity\",\n              \"Efficiency - 90% power conversion efficiency\",\n              \"Protection - Short circuit and overvoltage\",\n              \"Operating Temperature - -20Â°C to 60Â°C range\"\n            ],\n            createdAt: new Date().toISOString(),\n          },\n          {\n            name: \"Motion Sensor Override\",\n            modelNumber: \"MS-OVR-15A\",\n            description: \"Manual override switch for motion sensor lighting systems with adjustable sensitivity control.\",\n            imageUrl: \"https://res.cloudinary.com/dz5jnvqvg/image/upload/v1735842562/products/override-switch.jpg\",\n            brand: \"Cooper\",\n            compatibleWith: [\"light\"],\n            specificationList: [\n              \"Detection Range - 180Â° coverage area\",\n              \"Load Rating - 15A resistive, 500W LED\",\n              \"Time Delay - 30 seconds to 30 minutes\",\n              \"Override - Manual on/off/auto switch\",\n              \"Mounting - Wall or ceiling installation\",\n              \"Sensitivity - 3-level adjustable control\"\n            ],\n            createdAt: new Date().toISOString(),\n          },\n          // Construction accessories\n          {\n            name: \"Wire Nut Assortment\",\n            modelNumber: \"WN-AST-20\",\n            description: \"20-piece wire nut connector assortment for electrical connections in various wire gauge combinations.\",\n            imageUrl: \"https://res.cloudinary.com/dz5jnvqvg/image/upload/v1735842562/products/wire-nuts.jpg\",\n            brand: \"Ideal\",\n            compatibleWith: [\"construction\", \"metal-box\"],\n            specificationList: [\n              \"Wire Gauge - 12-22 AWG compatibility\",\n              \"Quantity - 20-piece assorted sizes\",\n              \"Material - Flame-retardant nylon shell\",\n              \"Insulation - Copper wire threading design\",\n              \"Temperature - -65Â°F to 221Â°F rating\",\n              \"Certifications - UL Listed and CSA approved\"\n            ],\n            createdAt: new Date().toISOString(),\n          },\n          {\n            name: \"Junction Box Cover\",\n            modelNumber: \"JB-CVR-4X4\",\n            description: \"Weatherproof cover for 4x4 junction boxes with gasket seal for outdoor protection.\",\n            imageUrl: \"https://res.cloudinary.com/dz5jnvqvg/image/upload/v1735842562/products/junction-cover.jpg\",\n            brand: \"Leviton\",\n            compatibleWith: [\"metal-box\", \"construction\"],\n            specificationList: [\n              \"Box Size - 4x4 inch square junction box\",\n              \"Weather Rating - IP65 weatherproof seal\",\n              \"Material - Die-cast aluminum construction\",\n              \"Gasket - EPDM rubber weather seal\",\n              \"Screws - Stainless steel mounting hardware\",\n              \"Temperature Range - -40Â°F to 150Â°F rating\"\n            ],\n            createdAt: new Date().toISOString(),\n          },\n          {\n            name: \"Conduit Coupling\",\n            modelNumber: \"EMT-CPL-1/2\",\n            description: \"1/2 inch EMT conduit coupling connector for joining electrical metallic tubing sections.\",\n            imageUrl: \"https://res.cloudinary.com/dz5jnvqvg/image/upload/v1735842562/products/conduit-coupling.jpg\",\n            brand: \"Hubbell\",\n            compatibleWith: [\"construction\", \"metal-box\"],\n            specificationList: [\n              \"Conduit Size - 1/2 inch EMT compatibility\",\n              \"Material - Zinc die-cast construction\",\n              \"Connection - Compression fitting design\",\n              \"Finish - Electroplated zinc coating\",\n              \"Installation - No threading required\",\n              \"Standards - UL Listed and NEMA compliant\"\n            ],\n            createdAt: new Date().toISOString(),\n          },\n          // Baseboard heater accessories\n          {\n            name: \"Thermostat Control\",\n            modelNumber: \"THERMO-240V\",\n            description: \"Digital thermostat control for baseboard heaters with programmable settings and precise temperature control.\",\n            imageUrl: \"https://res.cloudinary.com/dz5jnvqvg/image/upload/v1735842562/products/thermostat.jpg\",\n            brand: \"Honeywell\",\n            compatibleWith: [\"baseboard\"],\n            specificationList: [\n              \"Voltage Rating - 240VAC single-phase\",\n              \"Load Capacity - 4000W maximum heater load\",\n              \"Temperature Range - 45Â°F to 85Â°F control\",\n              \"Accuracy - Â±1Â°F temperature precision\",\n              \"Programming - 7-day schedule capability\",\n              \"Display - LCD with backlight illumination\"\n            ],\n            createdAt: new Date().toISOString(),\n          },\n          {\n            name: \"Heater End Caps\",\n            modelNumber: \"BB-CAP-SET\",\n            description: \"Protective end caps for baseboard heater units providing safety coverage and finished appearance.\",\n            imageUrl: \"https://res.cloudinary.com/dz5jnvqvg/image/upload/v1735842562/products/end-caps.jpg\",\n            brand: \"Marley\",\n            compatibleWith: [\"baseboard\"],\n            specificationList: [\n              \"Material - High-temperature ABS plastic\",\n              \"Color - White finish to match heater\",\n              \"Installation - Snap-on design installation\",\n              \"Safety - Covers sharp metal edges\",\n              \"Temperature Rating - 200Â°F maximum\",\n              \"Package - Left and right caps included\"\n            ],\n            createdAt: new Date().toISOString(),\n          }\n        ];\n\n        const accessories = accessoriesData.map(acc => new AccessoryModel({\n          _id: randomUUID(),\n          ...acc\n        }));\n\n        await AccessoryModel.insertMany(accessories);\n        console.log(\"âœ… Accessories seeded\");\n\n        // Update products with accessories relationships after accessories are created\n        const lightAccessoryIds = accessories\n          .filter(acc => acc.compatibleWith?.includes(\"light\"))\n          .map(acc => acc._id)\n          .slice(0, 3); // Take first 3 light accessories\n\n        const constructionAccessoryIds = accessories\n          .filter(acc => acc.compatibleWith?.includes(\"construction\"))\n          .map(acc => acc._id)\n          .slice(0, 2); // Take first 2 construction accessories\n\n        const baseboardAccessoryIds = accessories\n          .filter(acc => acc.compatibleWith?.includes(\"baseboard\"))\n          .map(acc => acc._id);\n\n        // Update LED fixture with light accessories\n        await ProductModel.updateOne(\n          { name: \"Professional LED Light Fixture\" },\n          { \n            accessories: lightAccessoryIds,\n            similarProducts: products.filter(p => p.categorySlug === \"light\" && p.name !== \"Professional LED Light Fixture\").map(p => p._id).slice(0, 2)\n          }\n        );\n        \n        // Update Wire Management with construction accessories\n        await ProductModel.updateOne(\n          { name: \"Industrial Wire Management\" },\n          {\n            accessories: constructionAccessoryIds,\n            similarProducts: products.filter(p => p.categorySlug === \"gi-wire\" && p.name !== \"Industrial Wire Management\").map(p => p._id).slice(0, 2)\n          }\n        );\n\n        // Update Baseboard Heaters with baseboard accessories\n        await ProductModel.updateOne(\n          { name: \"Electric Baseboard Heater 750W\" },\n          {\n            accessories: baseboardAccessoryIds,\n            similarProducts: products.filter(p => p.categorySlug === \"baseboard\" && p.name !== \"Electric Baseboard Heater 750W\").map(p => p._id).slice(0, 2)\n          }\n        );\n\n        await ProductModel.updateOne(\n          { name: \"Electric Baseboard Heater 1500W\" },\n          {\n            accessories: baseboardAccessoryIds,\n            similarProducts: products.filter(p => p.categorySlug === \"baseboard\" && p.name !== \"Electric Baseboard Heater 1500W\").map(p => p._id).slice(0, 2)\n          }\n        );\n        \n        console.log(\"âœ… Product-accessory relationships updated\");\n      }\n\n      // Ensure ALL products have accessories (run this every time)\n      const allAccessories = await AccessoryModel.find();\n      \n      // Update LED fixture with light accessories\n      const lightAccessories = allAccessories.filter(acc => acc.compatibleWith?.includes(\"light\"));\n      if (lightAccessories.length > 0) {\n        await ProductModel.updateOne(\n          { name: \"Professional LED Light Fixture\" },\n          { accessories: lightAccessories.map(acc => acc._id).slice(0, 3) }\n        );\n      }\n\n      // Update Wire Management with construction accessories\n      const constructionAccessories = allAccessories.filter(acc => acc.compatibleWith?.includes(\"construction\") || acc.compatibleWith?.includes(\"metal-box\"));\n      if (constructionAccessories.length > 0) {\n        await ProductModel.updateOne(\n          { name: \"Industrial Wire Management\" },\n          { accessories: constructionAccessories.map(acc => acc._id).slice(0, 2) }\n        );\n      }\n\n      // Update Baseboard Heaters with baseboard accessories\n      const baseboardAccessories = allAccessories.filter(acc => acc.compatibleWith?.includes(\"baseboard\"));\n      if (baseboardAccessories.length > 0) {\n        await ProductModel.updateMany(\n          { categorySlug: \"baseboard\" },\n          { accessories: baseboardAccessories.map(acc => acc._id) }\n        );\n      }\n\n      console.log(\"âœ… All products updated with accessories\");\n\n      // Seed projects if none exist\n      const existingProjects = await ProjectModel.countDocuments();\n      if (existingProjects === 0) {\n        const projectsData = [\n          {\n            title: \"Downtown Office Complex LED Retrofit\",\n            description: \"Complete LED lighting retrofit for a 50,000 sq ft office complex, including installation of energy-efficient fixtures, motion sensors, and smart controls. The project reduced energy consumption by 65% while improving workspace illumination quality.\",\n            category: \"Commercial\",\n            location: \"Toronto, ON\",\n            completedDate: \"2024-11-15\",\n            clientType: \"Commercial Office\",\n            imageUrls: [\n              \"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=800&h=450&fit=crop\",\n              \"https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=450&fit=crop\"\n            ],\n            productsUsed: [],\n            featured: true,\n          },\n          {\n            title: \"Smart Home Electrical Installation\",\n            description: \"Full electrical system installation for luxury residential home including smart switches, automated lighting controls, EV charging station, and comprehensive home monitoring system.\",\n            category: \"Residential\",\n            location: \"Mississauga, ON\",\n            completedDate: \"2024-10-28\",\n            clientType: \"Residential\",\n            imageUrls: [\n              \"https://images.unsplash.com/photo-1558618666-fbd6c327cd37?w=800&h=450&fit=crop\",\n              \"https://images.unsplash.com/photo-1560184897-ae75f418493e?w=800&h=450&fit=crop\"\n            ],\n            productsUsed: [],\n            featured: true,\n          },\n          {\n            title: \"Manufacturing Facility Power Distribution\",\n            description: \"Industrial-grade power distribution system installation for automotive manufacturing facility. Project included high-capacity electrical panels, conduit systems, and specialized industrial lighting.\",\n            category: \"Industrial\",\n            location: \"Hamilton, ON\",\n            completedDate: \"2024-09-20\",\n            clientType: \"Manufacturing\",\n            imageUrls: [\n              \"https://images.unsplash.com/photo-1581094271901-8022df4466f9?w=800&h=450&fit=crop\"\n            ],\n            productsUsed: [],\n            featured: false,\n          },\n          {\n            title: \"Retail Store Lighting Design\",\n            description: \"Custom lighting design and installation for high-end retail boutique featuring track lighting systems, accent lighting, and energy-efficient display illumination.\",\n            category: \"Commercial\",\n            location: \"Yorkville, Toronto\",\n            completedDate: \"2024-08-12\",\n            clientType: \"Retail\",\n            imageUrls: [\n              \"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=800&h=450&fit=crop\"\n            ],\n            productsUsed: [],\n            featured: false,\n          }\n        ];\n\n        const projects = projectsData.map(project => new ProjectModel({\n          _id: randomUUID(),\n          ...project\n        }));\n\n        await ProjectModel.insertMany(projects);\n        console.log(\"âœ… Projects seeded\");\n      }\n\n      console.log(\"âœ… Database seeding completed\");\n    } catch (error) {\n      console.error(\"âŒ Error seeding database:\", error);\n    }\n  }\n\n  // Categories\n  async getCategories(): Promise<Category[]> {\n    const categories = await CategoryModel.find().lean();\n    // Map MongoDB _id to id field for consistency\n    return categories.map(category => ({\n      ...category,\n      id: category._id as string\n    })) as unknown as Category[];\n  }\n\n  async getCategoryBySlug(slug: string): Promise<Category | undefined> {\n    const category = await CategoryModel.findOne({ slug }).lean();\n    if (!category) return undefined;\n    // Map MongoDB _id to id field for consistency\n    return {\n      ...category,\n      id: category._id as string\n    } as unknown as Category;\n  }\n\n  async createCategory(category: InsertCategory): Promise<Category> {\n    const newCategory = new CategoryModel({\n      _id: randomUUID(),\n      ...category\n    });\n    const saved = await newCategory.save();\n    const categoryData = saved.toJSON();\n    // Map MongoDB _id to id field for consistency\n    return {\n      ...categoryData,\n      id: categoryData._id\n    } as Category;\n  }\n\n  // Products\n  async getProducts(categorySlug?: string): Promise<Product[]> {\n    const query = categorySlug && categorySlug !== 'undefined' ? { categorySlug } : {};\n    const products = await ProductModel.find(query).lean();\n    // Map MongoDB _id to id field for consistency\n    return products.map(product => ({\n      ...product,\n      id: product._id as string\n    })) as unknown as Product[];\n  }\n\n  async getProduct(id: string): Promise<Product | undefined> {\n    const product = await ProductModel.findOne({ _id: id }).lean();\n    if (!product) return undefined;\n    // Map MongoDB _id to id field for consistency\n    return {\n      ...product,\n      id: product._id as string\n    } as unknown as Product;\n  }\n\n  async createProduct(product: InsertProduct): Promise<Product> {\n    const newProduct = new ProductModel({\n      _id: randomUUID(),\n      ...product,\n      specifications: product.specifications || \"\", // Ensure specifications field is not undefined\n    });\n    const saved = await newProduct.save();\n    const productData = saved.toJSON();\n    // Map MongoDB _id to id field for consistency\n    return {\n      ...productData,\n      id: productData._id as string\n    } as unknown as Product;\n  }\n\n  async updateProduct(id: string, product: Partial<InsertProduct>): Promise<Product | undefined> {\n    const updated = await ProductModel.findOneAndUpdate(\n      { _id: id },\n      product,\n      { new: true }\n    ).lean();\n    if (!updated) return undefined;\n    // Map MongoDB _id to id field for consistency\n    return {\n      ...updated,\n      id: updated._id as string\n    } as unknown as Product;\n  }\n\n  async deleteProduct(id: string): Promise<boolean> {\n    const result = await ProductModel.deleteOne({ _id: id });\n    return result.deletedCount > 0;\n  }\n\n  // Contact Messages\n  async createContactMessage(message: InsertContactMessage): Promise<ContactMessage> {\n    const newMessage = new ContactMessageModel({\n      _id: randomUUID(),\n      firstName: message.firstName,\n      lastName: message.lastName,\n      email: message.email,\n      phone: message.phone,\n      message: message.message,\n      submittedAt: new Date().toISOString()\n    });\n    const saved = await newMessage.save();\n    const messageData = saved.toJSON();\n    // Map MongoDB _id to id field for consistency\n    return {\n      ...messageData,\n      id: messageData._id\n    } as ContactMessage;\n  }\n\n  async getContactMessages(): Promise<ContactMessage[]> {\n    const messages = await ContactMessageModel.find().sort({ submittedAt: -1 }).lean();\n    // Map MongoDB _id to id field for consistency\n    return messages.map(message => ({\n      ...message,\n      id: message._id\n    })) as ContactMessage[];\n  }\n\n  // Admin Users\n  async getAdminByUsername(username: string): Promise<AdminUser | undefined> {\n    const admin = await AdminUserModel.findOne({ username }).lean();\n    if (!admin) return undefined;\n    // Map MongoDB _id to id field for consistency\n    return {\n      ...admin,\n      id: admin._id\n    } as AdminUser;\n  }\n\n  async createAdminUser(admin: InsertAdminUser): Promise<AdminUser> {\n    const hashedPassword = await bcrypt.hash(admin.password, 10);\n    const newAdmin = new AdminUserModel({\n      _id: randomUUID(),\n      ...admin,\n      password: hashedPassword,\n      createdAt: new Date().toISOString()\n    });\n    const saved = await newAdmin.save();\n    const adminData = saved.toJSON();\n    // Map MongoDB _id to id field for consistency\n    return {\n      ...adminData,\n      id: adminData._id\n    } as AdminUser;\n  }\n\n  async verifyAdminPassword(username: string, password: string): Promise<boolean> {\n    const admin = await AdminUserModel.findOne({ username });\n    if (!admin) return false;\n    return await bcrypt.compare(password, admin.password);\n  }\n\n  async getAllAdmins(): Promise<AdminUser[]> {\n    const admins = await AdminUserModel.find().lean();\n    // Map MongoDB _id to id field for consistency\n    return admins.map(admin => ({\n      ...admin,\n      id: admin._id\n    })) as AdminUser[];\n  }\n\n  // Accessory methods\n  async getAccessories(): Promise<Accessory[]> {\n    const accessories = await AccessoryModel.find({}).lean();\n    return accessories.map(accessory => ({\n      ...accessory,\n      id: accessory._id as string\n    })) as unknown as Accessory[];\n  }\n\n  async getAccessory(id: string): Promise<Accessory | undefined> {\n    const accessory = await AccessoryModel.findOne({ _id: id }).lean();\n    if (!accessory) return undefined;\n    return {\n      ...accessory,\n      id: accessory._id as string\n    } as unknown as Accessory;\n  }\n\n  async createAccessory(accessoryData: InsertAccessory): Promise<Accessory> {\n    const accessory = new AccessoryModel({\n      _id: randomUUID(),\n      ...accessoryData,\n      createdAt: new Date().toISOString(),\n    });\n    const saved = await accessory.save();\n    const savedData = saved.toJSON();\n    return {\n      ...savedData,\n      id: savedData._id as string\n    } as unknown as Accessory;\n  }\n\n  async updateAccessory(id: string, accessoryData: Partial<InsertAccessory>): Promise<Accessory | undefined> {\n    const updated = await AccessoryModel.findOneAndUpdate(\n      { _id: id },\n      accessoryData,\n      { new: true }\n    ).lean();\n    if (!updated) return undefined;\n    return {\n      ...updated,\n      id: updated._id as string\n    } as unknown as Accessory;\n  }\n\n  async deleteAccessory(id: string): Promise<boolean> {\n    const result = await AccessoryModel.deleteOne({ _id: id });\n    return result.deletedCount > 0;\n  }\n\n  // Project methods\n  async getProjects(): Promise<any[]> {\n    const projects = await ProjectModel.find({}).sort({ featured: -1, createdAt: -1 });\n    return projects.map(project => project.toJSON());\n  }\n\n  async getProject(id: string): Promise<any> {\n    const project = await ProjectModel.findOne({ _id: id });\n    return project ? project.toJSON() : undefined;\n  }\n\n  async createProject(projectData: any): Promise<any> {\n    const project = new ProjectModel({\n      _id: randomUUID(),\n      ...projectData,\n      primaryMediaUrl: projectData.primaryMediaUrl || null,\n      additionalMediaUrls: projectData.additionalMediaUrls || [],\n      imageUrls: projectData.imageUrls || [], // Legacy field for backward compatibility\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    });\n    const saved = await project.save();\n    return saved.toJSON();\n  }\n\n  async updateProject(id: string, projectData: any): Promise<any> {\n    const updateData = {\n      ...projectData,\n      primaryMediaUrl: projectData.primaryMediaUrl || null,\n      additionalMediaUrls: projectData.additionalMediaUrls || [],\n      imageUrls: projectData.imageUrls || [], // Legacy field for backward compatibility\n      updatedAt: new Date()\n    };\n    \n    const updated = await ProjectModel.findOneAndUpdate(\n      { _id: id },\n      updateData,\n      { new: true }\n    );\n    return updated ? updated.toJSON() : undefined;\n  }\n\n  async deleteProject(id: string): Promise<boolean> {\n    const result = await ProjectModel.deleteOne({ _id: id });\n    return result.deletedCount > 0;\n  }\n\n\n}","size_bytes":40806},"server/sampleData.ts":{"content":"export const sampleProducts = [\n  {\n    name: \"LED Strip Light Kit - 16.4ft\",\n    description: \"Professional-grade LED strip lighting with remote control and power adapter. Perfect for under-cabinet, accent, and decorative lighting applications.\",\n    categorySlug: \"light\",\n    brand: \"Philips\",\n    imageUrl: \"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=800\",\n    imageUrls: [\n      \"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=800\",\n      \"https://images.unsplash.com/photo-1513506003901-1e6a229e2d15?w=800\"\n    ],\n    specificationList: [\n      \"Length: 16.4 feet (5 meters)\",\n      \"LED Count: 300 LEDs\", \n      \"Color Temperature: 3000K Warm White\",\n      \"Voltage: 12V DC\",\n      \"Power Consumption: 24W\",\n      \"Waterproof Rating: IP65\"\n    ],\n    accessories: [],\n    similarProducts: [],\n    inStock: true,\n    featured: true\n  },\n  {\n    name: \"Motion Sensor Switch - PIR\",\n    description: \"Automatic motion sensor switch for indoor and outdoor lighting. Energy-efficient with adjustable sensitivity and timer settings.\",\n    categorySlug: \"light\",\n    brand: \"Leviton\",\n    imageUrl: \"https://images.unsplash.com/photo-1621905251918-48416bd8575a?w=800\",\n    imageUrls: [\n      \"https://images.unsplash.com/photo-1621905251918-48416bd8575a?w=800\",\n      \"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=800\"\n    ],\n    specificationList: [\n      \"Detection Range: 180Â° field of view\",\n      \"Distance: Up to 40 feet\",\n      \"Timer Settings: 30 seconds to 15 minutes\", \n      \"Load Capacity: 500W incandescent, 150W LED\",\n      \"Installation: Standard wall switch box\",\n      \"Operating Temperature: -20Â°C to 50Â°C\"\n    ],\n    accessories: [],\n    similarProducts: [],\n    inStock: true,\n    featured: true\n  },\n  {\n    name: \"Wire Management System Kit\",\n    description: \"Complete cable management solution including conduits, junction boxes, and mounting hardware for clean electrical installations.\",\n    categorySlug: \"construction\",\n    brand: \"Arlington\",\n    imageUrl: \"https://images.unsplash.com/photo-1621905251918-48416bd8575a?w=800\",\n    imageUrls: [\n      \"https://images.unsplash.com/photo-1621905251918-48416bd8575a?w=800\"\n    ],\n    specificationList: [\n      \"Conduit Size: 1/2 inch to 1 inch diameter\",\n      \"Material: High-grade PVC\",\n      \"Junction Boxes: 4 included\",\n      \"Mounting Hardware: Complete screw set\", \n      \"Length: 10 feet total conduit\",\n      \"Bend Radius: Flexible design\"\n    ],\n    accessories: [],\n    similarProducts: [],\n    inStock: true,\n    featured: true\n  },\n  {\n    name: \"Smart Dimmer Switch\",\n    description: \"WiFi-enabled smart dimmer switch compatible with Alexa and Google Home. App control and voice activation supported.\",\n    categorySlug: \"light\",\n    brand: \"Lutron\",\n    imageUrl: \"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=800\",\n    imageUrls: [\n      \"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=800\"\n    ],\n    specificationList: [\n      \"Compatibility: LED, CFL, Incandescent\",\n      \"Load Rating: 150W LED, 600W Incandescent\",\n      \"Connectivity: 2.4GHz WiFi\",\n      \"Voice Control: Alexa, Google Assistant\",\n      \"App: iOS and Android compatible\", \n      \"Installation: Standard wall box, neutral required\"\n    ],\n    accessories: [],\n    similarProducts: [],\n    inStock: true,\n    featured: false\n  },\n  {\n    name: \"Recessed LED Downlight - 6 inch\",\n    description: \"Energy-efficient 6-inch recessed LED downlight with adjustable color temperature and dimming capability.\",\n    categorySlug: \"pot-light\",\n    brand: \"Cree\",\n    imageUrl: \"https://images.unsplash.com/photo-1513506003901-1e6a229e2d15?w=800\",\n    imageUrls: [\n      \"https://images.unsplash.com/photo-1513506003901-1e6a229e2d15?w=800\"\n    ],\n    specificationList: [\n      \"Diameter: 6 inches\",\n      \"Wattage: 15W\",\n      \"Lumens: 1000 lm\",\n      \"Color Temperature: 2700K-5000K adjustable\",\n      \"Dimming: 0-10V compatible\",\n      \"Lifespan: 50,000 hours\"\n    ],\n    accessories: [],\n    similarProducts: [],\n    inStock: true,\n    featured: false\n  },\n  {\n    name: \"GFCI Outlet - 15A\",\n    description: \"Ground Fault Circuit Interrupter outlet for bathroom, kitchen, and outdoor applications. Meets all safety codes.\",\n    categorySlug: \"plastic-box\",\n    brand: \"Hubbell\",\n    imageUrl: \"https://images.unsplash.com/photo-1621905251918-48416bd8575a?w=800\",\n    imageUrls: [\n      \"https://images.unsplash.com/photo-1621905251918-48416bd8575a?w=800\"\n    ],\n    specificationList: [\n      \"Amperage: 15A, 125V\", \n      \"GFCI Protection: 5mA trip threshold\",\n      \"Test/Reset: Built-in buttons\",\n      \"Weather Resistance: Outdoor rated\",\n      \"Wiring: Back and side terminals\",\n      \"Compliance: UL Listed, NEC compliant\"\n    ],\n    accessories: [],\n    similarProducts: [],\n    inStock: true,\n    featured: false\n  }\n];\n\nexport const sampleAccessories = [\n  {\n    name: \"Wire Nuts Assortment\",\n    modelNumber: \"WN-100\",\n    description: \"Professional wire connector kit with various sizes for different gauge wires\",\n    imageUrl: \"https://images.unsplash.com/photo-1621905251918-48416bd8575a?w=800\",\n    imageUrls: [\n      \"https://images.unsplash.com/photo-1621905251918-48416bd8575a?w=800\"\n    ],\n    brand: \"Ideal\",\n    compatibleWith: [\"construction\", \"light\", \"plastic-box\", \"metal-box\"]\n  },\n  {\n    name: \"Electrical Tape Set\",\n    modelNumber: \"ET-200\",\n    description: \"High-quality electrical tape in multiple colors for wire marking and insulation\",\n    imageUrl: \"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=800\",\n    imageUrls: [\n      \"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=800\"\n    ],\n    brand: \"3M\",\n    compatibleWith: [\"construction\", \"light\", \"plastic-box\", \"metal-box\", \"gi-wire\"]\n  },\n  {\n    name: \"Junction Box Cover Plates\",\n    modelNumber: \"JB-CP-4\",\n    description: \"Standard cover plates for electrical junction boxes in various configurations\",\n    imageUrl: \"https://images.unsplash.com/photo-1513506003901-1e6a229e2d15?w=800\",\n    imageUrls: [\n      \"https://images.unsplash.com/photo-1513506003901-1e6a229e2d15?w=800\"\n    ],\n    brand: \"Leviton\",\n    compatibleWith: [\"plastic-box\", \"metal-box\", \"octagonal-box\"]\n  },\n  {\n    name: \"LED Driver Module\",\n    modelNumber: \"LD-24V-60W\",\n    description: \"Constant voltage LED driver for strip lights and LED modules\",\n    imageUrl: \"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=800\",\n    imageUrls: [\n      \"https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=800\"\n    ],\n    brand: \"Mean Well\",\n    compatibleWith: [\"light\", \"pot-light\", \"puck-light\", \"driver\"]\n  },\n  {\n    name: \"Smoke Detector Battery\",\n    modelNumber: \"9V-ALK\",\n    description: \"Long-lasting alkaline battery specifically designed for smoke detectors\",\n    imageUrl: \"https://images.unsplash.com/photo-1621905251918-48416bd8575a?w=800\",\n    imageUrls: [\n      \"https://images.unsplash.com/photo-1621905251918-48416bd8575a?w=800\"\n    ],\n    brand: \"Duracell\",\n    compatibleWith: [\"smoke-alarm\"]\n  }\n];\n\nexport const sampleProjects = [\n  {\n    title: \"Modern Office Building Renovation\",\n    description: \"Complete electrical upgrade for a 5-story office building including LED lighting conversion, smart switches, and emergency systems. This project involved replacing all fluorescent fixtures with energy-efficient LED panels and installing a comprehensive building automation system.\",\n    category: \"Commercial\",\n    location: \"Downtown Toronto, ON\",\n    primaryMediaUrl: \"https://images.unsplash.com/photo-1497366216548-37526070297c?w=1200\",\n    additionalMediaUrls: [\n      \"https://images.unsplash.com/photo-1497366811353-6870744d04b2?w=800\",\n      \"https://images.unsplash.com/photo-1497366412874-3415097a27e7?w=800\"\n    ],\n    completedDate: \"2024-03-15\",\n    clientType: \"Commercial\",\n    productsUsed: [],\n    featured: true\n  },\n  {\n    title: \"Luxury Home Smart Lighting\",\n    description: \"Installation of comprehensive smart home lighting system with automated controls, dimming, and voice activation throughout a 4,000 sq ft residence. Features include scene control, energy monitoring, and integration with home security systems.\",\n    category: \"Residential\",\n    location: \"Oakville, ON\",\n    primaryMediaUrl: \"https://images.unsplash.com/photo-1493809842364-78817add7ffb?w=1200\",\n    additionalMediaUrls: [\n      \"https://images.unsplash.com/photo-1493809842364-78817add7ffb?w=800\",\n      \"https://images.unsplash.com/photo-1484154218962-a197022b5858?w=800\"\n    ],\n    completedDate: \"2024-02-28\",\n    clientType: \"Residential\",\n    productsUsed: [],\n    featured: true\n  },\n  {\n    title: \"Industrial Warehouse Lighting Upgrade\",\n    description: \"High-bay LED lighting installation for a 50,000 sq ft warehouse facility. Improved lighting levels by 300% while reducing energy consumption by 60%. Includes motion sensors and daylight harvesting controls.\",\n    category: \"Industrial\",\n    location: \"Mississauga, ON\",\n    primaryMediaUrl: \"https://images.unsplash.com/photo-1554412933-514a83d2f3c8?w=1200\",\n    additionalMediaUrls: [\n      \"https://images.unsplash.com/photo-1554412933-514a83d2f3c8?w=800\"\n    ],\n    completedDate: \"2024-01-20\",\n    clientType: \"Industrial\",\n    productsUsed: [],\n    featured: false\n  },\n  {\n    title: \"Restaurant Kitchen Electrical\",\n    description: \"Complete electrical system for a new restaurant kitchen including specialized outlets for commercial equipment, exhaust fan controls, and emergency lighting. All installations meet commercial kitchen safety standards.\",\n    category: \"Commercial\",\n    location: \"King Street West, Toronto\",\n    primaryMediaUrl: \"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=1200\",\n    additionalMediaUrls: [\n      \"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=800\"\n    ],\n    completedDate: \"2023-12-10\",\n    clientType: \"Commercial\",\n    productsUsed: [],\n    featured: false\n  }\n];","size_bytes":9967}},"version":1}